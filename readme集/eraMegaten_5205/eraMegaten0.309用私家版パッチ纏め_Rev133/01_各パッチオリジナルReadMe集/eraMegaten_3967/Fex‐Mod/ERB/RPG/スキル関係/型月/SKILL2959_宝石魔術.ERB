;通常攻撃
;スキルのテンプレートになっています

;スキル名
@SKILL_NAME_2959,ARG
RESULTS = 宝石魔術

;　命中
@SKILL_HITRATE_2959, ARG
RETURN 100

;　威力
@SKILL_POWER_2959, ARG
RETURN 0

;　最低攻撃回数
@SKILL_MINATTACKNUMBER_2959,ARG
RETURN 1

;　最大攻撃回数
@SKILL_MAXATTACKNUMBER_2959,ARG
RETURN 1

;　ＨＰ2を支払うかＭＰ3を支払うか
@SKILL_COSTTYPE_2959, ARG
RETURN 3
;消費なし＝1

;　コストの量
@SKILL_COST_2959,ARG
RETURN 10

;　相性
@SKILL_TYPE_2959,ARG
RETURN 0

;　1EXTRAか2MAGICか
@SKILL_DECIDE_TYPE_2959
RETURN 1
;特技

;　1物理ダメージで計算するか2魔法ダメージで計算するか
@SKILL_DAMAGETYPE_2959
RETURN 0


;　対象が1敵か2味方か3場全体か4特殊か
@SKILL_TARGET_2959
RETURN 4

;　射程
@SKILL_RANGE_2959,ARG
RETURN 1

;　範囲　1単体　21列　3全体　4　敵味方全体
@SKILL_SPHERE_2959,ARG
RETURN 4

;　 効果のタイプ　1攻撃、2回復、3状態変化、4特殊、5状態回復
@SKILL_EFECT_2959
RETURN 4

;　 特殊処理の有無、及び処理内容
@SKILL_SPECIALEFECT_2959,ARG
;ARG = 1だった場合は処理の有無を返します
SIF ARG == 1
	RETURN 0
;以下に特殊な処理を記述します

;継承タイプ
@SKILL_SUCCESSION_TYPE_2959
RETURN 23

;速度補正
@SKILL_SPEED_2959, ARG = -1
RETURN 0

;　口上の表示とそのタイプ
@SKILL_MESSAGE_2959,ARG

;戦闘時以外に使用できるか
@SKILL_ACTIONABLE_FIELD_2959
RETURN 0

;スキル変化？用ランク
@SKILL_RANK_2959
RETURN 23

@継承不能_2959
RETURN 1

;テンプレート用、追加効果シリーズ
;追加効果ステータス
@SKILL_ADDTIONAL_STATE_2959,ARG
RETURN 0

;追加効果相性
@SKILL_ADDTIONAL_TYPE_2959,ARG
RETURN 0

;追加効果基本付与確率
@SKILL_ADDTIONAL_BASE_RATE_2959,ARG
RETURN 0

;追加効果付与確率上限
@SKILL_ADDTIONAL_MAX_RATE_2959,ARG
RETURN 0

;====================================================
;スキル及び行動の実行
;====================================================
@ACTION_2959,ARG,ARG:1
IF CFLAG:ARG:PTフラグ > 0
	IF ITEM:274 > 0
		PRINTFORMW %CALLNAME:ARG%はガーネットを砕いて魔力を開放した！
		ITEM:274 -= 1
	ELSEIF ITEM:275 > 0
		PRINTFORMW %CALLNAME:ARG%はアメジストを砕いて魔力を開放した！
		ITEM:275 -= 1
	ELSEIF ITEM:276 > 0
		PRINTFORMW %CALLNAME:ARG%はアクアマリンを砕いて魔力を開放した！
		ITEM:276 -= 1
	ELSEIF ITEM:277 > 0
		PRINTFORMW %CALLNAME:ARG%はダイヤモンドを砕いて魔力を開放した！
		ITEM:277 -= 1
	ELSEIF ITEM:278 > 0
		PRINTFORMW %CALLNAME:ARG%はエメラルドを砕いて魔力を開放した！
		ITEM:278 -= 1
	ELSEIF ITEM:279 > 0
		PRINTFORMW %CALLNAME:ARG%はパールを砕いて魔力を開放した！
		ITEM:279 -= 1
	ELSEIF ITEM:280 > 0
		PRINTFORMW %CALLNAME:ARG%はルビーを砕いて魔力を開放した！
		ITEM:280 -= 1
	ELSEIF ITEM:281 > 0
		PRINTFORMW %CALLNAME:ARG%はオニキスを砕いて魔力を開放した！
		ITEM:281 -= 1
	ELSEIF ITEM:282 > 0
		PRINTFORMW %CALLNAME:ARG%はサファイアを砕いて魔力を開放した！
		ITEM:282 -= 1
	ELSEIF ITEM:283 > 0
		PRINTFORMW %CALLNAME:ARG%はオパールを砕いて魔力を開放した！
		ITEM:283 -= 1
	ELSEIF ITEM:284 > 0
		PRINTFORMW %CALLNAME:ARG%はトパーズを砕いて魔力を開放した！
		ITEM:284 -= 1
	ELSEIF ITEM:285 > 0
		PRINTFORMW %CALLNAME:ARG%はターコイズを砕いて魔力を開放した！
		ITEM:285 -= 1
	ENDIF
ENDIF

CFLAG:ARG:集中フラグ = 1
CFLAG:ARG:魔法威力強化 = MIN(32, CFLAG:ARG:魔法威力強化 + 16)
PRINTFORMW %CALLNAME:ARG%は次の攻撃に備えて集中している！






;====================================================
;実行内容ここまで
;====================================================

;====================================================
;戦闘中以外での実行
;====================================================


;====================================================
;実行内容ここまで
;====================================================


;　 説明文の表示
@SKILL_EXPLAIN_2959
PRINTL 宝石一つを破壊し、次に行う魔法攻撃の威力を拡大する。

;継承に必要な部位
@継承部位_2959,ARG
RETURN 1

;使用条件
@SKILL_SPECIAL_ACTIONABLE_2959,ARG
SIF CFLAG:ARG:PTフラグ == 0
	RETURN 1
SIF ITEM:274 < 1 && ITEM:275 < 1 && ITEM:276 < 1 && ITEM:277 < 1 && ITEM:278 < 1 && ITEM:279 < 1 && ITEM:280 < 1 && ITEM:281 < 1 && ITEM:282 < 1 && ITEM:283 < 1 && ITEM:284 < 1 && ITEM:285 < 1
	RETURN 0
RETURN 1
;アイテムの個数チェック


