;ARGを３桁ごとにコンマをいれてSTR化する関数
;MAGなんかはけっこうな桁数いったりするのでこれで表示したほうがわかりやすいきがします
;例 1000→1,000
;	10000000→10,000,000
@TOSTR1000, ARG
#FUNCTIONS
#LOCALSIZE 1
#LOCALSSIZE 1
LOCALS = 
FOR LOCAL, STRLENS(TOSTR(ARG)) + 3 - STRLENS(TOSTR(ARG)) % 3, 0, -1
	SIF STRLENS(TOSTR(ARG)) < LOCAL
		CONTINUE
	LOCALS += @"{ARG % POWER(10, LOCAL) / POWER(10, LOCAL-1)}"
	SIF LOCAL % 3 == 1 && LOCAL > 1
		LOCALS += ","
NEXT
RETURNF LOCALS
