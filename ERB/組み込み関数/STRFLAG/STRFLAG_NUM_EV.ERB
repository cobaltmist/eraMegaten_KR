;-------------------------------------------------
;@STRFLAG_NUM_EV(ARGS, ARGS:1, ARG, ARG:1, ARG:2)　STRFLAG数値管理関数
;-------------------------------------------------
@STRFLAG_NUM_EV(ARGS, ARGS:1, ARG, ARG:1, ARG:2 = -1)
#FUNCTION
#LOCALSIZE 2
ARG:2 = ARG:2 != -1 ? ARG:2 # FLAG:進行中이벤트
SIF ARG:2 < 0 || ARG:2 > 99
	THROW "이벤트 넘버가 이상합니다"
;사용するSAVESTRの配列にあわせる
ARG:2 += 200
LOCAL = 0
VARSET RESULTS
SPLIT SAVESTR:(ARG:2), "|", RESULTS
FOR LOCAL:1, 0, RESULT + 1
	IF RESULTS:(LOCAL:1) == ARGS
		LOCAL = TOINT(RESULTS:(LOCAL:1 + 1))
		BREAK
	ENDIF
NEXT
IF ARGS:1 == "="
	SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, ARG:1)%
	RETURNF 1
ELSEIF ARGS:1 == "+="
	SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, LOCAL + ARG:1)%
	RETURNF 1
ELSEIF ARGS:1 == "-="
	SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, LOCAL - ARG:1)%
	RETURNF 1
ELSEIF ARGS:1 == "=="
	IF LOCAL == ARG
		SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, ARG:1)%
		RETURNF 1
	ENDIF
	RETURNF 0
ELSEIF ARGS:1 == ">"
	IF LOCAL > ARG
		SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, ARG:1)%
		RETURNF 1
	ENDIF
	RETURNF 0
ELSEIF ARGS:1 == ">="
	IF LOCAL >= ARG
		SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, ARG:1)%
		RETURNF 1
	ENDIF
	RETURNF 0
ELSEIF ARGS:1 == "<"
	IF LOCAL < ARG
		SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, ARG:1)%
		RETURNF 1
	ENDIF
	RETURNF 0
ELSEIF ARGS:1 == "<="
	IF LOCAL <= ARG
		SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, ARG:1)%
		RETURNF 1
	ENDIF
	RETURNF 0
ELSEIF ARGS:1 == "!="
	IF LOCAL != ARG
		SAVESTR:(ARG:2) = %CHANGE_STRFLAG_NUM(SAVESTR:(ARG:2), ARGS, ARG:1)%
		RETURNF 1
	ENDIF
	RETURNF 0
ELSE
	RETURNF LOCAL
ENDIF
