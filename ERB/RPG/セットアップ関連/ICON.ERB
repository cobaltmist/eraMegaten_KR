;KR판 추가수정용 함수, 오니화상 출력부를 종족별 범용화상 출력으로 변경하는 함수
;전투시 셋업화상 출력용
;==================================
;종족アイコンの描画
;==================================
;ARG 캐릭터 번호
;ARG:1 행수
;ARG:2 ポジション
;ARG:3 画像サイズ(1で大、0で小)
@RACE_ICON,ARG,ARG:1,ARG:2,ARG:3
#DIMS CHARA_RACE

;KR판 임의수정, 범용 화상 성별 구분 개조 일판 호환성 조절
;1 지모신
IF CSVABL(ARG,80) == 1
	CHARA_RACE = 地母神
;2 여신
ELSEIF CSVABL(ARG,80) == 2
	CHARA_RACE = 女神
;3 마왕
ELSEIF CSVABL(ARG,80) == 3
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 魔王
	ELSE
		SPRITECREATED @"魔王男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 魔王男
		ELSE
			CHARA_RACE = 魔王
		ENDIF
	ENDIF
;4 천사
ELSEIF CSVABL(ARG,80) == 4
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 天使
	ELSE
		SPRITECREATED @"天使男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 天使男
		ELSE
			CHARA_RACE = 天使
		ENDIF
	ENDIF
;5 요마
ELSEIF CSVABL(ARG,80) == 5
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 妖魔
	; ELSEIF CSVCSTR(ARG,20) == "환마" || CSVCSTR(ARG,20) == "幻魔"
	; 	CHARA_RACE = 환마남
	ELSE
		SPRITECREATED @"妖魔男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 妖魔男
		ELSE
			CHARA_RACE = 妖魔
		ENDIF
	ENDIF
;6 요정
ELSEIF CSVABL(ARG,80) == 6
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 妖精
	ELSE
		SPRITECREATED @"妖精男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 妖精男
		ELSE
			CHARA_RACE = 妖精
		ENDIF
	ENDIF
;7 요귀
ELSEIF CSVABL(ARG,80) == 7
	;IF CSVCSTR(ARG,20) == "귀녀" || CSVCSTR(ARG,20) == "鬼女"
	;	CHARA_RACE = 귀녀
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 妖鬼
	ELSE
		SPRITECREATED @"妖鬼男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 妖鬼男
		ELSE
			CHARA_RACE = 妖鬼
		ENDIF
	ENDIF
;8 용왕
ELSEIF CSVABL(ARG,80) == 8
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 龍王
	ELSE
		SPRITECREATED @"龍王男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 龍王男
		ELSE
			CHARA_RACE = 龍王
		ENDIF
	ENDIF
;9 마수
ELSEIF CSVABL(ARG,80) == 9
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 魔獣
	ELSE
		SPRITECREATED @"魔獣男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 魔獣男
		ELSE
			CHARA_RACE = 魔獣
		ENDIF
	ENDIF
;10 요조
ELSEIF CSVABL(ARG,80) == 10
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 妖鳥
	ELSE
		SPRITECREATED @"妖鳥男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 妖鳥男
		ELSE
			CHARA_RACE = 妖鳥
		ENDIF
	ENDIF
;11 외도
ELSEIF CSVABL(ARG,80) == 11
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 外道
	ELSE
		SPRITECREATED @"外道男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 外道男
		ELSE
			CHARA_RACE = 外道
		ENDIF
	ENDIF
;12 머신
ELSEIF CSVABL(ARG,80) == 12
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = マシン
	ELSE
		SPRITECREATED @"マシン男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = マシン男
		ELSE
			CHARA_RACE = マシン
		ENDIF
	ENDIF
;13 정령
ELSEIF CSVABL(ARG,80) == 13
	CHARA_RACE = 精霊
;14 어령
ELSEIF CSVABL(ARG,80) == 14
	CHARA_RACE = 御霊
;15 귀신
ELSEIF CSVABL(ARG,80) == 15
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 鬼神
	ELSE
		SPRITECREATED @"鬼神男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 鬼神男
		ELSE
			CHARA_RACE = 鬼神
		ENDIF
	ENDIF
;16 마신
ELSEIF CSVABL(ARG,80) == 16
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 魔神
	ELSE
		SPRITECREATED @"魔神男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 魔神男
		ELSE
			CHARA_RACE = 魔神
		ENDIF
	ENDIF
;17 사신
ELSEIF CSVABL(ARG,80) == 17
	CHARA_RACE = 邪神
;18 사신
ELSEIF CSVABL(ARG,80) == 18
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 堕天使
	ELSE
		SPRITECREATED @"堕天使男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 堕天使男
		ELSE
			CHARA_RACE = 堕天使
		ENDIF
	ENDIF
;30 칠성
ELSEIF CSVABL(ARG,80) == 30
	CHARA_RACE = 七星
;31 광인
ELSEIF CSVABL(ARG,80) == 31
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 狂人
	ELSE
		SPRITECREATED @"狂人男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 狂人男
		ELSE
			CHARA_RACE = 狂人
		ENDIF
	ENDIF
;32 괴이
ELSEIF CSVABL(ARG,80) == 32
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 怪異
	ELSE
		SPRITECREATED @"怪異男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 怪異男
		ELSE
			CHARA_RACE = 怪異
		ENDIF
	ENDIF
;36 반마인
ELSEIF CSVABL(ARG,80) == 36
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 半魔人
	ELSE
		SPRITECREATED @"半魔人男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 半魔人男
		ELSE
			CHARA_RACE = 半魔人
		ENDIF
	ENDIF
;42 마인
ELSEIF CSVABL(ARG,80) == 42
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 魔人
	ELSE
		SPRITECREATED @"魔人男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 魔人男
		ELSE
			CHARA_RACE = 魔人
		ENDIF
	ENDIF
;43 초인
ELSEIF CSVABL(ARG,80) == 43
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 超人
	ELSE
		SPRITECREATED @"超人男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 超人男
		ELSE
			CHARA_RACE = 超人
		ENDIF
	ENDIF
;44 영웅
ELSEIF CSVABL(ARG,80) == 44
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 英雄
	ELSE
		SPRITECREATED @"英雄男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 英雄男
		ELSE
			CHARA_RACE = 英雄
		ENDIF
	ENDIF
;45 조마
ELSEIF CSVABL(ARG,80) == 45
	CHARA_RACE = 造魔
;0 페르소나 구사자
ELSEIF TALENT:(ARG:2):페르소나구사자
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = ペルソナ使い
	ELSE
		SPRITECREATED @"ペルソナ使い男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = ペルソナ使い男
		ELSE
			CHARA_RACE = ペルソナ使い
		ENDIF
	ENDIF
;0 인간
ELSE
	IF TALENT:(ARG:2):남자 == 0
		CHARA_RACE = 人間
	ELSE
		SPRITECREATED @"人間男_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
		IF RESULT
			CHARA_RACE = 人間男
		ELSE
			CHARA_RACE = 人間
		ENDIF
	ENDIF
ENDIF
	
; IF FLAG:상성等表示ON >= 1 && ARG:3 == 1
; 	; PRINT_IMG @"%CHARA_RACE%b_%TOSTR(ARG:1)%_1"
; 	; PRINT_IMG @"%CHARA_RACE%b_%TOSTR(ARG:1)%_2"
; 	; PRINT_IMG @"%CHARA_RACE%b_%TOSTR(ARG:1)%_3"
; 	; PRINT_IMG @"%CHARA_RACE%b_%TOSTR(ARG:1)%_4"
; 	; PRINT_IMG @"%CHARA_RACE%b_%TOSTR(ARG:1)%_5"
; 	; PRINT_IMG @"%CHARA_RACE%b_%TOSTR(ARG:1)%_6"
; 	PRINT_IMG @"%CHARA_RACE%_1_%TOSTR(ARG:1)%"	
; ELSE
; 	; PRINT_IMG @"%CHARA_RACE%_%TOSTR(ARG:1)%_1"
; 	; PRINT_IMG @"%CHARA_RACE%_%TOSTR(ARG:1)%_2"
; 	; PRINT_IMG @"%CHARA_RACE%_%TOSTR(ARG:1)%_3"
; 	; PRINT_IMG @"%CHARA_RACE%_%TOSTR(ARG:1)%_4"
; 	PRINT_IMG @"%CHARA_RACE%_0_%TOSTR(ARG:1)%"
; ENDIF
SPRITECREATED @"%CHARA_RACE%_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
IF RESULT
	PRINT_IMG @"%CHARA_RACE%_%TOSTR(ARG:3)%_%TOSTR(ARG:1)%"
ELSE
	IF ARG:3 % 2 == 0
		PRINT_RECT 400
	ELSE
		PRINT_RECT 600
	ENDIF
ENDIF

;==================================
;오니マークの描画
;==================================
;ARG 포지션
;ARG:1 行数
;ARG:2 画像サイズ(1で大、0で小)
@ONI_MARK,ARG,ARG:1,ARG:2
#DIMS CHARA_CONDITION

IF CFLAG:(ARG):상태이상 == 0
	IF BASE:ARG:ＨＰ < MAXBASE:ARG:ＨＰ / 4
		CHARA_CONDITION = 危険
	ELSEIF BASE:ARG:ＨＰ < MAXBASE:ARG:ＨＰ / 2
		CHARA_CONDITION = 負傷
	ELSE
		CHARA_CONDITION = 正常
	ENDIF
ELSE
	SELECTCASE GET_STATE(CFLAG:(ARG:0):상태이상)
		CASE "SHOCK"
			CHARA_CONDITION = SHOCK
		CASE "SLEEP"
			CHARA_CONDITION = SLEEP
		CASE "CLOSE"
			CHARA_CONDITION = CLOSE
		CASE "POISON"
			CHARA_CONDITION = POISON
		CASE "BOMB"
			CHARA_CONDITION = BOMB
		CASE "CHARM"
			CHARA_CONDITION = CHARM
		CASE "PALYZE"
			CHARA_CONDITION = PALYZE
		CASE "DYING"
			CHARA_CONDITION = DYING
		CASE "FLAME"
			CHARA_CONDITION = FLAME
		CASE "SLIP"
			CHARA_CONDITION = SLIP
		CASE "BIND"
			CHARA_CONDITION = BIND
		CASE "BRAND"
			CHARA_CONDITION = BRAND
		CASE "CURSE"
			CHARA_CONDITION = CURSE
		CASE "FLY"
			CHARA_CONDITION = FLY
		CASE "FREEZE"
			CHARA_CONDITION = FREEZE
		CASE "HEAT"
			CHARA_CONDITION = HEAT
		CASE "ORGY"
			CHARA_CONDITION = ORGY
		CASE "PANIC"
			CHARA_CONDITION = PANIC
		CASE "STONE"
			CHARA_CONDITION = STONE
		CASE "HAPPY"
			CHARA_CONDITION = HAPPY
		CASEELSE
			;未対応のバステ
			CHARA_CONDITION = バステ汎用
	ENDSELECT
ENDIF

; IF FLAG:상성등표시ON >= 1 && ARG:2 == 1
; 	; PRINT_IMG @"%CHARA_CONDITION%b_%TOSTR(ARG:1)%_1"
; 	; PRINT_IMG @"%CHARA_CONDITION%b_%TOSTR(ARG:1)%_2"
; 	; PRINT_IMG @"%CHARA_CONDITION%b_%TOSTR(ARG:1)%_3"
; 	; PRINT_IMG @"%CHARA_CONDITION%b_%TOSTR(ARG:1)%_4"
; 	; PRINT_IMG @"%CHARA_CONDITION%b_%TOSTR(ARG:1)%_5"
; 	; PRINT_IMG @"%CHARA_CONDITION%b_%TOSTR(ARG:1)%_6"
; 	PRINT_IMG @"%CHARA_CONDITION%_1_%TOSTR(ARG:1)%"
; ELSE
; 	; PRINT_IMG @"%CHARA_CONDITION%_%TOSTR(ARG:1)%_1"
; 	; PRINT_IMG @"%CHARA_CONDITION%_%TOSTR(ARG:1)%_2"
; 	; PRINT_IMG @"%CHARA_CONDITION%_%TOSTR(ARG:1)%_3"
; 	; PRINT_IMG @"%CHARA_CONDITION%_%TOSTR(ARG:1)%_4"
; 	PRINT_IMG @"%CHARA_CONDITION%_0_%TOSTR(ARG:1)%"
; ENDIF
PRINT_IMG @"%CHARA_CONDITION%_%TOSTR(ARG:2)%_%TOSTR(ARG:1)%"