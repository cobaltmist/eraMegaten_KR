@페르소나구사자전투스테이터스강화패치, ARG
;페르소나の전투스테이터스のLV/400をキャラクターの스테이터스に추가
;ARG	스테이터스の대상のキャラ引数
;LOCAL	장비中の페르소나もしくは초기페르소나を参照する値

	;장비페르소나が0のときは초기페르소나のときだがそのまま0だと参照できないのでCFLAGからNO.を引っ張る
	IF EQUIP:ARG:장비페르소나
		LOCAL = EQUIP:ARG:장비페르소나
	ELSE
		LOCAL = CFLAG:ARG:초기페르소나넘버
	ENDIF
	;2020/08/20　 FLAG:페르소나구사자추가스텟설정を試験的に実装
	IF EQUIP:ARG:장비페르소나 == 0 || FLAG:페르소나구사자추가스텟설정
	;초기페르소나のとき現在스테이터스から計算された전투스테이터스のLV/400
		;공격	
		BASE:ARG:(GET_BATTLESTATUS(0)) += (DITEMTYPE:LOCAL:(페르소나("LV"))*2+DITEMTYPE:LOCAL:(페르소나("힘"))*5/2+DITEMTYPE:LOCAL:(페르소나("인내력"))) * MAX(DITEMTYPE:LOCAL:(페르소나("LV")),60)/400
		;명중
		BASE:ARG:(GET_BATTLESTATUS(1)) += (DITEMTYPE:LOCAL:(페르소나("LV"))*2+DITEMTYPE:LOCAL:(페르소나("속도"))*5/2+DITEMTYPE:LOCAL:(페르소나("운"))) * MAX(DITEMTYPE:LOCAL:(페르소나("LV")),60)/400
		;방어
		BASE:ARG:(GET_BATTLESTATUS(2)) += (DITEMTYPE:LOCAL:(페르소나("LV"))*2+DITEMTYPE:LOCAL:(페르소나("인내력"))*3+DITEMTYPE:LOCAL:(페르소나("힘"))/2) * MAX(DITEMTYPE:LOCAL:(페르소나("LV")),60)/400
		;회피
		BASE:ARG:(GET_BATTLESTATUS(3)) += (DITEMTYPE:LOCAL:(페르소나("LV"))*2+DITEMTYPE:LOCAL:(페르소나("속도"))*5/2+DITEMTYPE:LOCAL:(페르소나("운"))) * MAX(DITEMTYPE:LOCAL:(페르소나("LV")),60)/400
		;마법위력
		BASE:ARG:(GET_BATTLESTATUS(4)) += (DITEMTYPE:LOCAL:(페르소나("LV"))*2+DITEMTYPE:LOCAL:(페르소나("마력"))*5/2+DITEMTYPE:LOCAL:(페르소나("지혜"))) * MAX(DITEMTYPE:LOCAL:(페르소나("LV")),60)/400
		;마법효과
		BASE:ARG:(GET_BATTLESTATUS(5)) += (DITEMTYPE:LOCAL:(페르소나("LV"))*2+DITEMTYPE:LOCAL:(페르소나("지혜"))*2+DITEMTYPE:LOCAL:(페르소나("운"))+DITEMTYPE:LOCAL:(페르소나("마력"))/2) * MAX(DITEMTYPE:LOCAL:(페르소나("LV")),60)/400
	ELSE
	;초기페르소나じゃないときCSVの스테이터스から計算された전투스테이터스のLV/400
		;공격
		BASE:ARG:(GET_BATTLESTATUS(0)) += (CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV"))*2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "힘"))*5/2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "인내력"))) * MAX(CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV")),60)/400
		;명중
		BASE:ARG:(GET_BATTLESTATUS(1)) += (CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV"))*2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "속도"))*5/2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "운"))) * MAX(CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV")),60)/400
		;방어
		BASE:ARG:(GET_BATTLESTATUS(2)) += (CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV"))*2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "인내력"))*3+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "힘"))/2) * MAX(CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV")),60)/400
		;회피
		BASE:ARG:(GET_BATTLESTATUS(3)) += (CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV"))*2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "속도"))*5/2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "운"))) * MAX(CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV")),60)/400
		;마법위력
		BASE:ARG:(GET_BATTLESTATUS(4)) += (CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV"))*2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "마력"))*5/2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "지혜"))) * MAX(CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV")),60)/400
		;마법효과
		BASE:ARG:(GET_BATTLESTATUS(5)) += (CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV"))*2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "지혜"))*2+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "운"))+CSVBASE((DITEMTYPE:LOCAL:(페르소나("NO"))), GETNUM(BASE, "마력"))/2) * MAX(CSVBASE(DITEMTYPE:LOCAL:(페르소나("NO")), GETNUM(BASE, "LV")),60)/400
	ENDIF

