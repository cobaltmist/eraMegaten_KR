;真3をもとに。
;전투時と仲間にしたときで持ってる스킬けっこう違います。真3本編でもそんな感じです。
;====================
;조건
;====================
@PLAYABLE_COLOSSEUM_24
IF FLAG:투기장랭크 >= 4 && FLAG:투기장명성 >= 800 && 투기장플래그:24:0 == 0
;ダンテやモトより레벨低く騎士達より高いからＡにしといた
	RESULTS = 시합 랭크 Ａ　ＶＳ 신의 악의
	RETURN 1
ENDIF
RETURN 0


;====================
;内容
;====================
@COLOSSEUM_24
FLAG:도주불가플래그 = 1
FLAG:회화불능플래그 = 1
FLAG:선제기습취소 = 1
CUSTOMDRAWLINE =
PRINTFORML 　사회자
PRINTFORML 「레이디이이이스! 앤! 젠틀멘!
PRINTFORMW 　기다리셨습니다! 금일 주목할 카드는 여기!」
PRINTFORML 
PRINTFORMW ＞스크린에 %CALLNAME:MASTER% 팀과 상태 팀이 떴다…
PRINTFORML 

PRINTFORML 　사회자
PRINTFORML 「과연 어떠한 시합으로 우리를 매료시켜줄까요?
PRINTFORMW 　그러면 곧바로 시작해보겠습니다!
PRINTFORMW 　레디～………」
PRINTFORML 
PRINTFORMW 「　　　　　　　파이트!!　　　　　　　」

;サマエルLv73
CALL SET_ENEMY,9,1759,73,0,1
	CFLAG:(CHARANUM-1):ＨＰ보정 += 2500
	CFLAG:(CHARANUM-1):ＭＰ보정 += 4000
	CFLAG:(CHARANUM-1):행동횟수 = 2
	BASE:(CHARANUM-1):타격 = 100
	BASE:(CHARANUM-1):신경 = 0
	BASE:(CHARANUM-1):정신 = 0
	CSTR:(CHARANUM-1):사고패턴 = 1759
	ABL:(CHARANUM-1):스킬1 = 706;마하라기다인
	ABL:(CHARANUM-1):스킬2 = 504;라쿠・카쟈
	ABL:(CHARANUM-1):스킬3 = 506;타룬다
	ABL:(CHARANUM-1):스킬4 = 505;デクンダ
	ABL:(CHARANUM-1):스킬5 = 509;デカジャ
	ABL:(CHARANUM-1):스킬6 = 2003;메기도라온
	ABL:(CHARANUM-1):스킬7 = 2086;신의악의
	CALL SYNC_STATUS, (CHARANUM-1)
	CALL HEALTH_CHARA, (CHARANUM-1)
	CALL BATTLE_START


CUSTOMDRAWLINE =

PRINTW 사마엘을 쓰러뜨렸다
PRINTL 

CUSTOMDRAWLINE =
WAIT
FLAG:도주불가플래그 = 0
FLAG:회화불능플래그 = 0
FLAG:선제기습취소 = 0
PRINTW ￥10000을 상금으로 받았다
PRINTFORMW %조사처리(CALLNAME:MASTER,"는")% 100의 명성을 얻었다
MONEY += 10000
FLAG:명성 += 100
FLAG:투기장명성 += 100
투기장플래그:24:0 = 1

;合体解禁
CALL LIFTING_A_BAN([[キャラ:사마엘]])
;FLAG:11759 = 1

FOR LOCAL,0,CHARANUM
	CALL HEALTH_CHARA,LOCAL
NEXT


;サマエル사고패턴
;真3では神の悪意→짐승의안광→라쿠・카쟈*2　　공격方法は메기도라통상공격猛反撃　　たまにデカジャデクンダ　
;攻略サイトでは마하라기다인も持ってると書いてるけど、動画で확인しても使ってるのみなかった。
;짐승의안광라쿠・카쟈2猛反撃ない代わりに타룬다と메기도라온　せっかくだからたまに마하라기다인
@SET_ACTION_1759,ARG
IF CFLAG:ARG:１more플래그 > 0
	CALL CHECK_ACTIONABLE,ARG,2086
		SIF RESULT == 0
			GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = 2086
	CALL RANDOM_TARGET,ARG,2086
	RETURN 1
ELSEIF (FLAG:경과턴수 % 15) == 0 && CFLAG:ARG:공격강화 < -13 || CFLAG:ARG:방어강화 < -13 || CFLAG:ARG:명중강화 < -13
	CALL CHECK_ACTIONABLE,ARG,505
		SIF RESULT == 0
			GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = 505
	CALL RANDOM_TARGET,ARG,505
	RETURN 1
ELSEIF (FLAG:경과턴수 % 15) == 0 && CFLAG:MASTER:공격강화 > 13 || CFLAG:MASTER:방어강화 > 13 || CFLAG:MASTER:명중강화 > 13
	CALL CHECK_ACTIONABLE,ARG,509
		SIF RESULT == 0
			GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = 509
	CALL RANDOM_TARGET,ARG,509
	RETURN 1
ELSEIF RAND:2 == 0 && CFLAG:ARG:행동한횟수 == 0
	CFLAG:ARG:601 = 1
	CFLAG:ARG:602 += 1
	CALL CHECK_ACTIONABLE,ARG,2086
		SIF RESULT == 0
			GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = 2086
	CALL RANDOM_TARGET,ARG,2086
	RETURN 1
ELSEIF CFLAG:ARG:602 == 3
	CFLAG:ARG:601 = 0
	CFLAG:ARG:602 = 0
	CALL CHECK_ACTIONABLE,ARG,2003
		SIF RESULT == 0
			GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = 2003
	CALL RANDOM_TARGET,ARG,203
	RETURN 1
ELSEIF CFLAG:ARG:601 == 1 && CFLAG:ARG:방어강화 < 32
	CFLAG:ARG:601 = 0
	CALL CHECK_ACTIONABLE,ARG,504
		SIF RESULT == 0
			GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = 504
	CALL RANDOM_TARGET,ARG,504
	RETURN 1
ELSEIF CFLAG:ARG:601 == 1
	CFLAG:ARG:601 = 0
	SELECTCASE RAND:100
		;50%메기도라온
		CASE IS < 50
			CALL CHECK_ACTIONABLE,ARG,2003
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 2003
			CALL RANDOM_TARGET,ARG,2003
			RETURN 1
		;50%통상공격
		CASE IS < 100
			CALL CHECK_ACTIONABLE,ARG,0
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 0
			CALL RANDOM_TARGET,ARG,0
			RETURN 1
	ENDSELECT	
ELSEIF CFLAG:ARG:행동한횟수 == 1
	SELECTCASE RAND:100
		;70%통상공격
		CASE IS < 70
			CALL CHECK_ACTIONABLE,ARG,0
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 0
			CALL RANDOM_TARGET,ARG,0
			RETURN 1
		;30%메기도라온
		CASE IS < 100
			CALL CHECK_ACTIONABLE,ARG,2003
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 2003
			CALL RANDOM_TARGET,ARG,2003
			RETURN 1
	ENDSELECT
ELSEIF CFLAG:ARG:행동한횟수 == 0
	CFLAG:ARG:602 = 0
	SELECTCASE RAND:100
		;50%통상공격
		CASE IS < 50
			CALL CHECK_ACTIONABLE,ARG,0
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 0
			CALL RANDOM_TARGET,ARG,0
			RETURN 1
		;40%타룬다
		CASE IS < 90
			CALL CHECK_ACTIONABLE,ARG,506
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 506
			CALL RANDOM_TARGET,ARG,506
			RETURN 1
		;10%마하라기다인
		CASE IS < 100
			CALL CHECK_ACTIONABLE,ARG,706
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 706
			CALL RANDOM_TARGET,ARG,706
			RETURN 1
	ENDSELECT
ELSE
	$DECIDE_ACTION
	CALL SEARCH_ACT,ARG
	IF RESULT == 0
		CFLAG:ARG:입력행동 = -1
		CFLAG:ARG:방어플래그 = 1
		RETURN 0
	ENDIF
;	PRINTFORML [{CFLAG:ARG:5}]の스킬数 {RESULT}
	LOCAL = RAND:RESULT
	;스킬번호決定
	LOCAL:1 = S:(10+LOCAL)
;	PRINTFORML [{CFLAG:ARG:5}]の스킬 {LOCAL:1}
	$TARGET_LOOP
	
	CALL RANDOM_TARGET,ARG,LOCAL:1
	CALLFORM SKILL_TARGET_{LOCAL:1}
	;ここで스킬번호を行動内容に代入
	SIF CFLAG:ARG:타겟 == -1
		GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = LOCAL:1
ENDIF
