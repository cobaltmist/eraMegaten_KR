

;====================
;조건
;====================
@PLAYABLE_COLOSSEUM_5
;IF (투기장フラグ:4:0 == 1 || 투기장フラグ:3:0 == 1) && 투기장フラグ:5:0 == 0
;	IF GETCHARA(4507) > -1 || FLAG:34507 > 0
IF FLAG:闘技場랭크 >= 1 && FLAG:闘技場名声 >= 150 && 투기장フラグ:5:0 == 0
			RESULTS = 시합랭크Ｄ　ＶＳ 구세주
			RETURN 1
;	ELSE
;		RESULTS = 시합랭크Ｄ　ＶＳ 게임기형ＣＯＭＰ사용자
;		RETURN 1
;	ENDIF
ENDIF
RETURN 0


;====================
;内容
;====================
@COLOSSEUM_5
FLAG:도주불가フラグ = 1
FLAG:회화불능フラグ = 1
FLAG:선제기습취소 = 1
CUSTOMDRAWLINE =
PRINTW 링에 글어가자 프로텍터와 COMP를 몸에 장착한 빗자루머리의 남자가 기세등등한 웃음을 지었다.
PRINTL 남자：
PRINTL 「용케 도망치지 않고 여기까지 왔군」
PRINTW 「내 이름은 구세주 다레스. 너절한 다크 서머너 나부랭이가 구세주인 내게 이길 거라 생각하지 말라고」
PRINTL
PRINTL 다레스：
PRINTW 「난 구세주다! 각오해라, 메시아의 이름을 걸고 네놈을 쓰러뜨리겠다!」
PRINTL
PRINTW 구세주 다레스 1명와 동료마 5체가 나타났다!

CUSTOMDRAWLINE =
WAIT
;다레스
CALL SET_ENEMY,14,4213,25,0,1
CFLAG:(CHARANUM-1):行動횟수 = 2
CFLAG:(CHARANUM-1):ＨＰ보정 += 500
CFLAG:(CHARANUM-1):ＭＰ보정 += 500
CALL SYNC_STATUS,(CHARANUM-1)
CALL HEALTH_CHARA,(CHARANUM-1)

;코파텐구
CALL SET_ENEMY,13,451,22,0,
CFLAG:(CHARANUM-1):ＭＰ보정 += 500
ABL:(CHARANUM-1):스킬1 = 105
ABL:(CHARANUM-1):스킬2 = 1005
ABL:(CHARANUM-1):스킬3 = 0
ABL:(CHARANUM-1):스킬4 = 402
ABL:(CHARANUM-1):스킬5 = 501
ABL:(CHARANUM-1):스킬6 = 1902
CALL SYNC_STATUS,(CHARANUM-1)
CALL HEALTH_CHARA,(CHARANUM-1)

;로어
CALL SET_ENEMY,9,484,21,0,
CFLAG:(CHARANUM-1):ＭＰ보정 += 500
ABL:(CHARANUM-1):스킬1 = 1402
ABL:(CHARANUM-1):스킬2 = 0
ABL:(CHARANUM-1):스킬3 = 805
CALL SYNC_STATUS,(CHARANUM-1)
CALL HEALTH_CHARA,(CHARANUM-1)

;이소라
CALL SET_ENEMY,15,461,23,0,
CFLAG:(CHARANUM-1):ＭＰ보정 += 500
ABL:(CHARANUM-1):스킬2 = 805
CALL SYNC_STATUS,(CHARANUM-1)
CALL HEALTH_CHARA,(CHARANUM-1)

;아크엔젤
CALL SET_ENEMY,8,359,24,0,
CFLAG:(CHARANUM-1):ＨＰ보정 += 100
ABL:(CHARANUM-1):스킬1 = 9
CALL SYNC_STATUS,(CHARANUM-1)
CALL HEALTH_CHARA,(CHARANUM-1)

;오니
CALL SET_ENEMY,10,654,23,0,
CFLAG:(CHARANUM-1):ＨＰ보정 += 100
ABL:(CHARANUM-1):스킬1 = 0
CALL SYNC_STATUS,(CHARANUM-1)
CALL HEALTH_CHARA,(CHARANUM-1)

CALL BATTLE_START
CUSTOMDRAWLINE =
PRINTW 구세주 다레스와 그 동료마를 쓰러트렸다.

PRINTL
PRINTW ・・・
PRINTW ・・
PRINTW ・
PRINTL

PRINTL
PRINTFORMW 「제, 젠장… 말도 안 돼. 이 몸이… 졌다고!?」
PRINTFORMW ＞아무래도 이쪽의 승리인 것 같다.。
PRINTFORMW ＞생살여탈 권리는 이쪽에 있는 것 같은데…
PRINTL 다레스를 받습니까？

CALL INPUT_YN

IF RESULT == 0
PRINTFORMW ＞일단 전력으로 취급할 수 있을 것 같다…
PRINTFORMW ＞しかしよく吠えるこの男、どうしてやろうか…
PRINTFORMW ＞「くっ…情けのつもりか…！！」
PRINTFORMW ＞…まぁいい。情けかどうかはいずれ分かるだろう…
PRINTFORMW ＞…最も、どんな「情け」かは今は知ることは無いが。
PRINTW ＞다레스와 ￥45000을 상금으로 받고서 콜로세움을 뒤로했다.
PRINTW 다레스가 노예가 되었다.
CALL ADD_NEW_COMPANION,4997,500
CFLAG:(RESULT:1):전투참가불가능 = -1
PRINTW 명성 125을 얻었다
MONEY += 45000

ELSEIF RESULT == 1
PRINTFORMW 「으, 그극… 이 원한, 결고 잊지 않겠…!?」
PRINTFORMW ＞패배자의 대사를 내뱉는 다레스 등 뒤의 입장문이 열렸다
PRINTFORMW 「뭐, 뭐야…?」
PRINTFORMW ＞열린 입구에서 근육질에 호색해보이는 오니들이 줄줄이 나타나 패배한 다레스 일행을 에워싸기 시작했다…
PRINTFORMW 「뭐냐, 네놈들!? 어쩔 속셈이야!?」
PRINTFORMW 「……어, 어이, 그 발딱 선 물건은 대체…… 농담이지?」
PRINTFORMW 「기다려! 기다리라고! 나는! 우리는 남자란 말이다!」
PRINTFORMW 「관둬! 하지 마! 다가오지 마! 그 물건을 이리 겨누지 말라고!」
PRINTFORMW 「……앗―――――――――――!!」
PRINTW ＞다레스의 비명을 등지고 ￥50000을 상금으로 받고서 콜로세움을 뒤로했다.
PRINTW 명성 125을 얻었다
MONEY += 50000
ENDIF


투기장フラグ:5:0 = 1
FLAG:도주불가フラグ = 0
FLAG:회화불능フラグ = 0
FLAG:선제기습취소 = 0

FLAG:名声 += 125
투기장フラグ:5:0 = 1

FLAG:闘技場名声 += 125
IF FLAG:闘技場랭크 < 2
	FLAG:闘技場랭크 = 2
ENDIF
SAVESTR:랜덤대전팀 =
CALL SELECT_COLOSSEUM_RANDOMBATTLE


PRINTW 콜로세움에서 거둔 성적이 평가되어, 긴자 방면의 출입을 허가 받았다.

FOR LOCAL,0,CHARANUM
	CALL HEALTH_CHARA,LOCAL
NEXT
RETURN 1

@SET_ACTION_XXXX,ARG
IF CFLAG:ARG:行動した횟수 == 0
	IF RESULT == 1
		;회전베기
		IF RAND:2 == 0
			CFLAG:ARG:입력行動 = 3
			CALL RANDOM_TARGET,ARG,3
		;아카샤아츠
		ELSE
			
			CFLAG:ARG:입력行動 = 215
			CALL RANDOM_TARGET,ARG,215
		ENDIF
	ELSE
		GOTO DECIDE_ACTION
	ENDIF
ELSE
	$DECIDE_ACTION
	CALL SEARCH_ACT,ARG
	IF RESULT == 0
		CFLAG:ARG:입력行動 = -1
		CFLAG:ARG:방어フラグ = 1
		RETURN 0
	ENDIF
	LOCAL = RAND:RESULT
	;스킬番号決定
	LOCAL:1 = S:(10+LOCAL)
	$TARGET_LOOP
	
	CALL RANDOM_TARGET,ARG,LOCAL:1
	CALLFORM SKILL_TARGET_{LOCAL:1}
	;ここで스킬番号を行動内容に代入
	SIF CFLAG:ARG:ターゲット == -1
		GOTO DECIDE_ACTION
	CFLAG:ARG:입력行動 = LOCAL:1
ENDIF

@SET_ACTION_4507,ARG
IF CFLAG:ARG:行動した횟수 == 0
	CALL CHECK_ACTIONABLE,ARG,1623
	IF RESULT == 1
		CFLAG:(CHARANUM-1):속도보정 = 12
		CFLAG:ARG:입력行動 = 1623
		CALL RANDOM_TARGET,ARG,1623
	ELSE
		GOTO DECIDE_ACTION
	ENDIF

ELSE
	CFLAG:(CHARANUM-1):속도보정 = 0
	$DECIDE_ACTION
	CALL SEARCH_ACT,ARG
	IF RESULT == 0
		CFLAG:ARG:입력行動 = -1
		CFLAG:ARG:방어フラグ = 1
		RETURN 0
	ENDIF
	LOCAL = RAND:RESULT
	;스킬番号決定
	LOCAL:1 = S:(10+LOCAL)
	$TARGET_LOOP
	
	CALL RANDOM_TARGET,ARG,LOCAL:1
	CALLFORM SKILL_TARGET_{LOCAL:1}
	;ここで스킬番号を行動内容に代入
	SIF CFLAG:ARG:ターゲット == -1
		GOTO DECIDE_ACTION
	CFLAG:ARG:입력行動 = LOCAL:1
ENDIF


