;=======================================================================
;指定したマスに進入可能か
;=======================================================================
@taiyou_ENTER,ARG,ARG:1
;DA:ARG:(ARG:1)
;ARG、ARG:1はそれぞれ대상のマスのX、Y座標を表しています。
;この던전ではエレベーターの扉が一度右側から開けておかないと左側からは開けられない、という処理に사용しています。
SELECTCASE FLAG:현M
	CASE 3
		IF 던전フラグ:13:25 && 던전フラグ:13:2 < 6
			IF ARG:1 < 13 || ARG:1 > 25
				CALL MESSAGE_WINDOW_D, "", "＞그녀를 찾지 않으면…"
				RETURN 0
			ENDIF
			
		ENDIF
ENDSELECT
RETURN 1
;=======================================================================
;太陽タイル
;=======================================================================
;이벤트タイル特殊표시4
@taiyou_TILE, ARG,ARG:1,ARG:2
SELECTCASE ARG / 10
	;서프
	CASE 5401
		SETCOLOR 0x00ff00
		RESULTS = サ
	CASEELSE
		RESULTS = ！
		SETCOLOR 0x00ff00
		RESULTS = ｍ
ENDSELECT

;이벤트タイル特殊표시9
@taiyou_TILE2, ARG,ARG:1,ARG:2
SELECTCASE ARG / 10
	CASE 8601
		RESULTS = ↓
	CASEELSE
		RESULTS = □
ENDSELECT

;=======================================================================
;太陽調べ이벤트(4)
;=======================================================================
@taiyou_event_sw
#LOCALSIZE 1
LOCAL = DA:(FLAG:현X):(FLAG:현Y) / 10
SELECTCASE LOCAL
	CASE 6400
		CALL MESSAGE_WINDOW_D, "마담・마르고의 정보", "모든 정보는 신으로부터 가져와/신에게 돌아간다/이것이 윤회의 비밀이었군요… "
		CALL MESSAGE_WINDOW_D, "마담・마르고의 정보", "내가 길을 잘못 들었나 봐요… "
		CALL MESSAGE_WINDOW_D, "마담・마르고의 정보", "신의 노여움을 진정시켜 주소서/모든 사람에게 목숨이 갈 곳을 보여 주소서… "
	
	CASE 7000
		CALL MESSAGE_WINDOW_D, "리얼・알지라의 정보", "어쩔 수 없었어… "
		CALL MESSAGE_WINDOW_D, "리얼・알지라의 정보", "그가 서프를 죽이려고 하니까…/그러니까 나… "
		CALL MESSAGE_WINDOW_D, "리얼・알지라의 정보", "사실은 그 여자애도/징그러워서 싫었어… "
		CALL MESSAGE_WINDOW_D, "리얼・알지라의 정보", "하지만 서프를 위해서 나…/아아…나…어째서 이런… "
	
	CASE 7400
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보A", "HO　me〜n♪ "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보B", "여기 있으면 죽은놈들이/느긋느긋하게 올 줄 알았다HO♪ "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보A", "왜냐하면ー "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보B", "왜 일까ー "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보A", "왜냐하면ー "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보B", "왜 일까ー "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보A", "그렇지 여기는 저승이다HO!　HI! "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보B", "저기YOー "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보A", "왜YOー "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보B", "저기YOー "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보A", "왜YOー "
		CALL MESSAGE_WINDOW_D, "쾌활한 2인조의 정보B", "우리는/언제까지 여기에 있는거야HO?　HI! "
	
	
	
ENDSELECT


;=======================================================================
;太陽侵入이벤트(4)
;=======================================================================
@taiyou_event

;=======================================================================
;太陽侵入이벤트（9）
;=======================================================================
@taiyou_event2

IF BATTLE_SETTING_IS_BAD_STATUS() < 1
	CALL BATTLE_SETTING_SET_BAD_STATUS, 1
	LOCAL:1 = 1
ELSE
	LOCAL:1 = 0
ENDIF

SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
	CASE 6300
		CALL DUNGEON_WORP,64,3,9
	CASE 6400
		CALL DUNGEON_WORP,63,6,1
	CASE 6900
		IF 던전フラグ:13:29 < 1
			CALL MESSAGE_WINDOW_D, "", "문 너머에서 수상한 기운이 느껴진다… "
			CALL INPUT_SELECT_D, "[0]저쪽으로 간다/[1]가지 않는다 "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
			
				CALL MESSAGE_WINDOW_D, "서프・셰필드의 정보", "거짓말이다/나는 아직 죽지않았어/ "
				CALL MESSAGE_WINDOW_D, "서프・셰필드의 정보", "신의/신의 힘을 손에 넣었어！？ "
				CALL MESSAGE_WINDOW_D, "서프・셰필드의 정보", "나는 힘을 얻었다…/지식도！ 힘도 전부다아아아아아아아아！ "
				CALL MESSAGE_WINDOW_D, "", "서프・셰필드의 정보는 악마로 변신했다！ "
					
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, 3803, 85, 0, 2
				CFLAG:(CHARANUM-1):행동횟수 = 3
				CFLAG:(CHARANUM-1):ＨＰ보정 += 4000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):BS무효플래그 = 1
				NAME:(CHARANUM-1) = 리얼바루나
				CALLNAME:(CHARANUM-1) = 리얼바루나
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ리얼바루나
		
				ABL:(CHARANUM-1):공격상성 = 0
				
				ABL:(CHARANUM-1):스킬1 = 1418
				ABL:(CHARANUM-1):스킬2 = 1439
				ABL:(CHARANUM-1):스킬3 = 2461
				ABL:(CHARANUM-1):스킬4 = 2447
				ABL:(CHARANUM-1):스킬5 = 2448
				ABL:(CHARANUM-1):스킬6 = 0
				ABL:(CHARANUM-1):스킬7 = 0
				ABL:(CHARANUM-1):스킬8 = 0
				ABL:(CHARANUM-1):스킬9 = 0
				ABL:(CHARANUM-1):스킬10 = 0
				ABL:(CHARANUM-1):스킬11 = 0
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 110
				BASE:(CHARANUM-1):빙결 = -200
				BASE:(CHARANUM-1):전격 = 100
				BASE:(CHARANUM-1):충격 = 100
				BASE:(CHARANUM-1):파마 = 110
				BASE:(CHARANUM-1):주살 = -200
				BASE:(CHARANUM-1):지변 = 100
				BASE:(CHARANUM-1):질풍 = 100
				BASE:(CHARANUM-1):수격 = -200
				BASE:(CHARANUM-1):중력 = 100
				BASE:(CHARANUM-1):핵열 = 110
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				BASE:(CHARANUM-1):힘 += 15
				BASE:(CHARANUM-1):마력 += 15
				BASE:(CHARANUM-1):지혜 += 15
				BASE:(CHARANUM-1):인내력 += 15
				BASE:(CHARANUM-1):속도 += 15
				BASE:(CHARANUM-1):운 += 15
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):공격보정 = MAXBASE:(CHARANUM-1):공격
				CFLAG:(CHARANUM-1):마법위력보정 = MAXBASE:(CHARANUM-1):마법위력
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CALL BATTLE_START
			
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				던전フラグ:13:29 ++
				SIF GETBIT(FLAG:발견ED, 45)
					던전フラグ:13:31 ++
			ENDIF
		ENDIF
	CASE 6901
		SIF 던전フラグ:13:31 < 1
			던전フラグ:13:31 ++
	CASE 7300
		IF 던전フラグ:13:29 < 2
			CALL MESSAGE_WINDOW_D, "", "문 너머에서 수상한 기운이 느껴진다… "
			CALL INPUT_SELECT_D, "[0]저쪽으로 간다/[1]가지 않는다 "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
			
				CALL MESSAGE_WINDOW_D, "얼굴에 별 문신을 한 남자의 정보", "너희들도 동류잖아…/몇명이나 먹어왔잖아… "
				CALL MESSAGE_WINDOW_D, "얼굴에 별 문신을 한 남자의 정보", "살기 위해서야 뭐가 잘못됐어…/「저도 똑같아요」라고 말해봐… "
				CALL MESSAGE_WINDOW_D, "얼굴에 별 문신을 한 남자의 정보", "말해봐라아아아아아아아아아아아아！ "
				CALL MESSAGE_WINDOW_D, "", "얼굴에 별 문신을 한 남자의 정보는 악마로 변신했다！ "
					
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, 959, 88, 0, 2
				CFLAG:(CHARANUM-1):행동횟수 = 3
				CFLAG:(CHARANUM-1):ＨＰ보정 += 4000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):BS무효플래그 = 1
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ카마조츠
				
				ABL:(CHARANUM-1):공격상성 = 3
				ABL:(CHARANUM-1):최저공격횟수 = 2
				ABL:(CHARANUM-1):최대공격횟수 = 8
				
				ABL:(CHARANUM-1):스킬1 = 1043
				ABL:(CHARANUM-1):스킬2 = 312
				ABL:(CHARANUM-1):스킬3 = 1725
				ABL:(CHARANUM-1):스킬4 = 2453
				ABL:(CHARANUM-1):스킬5 = 2457
				ABL:(CHARANUM-1):스킬6 = 2464
				ABL:(CHARANUM-1):스킬7 = 2527
				ABL:(CHARANUM-1):스킬8 = 2449
				ABL:(CHARANUM-1):스킬9 = 2448
				ABL:(CHARANUM-1):스킬10 = 2419
				ABL:(CHARANUM-1):스킬11 = 2447
				ABL:(CHARANUM-1):스킬12 = 2420
				
				BASE:(CHARANUM-1):검격 = 50
				BASE:(CHARANUM-1):비구 = 999
				BASE:(CHARANUM-1):타격 = 50
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 100
				BASE:(CHARANUM-1):빙결 = 100
				BASE:(CHARANUM-1):전격 = 120
				BASE:(CHARANUM-1):충격 = 0
				BASE:(CHARANUM-1):파마 = 120
				BASE:(CHARANUM-1):주살 = 100
				BASE:(CHARANUM-1):지변 = 0
				BASE:(CHARANUM-1):질풍 = 0
				BASE:(CHARANUM-1):수격 = 100
				BASE:(CHARANUM-1):중력 = 120
				BASE:(CHARANUM-1):핵열 = 100
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				BASE:(CHARANUM-1):힘 += 15
				BASE:(CHARANUM-1):마력 += 15
				BASE:(CHARANUM-1):지혜 += 15
				BASE:(CHARANUM-1):인내력 += 15
				BASE:(CHARANUM-1):속도 += 15
				BASE:(CHARANUM-1):운 += 15
				
				CFLAG:(CHARANUM-1):801 = -1
				CFLAG:(CHARANUM-1):803 = -1
				
				CFLAG:(CHARANUM-1):850 = 11+1+1+11
				CFLAG:(CHARANUM-1):851 = 100/2/2
				CFLAG:(CHARANUM-1):852 = 99/3/11
				CFLAG:(CHARANUM-1):853 = 20-2-2/2
				CFLAG:(CHARANUM-1):854 = 10+11+11
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
			
				CALL BATTLE_START
			
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				던전フラグ:13:29 ++
				SIF GETBIT(FLAG:발견ED, 45)
					던전フラグ:13:31 ++
			ENDIF
		ENDIF
	CASE 7301
		SIF 던전フラグ:13:31 < 2
			던전フラグ:13:31 ++
	CASE 7700
		IF 던전フラグ:13:29 < 3
			CALL MESSAGE_WINDOW_D, "", "문 너머에서 수상한 기운이 느껴진다… "
			CALL INPUT_SELECT_D, "[0]저쪽으로 간다/[1]가지 않는다 "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
			
				CALL MESSAGE_WINDOW_D, "뚱뚱한 흑인 남자의 정보", "기쁘네…/일부러 먹히러 왔나… "
				CALL MESSAGE_WINDOW_D, "뚱뚱한 흑인 남자의 정보", "크하하하〜노하아아아아아아아아！ "
				CALL MESSAGE_WINDOW_D, "", "뚱뚱한 흑인 남자의 정보는 악마로 변신했다！ "
					
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, [[キャラ:라후]], 92, 1, 1
				CFLAG:(CHARANUM-1):행동횟수 = 2
				;CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):BS무효플래그 = 1
				NAME:(CHARANUM-1) = 라후（몸）
				CALLNAME:(CHARANUM-1) = 라후（몸）
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ라후（몸）
				
				;공격4回、명계의문、끝나는세계、드래곤퀘이크（新技）、관통、千発、百発、간파、데스카운터、하이퍼카운터
				;AI側デカジャ、デクンダ、기합、파워브레스、다크브레스、랜더마이저
				;AIの랜덤행동を변경、드래곤헤드で捕まった相손を1체で狙わないように
				ABL:(CHARANUM-1):공격상성 = 3
				ABL:(CHARANUM-1):최저공격횟수 = 5
				ABL:(CHARANUM-1):최대공격횟수 = 5
				
				ABL:(CHARANUM-1):스킬1 = 1518
				ABL:(CHARANUM-1):스킬2 = 106
				ABL:(CHARANUM-1):스킬3 = 344
				ABL:(CHARANUM-1):스킬4 = 2067
				ABL:(CHARANUM-1):스킬5 = 2449
				ABL:(CHARANUM-1):스킬6 = 2448
				ABL:(CHARANUM-1):스킬7 = 2447
				ABL:(CHARANUM-1):스킬8 = 2453
				ABL:(CHARANUM-1):스킬9 = 2462
				ABL:(CHARANUM-1):스킬10 = 2425
				ABL:(CHARANUM-1):스킬11 = 2483
				ABL:(CHARANUM-1):스킬12 = 2483
				ABL:(CHARANUM-1):스킬13 = 2420
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 0
				BASE:(CHARANUM-1):빙결 = 0
				BASE:(CHARANUM-1):전격 = 100
				BASE:(CHARANUM-1):충격 = 100
				BASE:(CHARANUM-1):정신 = 100
				BASE:(CHARANUM-1):신경 = 100
				BASE:(CHARANUM-1):파마 = 120
				BASE:(CHARANUM-1):주살 = 120
				BASE:(CHARANUM-1):지변 = 0
				BASE:(CHARANUM-1):질풍 = 0
				BASE:(CHARANUM-1):수격 = 0
				BASE:(CHARANUM-1):중력 = 100
				BASE:(CHARANUM-1):핵열 = 120
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				BASE:(CHARANUM-1):힘 += 30
				;BASE:(CHARANUM-1):마력 += 10
				;BASE:(CHARANUM-1):지혜 += 10
				BASE:(CHARANUM-1):인내력 += 30
				BASE:(CHARANUM-1):속도 += 15
				BASE:(CHARANUM-1):운 += 15
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
			
				CALL SET_ENEMY,14, [[キャラ:라후]], 92, 1, 1
				CFLAG:(CHARANUM-1):행동횟수 = 1
				;CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):BS무효플래그 = 1
				NAME:(CHARANUM-1) = 라후（머리）
				CALLNAME:(CHARANUM-1) = 라후（머리）
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ라후（머리）
				;공격1回、전체魔法てんこ盛り、만능少し多い、해제（두부귀환、死んでも使える）
				;AI側컨센트레이트、퓨어블루（15%）、히트라이저
				;　드래곤헤드（RETURNできない아군を狙う、회복不能、HEAT상태、完全無적）、흡수（아군と自分行動時に発動、HEAT부여、HPMP10％흡수）
				ABL:(CHARANUM-1):공격상성 = 3
				ABL:(CHARANUM-1):최저공격횟수 = 1
				ABL:(CHARANUM-1):최대공격횟수 = 1
				
				ABL:(CHARANUM-1):스킬1 = 2003
				ABL:(CHARANUM-1):스킬2 = 2008
				ABL:(CHARANUM-1):스킬3 = 944
				ABL:(CHARANUM-1):스킬4 = 942
				ABL:(CHARANUM-1):스킬5 = 1509
				ABL:(CHARANUM-1):스킬6 = 711
				ABL:(CHARANUM-1):스킬7 = 1614
				ABL:(CHARANUM-1):스킬8 = 2003
				ABL:(CHARANUM-1):스킬9 = 2512
				ABL:(CHARANUM-1):스킬10 = 2510
				ABL:(CHARANUM-1):스킬11 = 2527
				ABL:(CHARANUM-1):스킬12 = 2447
				ABL:(CHARANUM-1):스킬13 = 2448
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 100
				BASE:(CHARANUM-1):빙결 = 120
				BASE:(CHARANUM-1):전격 = 0
				BASE:(CHARANUM-1):충격 = 0
				BASE:(CHARANUM-1):정신 = 120
				BASE:(CHARANUM-1):신경 = 120
				BASE:(CHARANUM-1):파마 = 100
				BASE:(CHARANUM-1):주살 = 100
				BASE:(CHARANUM-1):지변 = 0
				BASE:(CHARANUM-1):질풍 = 100
				BASE:(CHARANUM-1):수격 = 100
				BASE:(CHARANUM-1):중력 = 0
				BASE:(CHARANUM-1):핵열 = 0
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				;BASE:(CHARANUM-1):힘 += 30
				BASE:(CHARANUM-1):마력 += 30
				BASE:(CHARANUM-1):지혜 += 30
				;BASE:(CHARANUM-1):인내력 += 30
				BASE:(CHARANUM-1):속도 += 15
				BASE:(CHARANUM-1):운 += 15
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):804 = MAXBASE:(CHARANUM-1):ＨＰ * 15/100
				CFLAG:(CHARANUM-1):810 = MAXBASE:(CHARANUM-1):ＨＰ * 15/100
				
				CALL BATTLE_START
			
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				던전フラグ:13:29 ++
				SIF GETBIT(FLAG:발견ED, 45)
					던전フラグ:13:31 ++
			ENDIF
		ENDIF
	CASE 7701
		SIF 던전フラグ:13:31 < 3
			던전フラグ:13:31 ++
	CASE 8100
		IF 던전フラグ:13:29 < 4
			CALL MESSAGE_WINDOW_D, "", "문 너머에서 수상한 기운이 느껴진다… "
			CALL INPUT_SELECT_D, "[0]저쪽으로 간다/[1]가지 않는다 "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
			
				CALL MESSAGE_WINDOW_D, "벡 대령？의 정보", "나는 대령이다… 벡 대령이다… "
				CALL MESSAGE_WINDOW_D, "벡 대령？의 정보", "이젠 이런 쓸모없는 곳은 질색이다…/네 놈들을 갈기갈기 찢어버리고… "
				CALL MESSAGE_WINDOW_D, "벡 대령？의 정보", "빠져나가주겠어어어어어어어어어어！ "
				CALL MESSAGE_WINDOW_D, "", "벡 대령？의 정보는 악마로 변신했다！ "
					
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, 262, 95, 0, 1
				CFLAG:(CHARANUM-1):행동횟수 = 3
				CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):BS무효플래그 = 1
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ라바나
				
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 100
				BASE:(CHARANUM-1):빙결 = 100
				BASE:(CHARANUM-1):전격 = 100
				BASE:(CHARANUM-1):충격 = 100
				BASE:(CHARANUM-1):정신 = 100
				BASE:(CHARANUM-1):신경 = 100
				BASE:(CHARANUM-1):파마 = 100
				BASE:(CHARANUM-1):주살 = 100
				BASE:(CHARANUM-1):지변 = 100
				BASE:(CHARANUM-1):질풍 = 100
				BASE:(CHARANUM-1):수격 = 100
				BASE:(CHARANUM-1):중력 = 100
				BASE:(CHARANUM-1):핵열 = 100
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				ABL:(CHARANUM-1):스킬1 = 249
				ABL:(CHARANUM-1):스킬2 = 207
				ABL:(CHARANUM-1):스킬3 = 209
				ABL:(CHARANUM-1):스킬4 = 2419
				ABL:(CHARANUM-1):스킬5 = 2421
				ABL:(CHARANUM-1):스킬6 = 2447
				ABL:(CHARANUM-1):스킬7 = 2448
				ABL:(CHARANUM-1):스킬8 = 2449
				ABL:(CHARANUM-1):스킬9 = 2427
				ABL:(CHARANUM-1):스킬10 = 2510
				ABL:(CHARANUM-1):스킬11 = 2483
				ABL:(CHARANUM-1):스킬12 = 2483
				
				BASE:(CHARANUM-1):힘 += 20
				BASE:(CHARANUM-1):마력 += 20
				BASE:(CHARANUM-1):지혜 += 20
				BASE:(CHARANUM-1):인내력 += 20
				BASE:(CHARANUM-1):속도 += 20
				BASE:(CHARANUM-1):운 += 20
				
				CFLAG:(CHARANUM-1):물리피데미지보정 = -90
				CFLAG:(CHARANUM-1):크리티컬무효플래그 = 1
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):공격보정 = MAXBASE:(CHARANUM-1):공격 / 3
				CFLAG:(CHARANUM-1):마법위력보정 = MAXBASE:(CHARANUM-1):마법위력 / 3
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
			
				CALL BATTLE_START
			
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				던전フラグ:13:29 ++
				SIF GETBIT(FLAG:발견ED, 45)
					던전フラグ:13:31 ++
			ENDIF
		ENDIF
	CASE 8101
		SIF 던전フラグ:13:31 < 4
			던전フラグ:13:31 ++
	CASE 8600
		SIF 던전フラグ:13:31 < 5
			던전フラグ:13:31 ++
	CASE 8601
		IF 던전フラグ:13:29 < 5
			CALL MESSAGE_WINDOW_D, "", "아득히 높은 상공에서、헤아릴 수 없을 만큼 거대한/정보의 흐름을 느꼈다 "
			CALL MESSAGE_WINDOW_D, "", "정보의 흐름에 몸을 맡기시겠습니까？ "
			CALL INPUT_SELECT_D, "[0]예/[1]아니오 "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-1
			ELSEIF RESULT == 0
				;CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
			
				CALL MESSAGE_WINDOW_D, "", "흐름에 몸을 맡겨 도착한 곳에는/푸르게 빛나고 있는 거대한 뇌와 같은 것이 있었다 "
				CALL MESSAGE_WINDOW_D, "세라", "이것이 신… "
				CALL MESSAGE_WINDOW_D, "", "세라에 의하면 이것이 신인 것 같다 "
				CALL MESSAGE_WINDOW_D, "세라", "부탁해 지구를 원래대로 되돌려줘！ "
				CALL MESSAGE_WINDOW_D, "세라", "나쁜 사람은 나야 "
				CALL MESSAGE_WINDOW_D, "세라", "사람은 많은 실수를 해/앞으로도 반복할지도 몰라 "
				CALL MESSAGE_WINDOW_D, "세라", "부탁이야！멸망하게 두지마！ "
				CALL MESSAGE_WINDOW_D, "", "그러자 뇌 같은 것이 열리면서 부딪혀오는 분위기가 변했다 "
				CALL MESSAGE_WINDOW_D, "", "그리고 눈부신 빛이 나온 뒤/거대한 탑 같은 것이 나타났다 "
				CALL MESSAGE_WINDOW_D, "세라", "에…？ "
				CALL MESSAGE_WINDOW_D, "세라", "자신과 싸우라고？ "
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, 1513, 99, 0, 5
				CFLAG:(CHARANUM-1):행동횟수 = 5
				CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):BS무효플래그 = 1
				CSTR:(CHARANUM-1):사고패턴 = ローカ브라흐마
		
				ABL:(CHARANUM-1):공격상성 = 17
				ABL:(CHARANUM-1):최저공격횟수 = 5
				ABL:(CHARANUM-1):최대공격횟수 = 5
				
				;AI側に超有能지원、스마일차지
				;1段階　魔法+만능
				;2段階　+상태이상+스마일차지
				;3段階　+魔法2+이터널제로+自動マカブレ、シーブレ
				;4段階　+自動ガーキル
				ABL:(CHARANUM-1):스킬1 = 723
				ABL:(CHARANUM-1):스킬2 = 758
				ABL:(CHARANUM-1):스킬3 = 754
				ABL:(CHARANUM-1):스킬4 = 2008
				ABL:(CHARANUM-1):스킬5 = 2514;만능전체物理専用
				ABL:(CHARANUM-1):스킬6 = 723;상태이상
				ABL:(CHARANUM-1):스킬7 = 758;상태이상
				ABL:(CHARANUM-1):스킬8 = 754;상태이상
				ABL:(CHARANUM-1):스킬9 = 2454;ブースタ
				ABL:(CHARANUM-1):스킬10 = 2447
				ABL:(CHARANUM-1):스킬11 = 2448
				ABL:(CHARANUM-1):스킬12 = 2419
				ABL:(CHARANUM-1):스킬13 = 2427
				ABL:(CHARANUM-1):스킬14 = 2421
				ABL:(CHARANUM-1):스킬15 = 2422
				ABL:(CHARANUM-1):스킬16 = 2510
				
				CFLAG:(CHARANUM-1):801 = 0
				
				LOCAL = 820
				;화염弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 723
				CFLAG:(CHARANUM-1):(LOCAL ++) = 758
				CFLAG:(CHARANUM-1):(LOCAL ++) = 754
				;화염強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 718
				CFLAG:(CHARANUM-1):(LOCAL ++) = 749
				CFLAG:(CHARANUM-1):(LOCAL ++) = 758
				
				;빙결弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 803
				CFLAG:(CHARANUM-1):(LOCAL ++) = 806
				CFLAG:(CHARANUM-1):(LOCAL ++) = 837
				;빙결強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 811
				CFLAG:(CHARANUM-1):(LOCAL ++) = 823
				CFLAG:(CHARANUM-1):(LOCAL ++) = 825
				
				;전격弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 903
				CFLAG:(CHARANUM-1):(LOCAL ++) = 906
				CFLAG:(CHARANUM-1):(LOCAL ++) = 912
				;전격強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 908
				CFLAG:(CHARANUM-1):(LOCAL ++) = 942
				CFLAG:(CHARANUM-1):(LOCAL ++) = 948
				
				;충격弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1003
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1006
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1020
				;충격強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1016
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1043
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1022
				
				;지변弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1503
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1506
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1509
				;지변弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1516
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1515
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1509
				
				;수격弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1603
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1606
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1608
				;수격強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1613
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1611
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1609
				
				;질풍弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1703
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1706
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1708
				;질풍強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1714
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1722
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1725
				
				;중력弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1803
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1806
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1811
				;중력強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1814
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1808
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1816
				
				;핵열弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1908
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1911
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1903
				;핵열強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1914
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1913
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1904
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = -100
				BASE:(CHARANUM-1):빙결 = 110
				BASE:(CHARANUM-1):전격 = -100
				BASE:(CHARANUM-1):충격 = -100
				BASE:(CHARANUM-1):정신 = 0
				BASE:(CHARANUM-1):신경 = 0
				BASE:(CHARANUM-1):파마 = 0
				BASE:(CHARANUM-1):주살 = 0
				BASE:(CHARANUM-1):지변 = -100
				BASE:(CHARANUM-1):질풍 = -100
				BASE:(CHARANUM-1):수격 = -100
				BASE:(CHARANUM-1):중력 = -100
				BASE:(CHARANUM-1):핵열 = -100
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				FOR LOCAL, 320, 341
					TALENT:(CHARANUM-1):LOCAL = 1
				NEXT
				
				BASE:(CHARANUM-1):힘 += 30
				BASE:(CHARANUM-1):마력 += 30
				BASE:(CHARANUM-1):지혜 += 30
				BASE:(CHARANUM-1):인내력 += 30
				BASE:(CHARANUM-1):속도 += 30
				BASE:(CHARANUM-1):운 += 30
				
				CFLAG:(CHARANUM-1):물리피데미지보정 = -70
				CFLAG:(CHARANUM-1):마법피데미지보정 = -70
				CFLAG:(CHARANUM-1):크리티컬무효플래그 = 1
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):공격보정 = MAXBASE:(CHARANUM-1):공격 / 3
				CFLAG:(CHARANUM-1):마법위력보정 = MAXBASE:(CHARANUM-1):마법위력 / 3
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):810 = MAXBASE:(CHARANUM-1):ＨＰ * 5/100
				
			
				CALL BATTLE_START
			
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				던전フラグ:13:1 = 17
				CALL DUNGEON_WORP,0,14,18
				
				;話の都合上EDを再現できないのは残念
				CALL MESSAGE_WINDOW_D, "", "당신들은 어느새/로카파라의 아지트로 돌아와 있었다 "
				CALL MESSAGE_WINDOW_D, "", "사람들이 법석을 떨었다/아무래도 태양이 원래대로 돌아간 것 같다 "
				CALL MESSAGE_WINDOW_D, "", "프레드와 프레드의 동료가 이쪽으로 달려왔다 "
				CALL MESSAGE_WINDOW_D, "프레드", "서프！　게일！　그리고 모두/해냈구나！ "
				CALL MESSAGE_WINDOW_D, "프레드의 동료 소년", "역시 당신들 대단하네！ "
				CALL MESSAGE_WINDOW_D, "", "그 후 로카파라나 카르마시티의 사람들로부터/감사나 보수등을 받았다 "
				CALL MESSAGE_WINDOW_D, "", "그리고 여러가지 일이 있어서 잠잠해졌을 때/서프가 말을 걸어왔다 "
				CALL MESSAGE_WINDOW_D, "서프", "할 이야기가 있다/좀 따라와주지 않을래？ "
				CALL MESSAGE_WINDOW_D, "", "따라가면 거기에는 엠브리온과 로알드/다른세계에서 온 페르소나구사자들도 있었다 "
				CALL MESSAGE_WINDOW_D, "", "다른 자들은 없다 "
				CALL MESSAGE_WINDOW_D, "서프", "태양은 원래대로 돌아갔지만/우리는 악마다 프레드들이 있는/평화로운 곳에 계속 있을 순 없을 거야 "
				CALL MESSAGE_WINDOW_D, "서프", "너는 분명히 싸움을 주로 하는/일을 하고 있다고 들었다 "
				CALL MESSAGE_WINDOW_D, "서프", "그러니까 지금부터 우리들은/너를 도와주고 싶어/괜찮을까？ "
				CALL MESSAGE_WINDOW_D, "", "전력이 증가하는 것에 관해서는 아무 문제도 없다/그러니까 예라고 대답했다 "
				CALL MESSAGE_WINDOW_D, "서프", "고마워 엠브리온은/이제 너의 산하로 들어가지 "
				CALL MESSAGE_WINDOW_D, "프레드", "가버릴 거야？/모두들… "
				CALL MESSAGE_WINDOW_D, "", "프레드가 어느새 보고 있었다/몰래 따라왔을까 "
				CALL MESSAGE_WINDOW_D, "", "게일은 프레드에게 접근했다 "
				CALL MESSAGE_WINDOW_D, "게일", "하나 말하지 않고 있었던게 있다 "
				CALL MESSAGE_WINDOW_D, "게일", "정크야드에서 환생했던/너의 아버지를 죽인것은… "
				CALL MESSAGE_WINDOW_D, "게일", "나다 "
				CALL MESSAGE_WINDOW_D, "프레드", "… "
				CALL MESSAGE_WINDOW_D, "프레드", "로알드에게 들었어… "
				CALL MESSAGE_WINDOW_D, "프레드", "그치만 원망하지 않아 "
				CALL MESSAGE_WINDOW_D, "프레드", "모두들 중요한 것을 가르쳐 줬으니까 "
				CALL MESSAGE_WINDOW_D, "프레드", "우린 앞으로도 계속 동료지？ "
				CALL MESSAGE_WINDOW_D, "게일", "아아 동료다 "
				CALL MESSAGE_WINDOW_D, "로알드", "그런 얼굴을 하지마 프레드/여기는 떠나지만 로카파라나 동료들을/잊지는 않아 "
				CALL MESSAGE_WINDOW_D, "시에로", "그렇지/마음이 내키면 놀러와 줄게 "
				CALL MESSAGE_WINDOW_D, "", "프레드는 조금 웃는 얼굴이 되었다 "
				CALL MESSAGE_WINDOW_D, "프레드", "로알드 술 많이 마시면서/폐 끼치지는 마！ "
				CALL MESSAGE_WINDOW_D, "로알드", "아아 주의할게 "
				CALL MESSAGE_WINDOW_D, "", "게일은 악수를 청하여 손을 내밀었고/프레드는 게일의 손을 마주잡고 악수를 했다 "
				CALL MESSAGE_WINDOW_D, "시에로", "잘가 브라더 "
				CALL MESSAGE_WINDOW_D, "", "당신들은 로카파라를 뒤로 했다 "
				CALL MESSAGE_WINDOW_D, "", "로카파라나 카르마시티의 사람들도 싸울 이유가 없어/평화로운 장소가 되었다 "
				CALL MESSAGE_WINDOW_D, "", "태양이 원래대로 돌아옴으로써 사람들에게 희망이 돌아왔다 "
				CALL MESSAGE_WINDOW_D, "", "그것은 한순간 뿐일지도 모르지만/평화로워지고 낙원이 된 것은 확실하겠지 "
				CALL MESSAGE_WINDOW_D, "", "그렇게 낙원（열반）에… "
				CALL MESSAGE_WINDOW_D, "", "―― Ending No.045 (DIGITAL DEVIL SAGA 아바탈 튜너２　”shan-ti shan-ti..”) "
				
				
				
				
				
				CALL MESSAGE_WINDOW_D, "", @"￥500000을 획득하고、명성300을 얻었다"
				MONEY += 500000
				FLAG:명성 += 300
				FLAG:5 = 9
				
				SETBIT FLAG:취소된ED,45
				SETBIT FLAG:발견ED,45
				
				던전フラグ:13:29 ++
			ENDIF
		ENDIF
	CASE 311
		IF 던전フラグ:13:24 < 2
			CALL MESSAGE_WINDOW_D, "", "문 너머에서 기척이 난다 "
			CALL INPUT_SELECT_D, "[0]저쪽으로 간다/[1]가지 않는다 "
			IF RESULT == 1
				CALL DUNGEON_WORP,3,(FLAG:현X),(FLAG:현Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,3,(FLAG:현X),(FLAG:현Y)-2
				
				CALL MESSAGE_WINDOW_D, "카르마병", "이 무리는 이길 수 없으리라！/얌전히 잡혀라！ "
				
					
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				CALL SET_ENEMY,7,[[キャラ:스세리비메]],18,0,0
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
			
				CALL BATTLE_START
			
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
			
				던전フラグ:13:24 = 2
			ENDIF
		ENDIF
ENDSELECT

SIF LOCAL:1 == 1
	CALL BATTLE_SETTING_SET_BAD_STATUS, 0
	


;=======================================================================
;太陽宝箱
;=======================================================================
@taiyou_takara
#LOCALSIZE 3
;宝箱のフラグ管理用変数の番号
LOCAL = FLAG:현M / 5 + 80
;そのマップの何番눈の宝箱か
LOCAL:1 = (DA:(FLAG:현X):(FLAG:현Y) / 10) % 100
LOCAL:1 += FLAG:현M % 5 * 10

SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
	CASE 6500
		CALL GET_TREASURE, 1047 , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 6600
		CALL GET_TREASURE, 1029 , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 6601
		CALL GET_TREASURE, 1028 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 6700
		CALL GET_TREASURE, 1009 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 6701
		CALL GET_TREASURE, 1039 , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 6900
		CALL GET_TREASURE, 1012 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7000
		CALL GET_TREASURE, 1008 , 3 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7300
		CALL GET_TREASURE, 1014 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7500
		CALL GET_TREASURE, 11440 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7501
		CALL GET_TREASURE, 1035 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7502
		CALL GET_TREASURE, 1036 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7600
		CALL GET_TREASURE, 2119 , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7601
		CALL GET_TREASURE, 1024 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7602
		CALL GET_TREASURE, 11510 , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7700
		CALL GET_TREASURE, 1011 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7900
		CALL GET_TREASURE, 1022 , 5 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 7901
		CALL GET_TREASURE, 1004 , 5 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 8100
		CALL GET_TREASURE, 1013 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 8300
		CALL GET_TREASURE, 1010 , 2 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 8600
		CALL GET_TREASURE, 1015 , 2 , FLAG:현던전, LOCAL , LOCAL:1
		
ENDSELECT
RETURN 1
;=======================================================================
;太陽적
;=======================================================================
@taiyou_enemy, ARG
		IF ARG == 0
			IF FLAG:현M > 81
				SIF RAND:18 == 0		
					RETURN [[キャラ:아마츠미카보시]]
				SIF RAND:17 == 0		
					RETURN [[キャラ:비파법사]]
				SIF RAND:16 == 0		
					RETURN [[キャラ:기리메카라]]
				SIF RAND:15 == 0		
					RETURN [[キャラ:가루다]]
				SIF RAND:14 == 0		
					RETURN [[キャラ:흐레스벨그]]
				SIF RAND:13 == 0		
					RETURN [[キャラ:아낫]]
				SIF RAND:12 == 0		
					RETURN [[キャラ:촉음]]
				SIF RAND:11 == 0		
					RETURN [[キャラ:다이다라봇치]]
				SIF RAND:10 == 0		
					RETURN [[キャラ:세라프]]
				SIF RAND:9 == 0		
					RETURN [[キャラ:쿠단]]
				SIF RAND:8 == 0		
					RETURN [[キャラ:락슈미]]
				SIF RAND:7 == 0		
					RETURN [[キャラ:헤카톤케이르]]
				SIF RAND:6 == 0		
					RETURN [[キャラ:마야(야마)]]
				SIF RAND:5 == 0		
					RETURN [[キャラ:사투르누스]]
			ENDIF
			IF FLAG:현M > 77
				SIF RAND:4 == 0		
					RETURN [[キャラ:미트라스]]
				SIF RAND:3 == 0		
					RETURN [[キャラ:슈우]]
				SIF RAND:2 == 0		
					RETURN [[キャラ:바알]]
				
					RETURN [[キャラ:가이아]]
			ELSEIF FLAG:현M > 73
				SIF RAND:5 == 0		
					RETURN [[キャラ:사투르누스]]
				SIF RAND:4 == 0		
					RETURN [[キャラ:아마츠미카보시]]
				SIF RAND:3 == 0		
					RETURN [[キャラ:비파법사]]
				SIF RAND:2 == 0		
					RETURN [[キャラ:기리메카라]]
				SIF RAND:1 == 0		
					RETURN [[キャラ:가루다]]
			ELSEIF FLAG:현M > 69
				SIF RAND:5 == 0		
					RETURN [[キャラ:흐레스벨그]]
				SIF RAND:4 == 0		
					RETURN [[キャラ:아낫]]
				SIF RAND:3 == 0		
					RETURN [[キャラ:촉음]]
				SIF RAND:2 == 0		
					RETURN [[キャラ:다이다라봇치]]
					
					RETURN [[キャラ:세라프]]
			ELSE
				SIF RAND:4 == 0		
					RETURN [[キャラ:쿠단]]
				SIF RAND:3 == 0		
					RETURN [[キャラ:락슈미]]
				SIF RAND:2 == 0		
					RETURN [[キャラ:헤카톤케이르]]
					
					RETURN [[キャラ:마야(야마)]]
			ENDIF
		ELSEIF ARG == 1
			SIF FLAG:현M > 81
				RETURN 93 + RAND:3
			SIF FLAG:현M > 77
				RETURN 89 + RAND:4
			SIF FLAG:현M > 73
				RETURN 85 + RAND:4
			SIF FLAG:현M > 69
				RETURN 82 + RAND:3
				
				RETURN 79 + RAND:3
		ENDIF

@EVENT_BATTLE_taiyou
IF FINDCHARA_ENEMY([[キャラ:기리메카라]]) == 1 && CFLAG:(RESULT:1):보스플래그 < 1 && 現HP割合(RESULT:1) <= 20 && CFLAG:(RESULT:1):도주플래그 < 1
	LOCAL = RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	LOCAL:3 = 0
	FOR LOCAL:2,0,10
		LOCALS = 포지션{LOCAL:2+7}
		SIF FLAG:LOCALS < 0
			CONTINUE
		LOCAL:3 ++
		LOCAL:4 = LOCAL:2+7
	NEXT
	IF LOCAL:3 == 1
		SETCOLOR 0xff0033
		CALL MESSAGE_B2("기리메카라",, "오오… 나 나도 너희도 끝장이다…")
		CALL MESSAGE_B2("기리메카라",, "들리지 않는가… 중사의 발소리가!!")
		PRINTFORML ┏>CHARA━━━━━━━━━━┓　┏>ACT━━━━━━━━━━━━━━━━━━┓
		PRINTFORM ┃[{LOCAL:1,2}] %CALLNAME:(LOCAL),21,LEFT%┃　┃
		CALLFORM SKILL_NAME_2307,LOCAL
		PRINTFORML %RESULTS,40,LEFT%┃
		PRINTFORMW ┗━━━━━━━━━━━━━┛　┗━━━━━━━━━━━━━━━━━━━━┛
		RESETCOLOR
		CALLFORM ACTION_2307,LOCAL
		CALL REMOVE_POSITION, LOCAL:1
		PRINTFORML 적의 증원이다！
		PRINTFORMW 거대한 기리메카라가 나타났다！
		
				CALL SET_ENEMY,9, [[キャラ:기리메카라]], 97, 0, 1
				CFLAG:(CHARANUM-1):행동횟수 = 2
				;CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):BS무효플래그 = 1
				ABL:(CHARANUM-1):공격상성 = 17
				CSTR:(CHARANUM-1):종족명 = 중사
		
				ABL:(CHARANUM-1):회화타입 = 331
				
				ABL:(CHARANUM-1):스킬1 = 523
				ABL:(CHARANUM-1):스킬2 = 2008
				ABL:(CHARANUM-1):스킬3 = 2045
				ABL:(CHARANUM-1):스킬4 = 2064
				ABL:(CHARANUM-1):스킬5 = 2067
				ABL:(CHARANUM-1):스킬6 = 576
				ABL:(CHARANUM-1):스킬7 = 2448
				ABL:(CHARANUM-1):스킬8 = 2510
				ABL:(CHARANUM-1):스킬9 = 2419
				ABL:(CHARANUM-1):스킬10 = 2447
				ABL:(CHARANUM-1):스킬11 = 2483
				ABL:(CHARANUM-1):스킬12 = 2483
				
				BASE:(CHARANUM-1):화염 = 100
				BASE:(CHARANUM-1):빙결 = 100
				BASE:(CHARANUM-1):전격 = 100
				BASE:(CHARANUM-1):충격 = 100
				BASE:(CHARANUM-1):파마 = 100
				BASE:(CHARANUM-1):주살 = 100
				BASE:(CHARANUM-1):지변 = 100
				BASE:(CHARANUM-1):질풍 = 100
				BASE:(CHARANUM-1):수격 = 100
				BASE:(CHARANUM-1):중력 = 100
				BASE:(CHARANUM-1):핵열 = 100
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				ABL:(CHARANUM-1):아이템2 = 1419;태그링
				ABL:(CHARANUM-1):입수확률2 = 10
				ABL:(CHARANUM-1):아이템3 = 1025
				ABL:(CHARANUM-1):입수확률3 = 25
				
				SIF 던전フラグ:13:8 == 1
					CFLAG:(CHARANUM-1):ＥＸＰ보정 += COEFFICIENT_EXP(ABL:(CHARANUM-1):종족)/2
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
		SETCOLOR 0xff0033
		CALL MESSAGE_B2("중사 기리메카라",, "나의 사명은！ 쓸데없는 것을 먹는 것이다!!")
		CALL MESSAGE_B2("중사 기리메카라",, "사냥하거나 먹거나 할 수 없게 해 주마!!")
		CALL MESSAGE_B2("중사 기리메카라",, "알겠나 빌어먹을 녀석들!!")
		RESETCOLOR
				
	ENDIF
ELSEIF FINDCHARA_ENEMY(3803) && CFLAG:(RESULT:1):보스플래그 > 0
	LOCAL= RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	IF CFLAG:LOCAL:800 < 3 && 現HP割合(LOCAL) <= 25
		CALL MESSAGE_WINDOW, "리얼바루나", "싫어…싫어싫어싫어싫어싫어싫어싫어！ / / "
		CALL MESSAGE_WINDOW, "리얼바루나", "나는 아직… / / "
		
		CFLAG:LOCAL:행동횟수 = 6
		CFLAG:LOCAL:800 = 3
	ELSEIF CFLAG:LOCAL:800 < 2 && 現HP割合(LOCAL) <= 50
		CALL MESSAGE_WINDOW, "리얼바루나", "나는 죽지 않았다！ / / "
		CALL MESSAGE_WINDOW, "리얼바루나", "죽을 리가 없다！ / / "
		
		CFLAG:LOCAL:행동횟수 = 5
		CFLAG:LOCAL:800 = 2
	ELSEIF CFLAG:LOCAL:800 < 1 && 現HP割合(LOCAL) <= 75
		CALL MESSAGE_WINDOW, "리얼바루나", "나는 무엇에도 굴하지 않을거야！ / / "
		
		CFLAG:LOCAL:행동횟수 = 4
		CFLAG:LOCAL:800 = 1
	ENDIF
	
ELSEIF FINDCHARA_ENEMY([[キャラ:카마조츠]]) && CFLAG:(RESULT:1):보스플래그 > 0
	LOCAL= RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	IF CFLAG:LOCAL:802 == 1
		CALL MESSAGE_WINDOW, "카마조츠", "뭐야 방금 건…/지나나 라고…？/ "
		CALL MESSAGE_WINDOW, "카마조츠", "네가 네가 나쁘구나…/나보다 그런놈들을 믿으니까…！/ "
		CALL MESSAGE_WINDOW, "카마조츠", "나와 그녀석들의 뭐가 달라!？/내가 져서 그런가 지나나!!/ "
		CFLAG:LOCAL:802 = 2
	ENDIF
	SIF CFLAG:LOCAL:801 < 0 && 現HP割合(LOCAL) <= 75
		CFLAG:LOCAL:801 = FLAG:경과턴수
	SIF CFLAG:LOCAL:803 < 0 && 現HP割合(LOCAL) <= 50
		CFLAG:LOCAL:803 = FLAG:경과턴수
		
	IF CFLAG:LOCAL:800 < 5 && 現HP割合(LOCAL) <= 25
		CALL MESSAGE_WINDOW, "카마조츠", "나와 너희의…뭐가…달라……/ / "
		CFLAG:LOCAL:행동횟수 ++
		CFLAG:LOCAL:800 = 5
	ELSEIF CFLAG:LOCAL:800 < 4 && 現HP割合(LOCAL) <= 50
		CALL MESSAGE_WINDOW, "카마조츠", "쿳쿳쿠… 사양하지마/나와 너희는 똑같아 / "
		CFLAG:LOCAL:800 = 4
	ELSEIF CFLAG:LOCAL:800 == 2
		CALL MESSAGE_WINDOW, "카마조츠", "산산조각을 내주마！ / / "
		CFLAG:LOCAL:800 = 3
	ELSEIF CFLAG:LOCAL:800 < 2 && 現HP割合(LOCAL) <= 75
		CALL MESSAGE_WINDOW, "카마조츠", "재능없는 바보들이！ / / "
		CALL MESSAGE_WINDOW, "카마조츠", "모두 귀여워 해줄게 / / "
		CFLAG:LOCAL:800 = 2
	ELSEIF CFLAG:LOCAL:800 < 1
		CFLAG:LOCAL:800 = 1
	ENDIF
	IF CFLAG:LOCAL:803 % 3 == FLAG:경과턴수 % 3 && CFLAG:LOCAL:800 > 3
			SETCOLOR 0xff0033
			PRINTFORML ┏>CHARA━━━━━━━━━━┓　┏>ACT━━━━━━━━━━━━━━━━━━┓
			PRINTFORML ┃[ 9] 카마조츠           ┃　┃방어　　　　　　　　　　　　　　　　　　┃
			PRINTFORMW ┗━━━━━━━━━━━━━┛　┗━━━━━━━━━━━━━━━━━━━━┛
			RESETCOLOR
		FOR LOCAL:1, 40, 57
			IF MAXBASE:LOCAL:(LOCAL:1) > 100 && MAXBASE:LOCAL:(LOCAL:1) != 999
				BASE:LOCAL:(LOCAL:1) = 100
				MAXBASE:LOCAL:(LOCAL:1) = 100
			ENDIF
		NEXT
		CFLAG:LOCAL:물리피데미지보정 = -90
		CFLAG:LOCAL:마법피데미지보정 = -90
		CFLAG:LOCAL:크리티컬무효플래그 = 1
		BASE:LOCAL:(CFLAG:LOCAL:851 + CFLAG:LOCAL:850 + CFLAG:LOCAL:852) = 2000
		MAXBASE:LOCAL:(CFLAG:LOCAL:850 * 2 + 4) = 2000
		CFLAG:LOCAL:1291 = 1
		;CFLAG:LOCAL:애널라이즈불가 = 1
		PRINTW ＞땅에 발을 올려놓고 전신을 날개로 가렸다
	ELSEIF (CFLAG:LOCAL:803 + 2) % 3 == (FLAG:경과턴수) % 3 && BASE:LOCAL:파마 == 100
			SETCOLOR 0xff0033
			PRINTFORML ┏>CHARA━━━━━━━━━━┓　┏>ACT━━━━━━━━━━━━━━━━━━┓
			PRINTFORML ┃[ 9] 카마조츠           ┃　┃방어해제　　　　　　　　　　　　　　　　┃
			PRINTFORMW ┗━━━━━━━━━━━━━┛　┗━━━━━━━━━━━━━━━━━━━━┛
			RESETCOLOR
				MAXBASE:LOCAL:검격 = 50
				MAXBASE:LOCAL:비구 = 999
				MAXBASE:LOCAL:타격 = 50
				MAXBASE:LOCAL:전술 = 100
				MAXBASE:LOCAL:화염 = 100
				MAXBASE:LOCAL:빙결 = 100
				MAXBASE:LOCAL:전격 = 120
				MAXBASE:LOCAL:충격 = 0
				MAXBASE:LOCAL:파마 = 120
				MAXBASE:LOCAL:주살 = 100
				MAXBASE:LOCAL:지변 = 0
				MAXBASE:LOCAL:질풍 = 0
				MAXBASE:LOCAL:수격 = 100
				MAXBASE:LOCAL:중력 = 120
				MAXBASE:LOCAL:핵열 = 100
				MAXBASE:LOCAL:만능 = 100
				MAXBASE:LOCAL:사이코 = 100
				BASE:LOCAL:검격 = 50
				BASE:LOCAL:타격 = 999
				BASE:LOCAL:비구 = 50
				BASE:LOCAL:전술 = 100
				BASE:LOCAL:화염 = 100
				BASE:LOCAL:빙결 = 100
				BASE:LOCAL:전격 = 120
				BASE:LOCAL:충격 = 0
				BASE:LOCAL:파마 = 120
				BASE:LOCAL:주살 = 100
				BASE:LOCAL:지변 = 0
				BASE:LOCAL:질풍 = 0
				BASE:LOCAL:수격 = 100
				BASE:LOCAL:중력 = 120
				BASE:LOCAL:핵열 = 100
				BASE:LOCAL:만능 = 100
				BASE:LOCAL:사이코 = 100
				CFLAG:LOCAL:물리피데미지보정 = 0
				CFLAG:LOCAL:마법피데미지보정 = 0
		CFLAG:LOCAL:크리티컬무효플래그 = 0
				
				CFLAG:LOCAL:1291 = 0
				;CFLAG:LOCAL:애널라이즈불가 = 0
				PRINTW ＞카마조츠는 방어를 풀었다
	ENDIF
ELSEIF FINDCHARA_ENEMY([[キャラ:라후]]) && CFLAG:(RESULT:1):보스플래그 > 0
	LOCAL= RESULT:1
	;LOCAL:1 = CPOS(LOCAL)
	LOCAL:2= RESULT:1 + 1
	;LOCAL:3 = CPOS(LOCAL:2)
	LOCAL:5 = 0
	FOR LOCAL:4,0,10
		LOCALS = 포지션{LOCAL:4+7}
		SIF FLAG:LOCALS < 0
			CONTINUE
		SIF BASE:(FLAG:LOCALS):ＨＰ < 1
			CONTINUE
		LOCAL:5 ++
	NEXT
	IF CFLAG:LOCAL:800 < 2 && LOCAL:5 < 2
		IF NAME:LOCAL == "라후（몸）"
			CALL MESSAGE_WINDOW, "라후（몸）", "우가…　그그그그… / / "
			CALL MESSAGE_WINDOW, "라후（몸）", "머 머리가아아아아아… / / "
		ELSE
			CALL MESSAGE_WINDOW, "라후（머리）", "그우욱 모 몸이… / / "
		ENDIF
		;CFLAG:(LOCAL:2):800 = 2
		CFLAG:LOCAL:800 = 2
	ELSEIF CFLAG:LOCAL:800 < 1
		CALL MESSAGE_WINDOW, "라후", "그후후/뼛속까지 빨아먹어주마！！ "
		CFLAG:(LOCAL:2):800 = 1
		CFLAG:LOCAL:800 = 1
	ENDIF
ELSEIF FINDCHARA_ENEMY([[キャラ:라바나]]) && CFLAG:(RESULT:1):보스플래그 > 0
	LOCAL= RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	
	IF CFLAG:LOCAL:800 < 3 && 現HP割合(LOCAL) <= 25
		CALL MESSAGE_WINDOW, "라바나", "또…죽는단 말이냐…!? / / "
		CALL MESSAGE_WINDOW, "라바나", "도대체 몇 번이나…이런 녀석들 때문에… / / "
		
		CFLAG:LOCAL:행동횟수 = 6
		CFLAG:LOCAL:800 = 3
	ELSEIF CFLAG:LOCAL:800 < 2 && 現HP割合(LOCAL) <= 50
		CALL MESSAGE_WINDOW, "라바나", "나는 멸망하리라！ 나는 사라지리라！/내가…내가 대령이다！！ / / "
		
		CFLAG:LOCAL:행동횟수 = 5
		CFLAG:LOCAL:800 = 2
	ELSEIF CFLAG:LOCAL:800 < 1 && 現HP割合(LOCAL) <= 75
		CALL MESSAGE_WINDOW, "라바나", "이 신체에 물리공격은 효과가 없다！ / / "
		CALL MESSAGE_WINDOW, "라바나", "나는 대령이다！/지략！　정신！　육체！ / "
		CALL MESSAGE_WINDOW, "라바나", "AI따위에 못 미칠 리가 없다 / / "
		
		CFLAG:LOCAL:행동횟수 = 4
		CFLAG:LOCAL:800 = 1
	ENDIF
ELSEIF FINDCHARA_ENEMY(1513) && CFLAG:(RESULT:1):보스플래그 > 0
	LOCAL= RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	
	SIF CFLAG:LOCAL:800 < 1 && 現HP割合(LOCAL) <= 75
		CFLAG:LOCAL:800 = 1
	IF CFLAG:LOCAL:800 < 2 && 現HP割合(LOCAL) <= 50
		CFLAG:LOCAL:800 = 2
		CFLAG:LOCAL:802 = FLAG:경과턴수
	ENDIF
	IF CFLAG:LOCAL:800 < 3 && 現HP割合(LOCAL) <= 25
		CFLAG:LOCAL:800 = 3
		ABL:LOCAL:스킬4 = 2048
	ENDIF
	$LP_B
	
	LOCAL:2 = RAND:9
	LOCAL:3 = LOCAL:2
	SIF LOCAL:3 > 3
		LOCAL:3 += 4
	CFLAG:LOCAL:801 = LOCAL:3
	
	IF LOCAL:3 < 4 && LOCAL:3 % 2
		LOCAL:4 = LOCAL:3 - 1
	ELSEIF LOCAL:3 < 4
		LOCAL:4 = LOCAL:3 + 1
	ELSEIF LOCAL:3 == 8
		LOCAL:4 = 10
	ELSEIF LOCAL:3 == 10
		LOCAL:4 = 8
	ELSEIF LOCAL:3 == 9
		LOCAL:4 = 11
	ELSEIF LOCAL:3 == 11
		LOCAL:4 = 12
	ELSEIF LOCAL:3 == 12
		LOCAL:4 = 9
	ELSE
		GOTO LP_B
	ENDIF
	
	FOR LOCAL:5, 4, 17
		SIF LOCAL:5 > 7 && LOCAL:5 < 12
			CONTINUE
		LOCALS = %GET_TYPE(LOCAL:5)%
		BASE:LOCAL:LOCALS = -350
		MAXBASE:LOCAL:LOCALS = -350
		IF LOCAL:4 + 4 == LOCAL:5
			BASE:LOCAL:LOCALS = 110
			MAXBASE:LOCAL:LOCALS = 110
		ENDIF
	NEXT
	
	LOCAL:5 = 820 + LOCAL:2 * 6
	SIF CFLAG:LOCAL:800 > 1
		LOCAL:5 += 3
	
	ABL:LOCAL:스킬1 = CFLAG:LOCAL:(LOCAL:5)
	ABL:LOCAL:스킬6 = CFLAG:LOCAL:(LOCAL:5 ++)
	ABL:LOCAL:스킬2 = CFLAG:LOCAL:(LOCAL:5)
	ABL:LOCAL:스킬7 = CFLAG:LOCAL:(LOCAL:5 ++)
	ABL:LOCAL:스킬3 = CFLAG:LOCAL:(LOCAL:5)
	ABL:LOCAL:스킬8 = CFLAG:LOCAL:(LOCAL:5 ++)
	
	ABL:LOCAL:스킬9 = 2454 + LOCAL:3
	
	IF CFLAG:LOCAL:800 > 0
		FOR LOCAL:5, 8, 12
			LOCAL:(LOCAL:5) = 0
			LOCALS = %GET_TYPE(LOCAL:5)%
			FOR LOCAL:6, 1, 7
				SIF POS(LOCAL:6) < 0
					CONTINUE
				SIF GET_STATE(CFLAG:POS(LOCAL:6):ステート) == "DYING"
					CONTINUE
				SIF LOCAL:(LOCAL:5) < MAXBASE:POS(LOCAL:6):LOCALS && MAXBASE:POS(LOCAL:6):LOCALS != 999
					LOCAL:(LOCAL:5) = MAXBASE:POS(LOCAL:6):LOCALS
			NEXT
		NEXT
		LOCAL:6 = 12
		LOCAL:12 = 0
		LOCAL:13 = 0
		LOCAL:14 = 0
		LOCAL:15 = 0
		LOCAL:16 = 0
		LOCAL:17 = 0
		LOCAL:18 = 0
		LOCAL:19 = 0
		
		FOR LOCAL:5, 8, 12
			IF LOCAL:(LOCAL:5) > 0
				LOCAL:(LOCAL:6 ++) = LOCAL:5
				LOCAL:(LOCAL:6 ++) = LOCAL:(LOCAL:5)
			ENDIF
		NEXT
		LOCAL:7 = 0
		IF LOCAL:18 > 0 && !RAND:4 && RAND:100 < LOCAL:19
			LOCAL:7 = LOCAL:18
		ELSEIF LOCAL:16 > 0 && !RAND:3 && RAND:100 < LOCAL:17
			LOCAL:7 = LOCAL:16
		ELSEIF LOCAL:14 > 0 && !RAND:2 && RAND:100 < LOCAL:15
			LOCAL:7 = LOCAL:14
		ELSEIF LOCAL:12 > 0 && !RAND:1 && RAND:100 < LOCAL:13
			LOCAL:7 = LOCAL:12
		ENDIF
		IF LOCAL:7 == 11
			ABL:LOCAL:스킬6 = 1423
			ABL:LOCAL:스킬7 = 1425
			ABL:LOCAL:스킬8 = 1414
		ELSEIF LOCAL:7 == 10
			ABL:LOCAL:스킬6 = 1313
			ABL:LOCAL:스킬7 = 1338
			ABL:LOCAL:스킬8 = 1310
		ELSEIF LOCAL:7 == 9
			ABL:LOCAL:스킬6 = 1227
			ABL:LOCAL:스킬7 = 1228
			ABL:LOCAL:스킬8 = 2066
		ELSEIF LOCAL:7 == 8
			ABL:LOCAL:스킬6 = 1124
			ABL:LOCAL:스킬7 = 1140
			ABL:LOCAL:스킬8 = 2066
		ELSE
			ABL:LOCAL:스킬6 = 2066
			ABL:LOCAL:스킬7 = 2066
			ABL:LOCAL:스킬8 = 2066
		ENDIF
		IF CFLAG:LOCAL:800 > 2
			ABL:LOCAL:스킬6 = 2045
			ABL:LOCAL:스킬7 = 2048
		ENDIF
	ENDIF
	IF FLAG:DEBUG
		FOR LOCAL:5, 60, 69
			CALLFORM SKILL_NAME_{ABL:LOCAL:(LOCAL:5)},LOCAL
			PRINTFORML %RESULTS%
		NEXT
			WAIT
	ENDIF
	
	IF CFLAG:LOCAL:800 > 1
		SETBIT TFLAG:마카라브레이크,1
		SETBIT TFLAG:실드브레이크,1
	ENDIF
	IF CFLAG:LOCAL:800 > 2
		FOR LOCAL:5, 1, 7
			SIF POS(LOCAL:5) < 0
				CONTINUE
			CFLAG:POS(LOCAL:5):(GET_TYPE(LOCAL:3 + 4)+"가드킬") = 10
		NEXT
		IF FLAG:DEBUG
			PRINTFORML %GET_TYPE(LOCAL:3 + 4)%
			WAIT
		ENDIF
	ENDIF
ENDIF
@SET_ACTION_ローカ브라흐마,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
		LOCAL:1 = 0
		LOCAL:2 = 0
		LOCAL:3 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("SHOCK")
				LOCAL:1 = 1
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("FREEZE")
				LOCAL:1 = 1
			SIF CFLAG:POS(LOCAL):ステート == 20
				LOCAL:2 = 1
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("CURSE")
				LOCAL:3 = 1
		NEXT
		IF RAND:3 > 0 && LOCAL:3 == 1
				CFLAG:ARG:입력행동 = 1414
				CALL RANDOM_TARGET,ARG,1414
				RETURN 1
		ENDIF
		IF RAND:3 > 0 && LOCAL:2 == 1
				CFLAG:ARG:입력행동 = 1310
				CALL RANDOM_TARGET,ARG,1310
				RETURN 1
		ENDIF
		IF LOCAL:1 == 1
			IF !RAND:2 && CFLAG:ARG:800 > 2
				CFLAG:ARG:입력행동 = 2408
				CALL RANDOM_TARGET,ARG,2408
				RETURN 1
			ELSE
				CFLAG:ARG:입력행동 = 2514
				CALL RANDOM_TARGET,ARG,2514
				RETURN 1
			ENDIF
		ENDIF
IF CFLAG:ARG:800 > 1
		LOCAL:1 = 0
		LOCAL:2 = 0
		LOCAL:3 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			FOR LCOUNT,0,6
				SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > 0
					LOCAL:1 += CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
				SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") == 32
					LOCAL:3 = 1
			NEXT
			SIF LOCAL:2 < LOCAL:1
				LOCAL:2 = LOCAL:1
		NEXT
		LOCAL:1 = LOCAL:2
		FOR LOCAL,0,6
			SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
				LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
			SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
				LOCAL:3 = 1
		NEXT
		IF LOCAL:1 > 0 && ((RAND:250 + 50) < LOCAL:1 || LOCAL:3 == 1 || CFLAG:ARG:802 == FLAG:경과턴수)
			CFLAG:ARG:입력행동 = 2513
			CALL RANDOM_TARGET,ARG,2513
			RETURN 1
		ENDIF
ENDIF
IF !RAND:9 && CFLAG:ARG:800 > 0 && (CFLAG:ARG:기합플래그 == 0 || CFLAG:ARG:집중플래그 == 0)
		CFLAG:ARG:입력행동 = 2518
		CALL RANDOM_TARGET,ARG,2518
		RETURN 1
ENDIF
CALL 랜덤행동 , ARG



@SET_ACTION_ローカ라바나,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
IF CFLAG:ARG:행동한횟수 == 0 && CFLAG:ARG:800 > 0
	IF FLAG:경과턴수 % 3 == 0
			CFLAG:ARG:입력행동 = 2530
			CALL RANDOM_TARGET,ARG,2530
			RETURN 1
	ELSEIF FLAG:경과턴수 % 3 == 1
		LOCAL:1 = 0
		LOCAL:2 = 0
		LOCAL:3 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			FOR LCOUNT,0,6
				SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > 0
					LOCAL:1 += CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
				SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") == 32
					LOCAL:2 = 1
			NEXT
			SIF LOCAL:3 < LOCAL:1
				LOCAL:3 = LOCAL:1
		NEXT
		IF RAND:200 < LOCAL:3 || LOCAL:2 == 1
				CFLAG:ARG:입력행동 = 509
				CALL RANDOM_TARGET,ARG,509
				RETURN 1
		ELSE
				CFLAG:ARG:입력행동 = 523
				CALL RANDOM_TARGET,ARG,523
				RETURN 1
		ENDIF
	ELSE
		LOCAL:1 = 0
		LOCAL:2 = 0
		FOR LOCAL,0,6
			SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
				LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
			SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
				LOCAL:2 = 1
		NEXT
		IF RAND:100 < LOCAL:1 || LOCAL:2 == 1
				CFLAG:ARG:입력행동 = 505
				CALL RANDOM_TARGET,ARG,505
				RETURN 1
		ELSE
				CFLAG:ARG:입력행동 = 530
				CALL RANDOM_TARGET,ARG,530
				RETURN 1
		ENDIF
	ENDIF
ENDIF
		LOCAL:1 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			SIF CFLAG:POS(LOCAL):방어플래그 > 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("SLIP")
				LOCAL:1 = LOCAL
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("SHOCK")
				LOCAL:1 = LOCAL
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("FREEZE")
				LOCAL:1 = LOCAL
			SIF LOCAL:1 > 0
				BREAK
		NEXT
IF LOCAL:1 > 0
	LOCAL = LOCAL:1
	CFLAG:ARG:타겟 = LOCAL
	IF CFLAG:POS(LOCAL):물리반사플래그 < 1
		LOCAL:2 = 0
		LOCAL:3 = 0
		LOCAL:4 = 0
		LOCAL:5 = 0
		FOR LCOUNT,0,2
			SIF MAXBASE:POS(LOCAL):40 > 100 * LCOUNT && MAXBASE:POS(LOCAL):40 != 999
				LOCAL:2 = 1 + LCOUNT
			SIF MAXBASE:POS(LOCAL):41 > 100 * LCOUNT && MAXBASE:POS(LOCAL):41 != 999
				LOCAL:3 = 1 + LCOUNT
			SIF MAXBASE:POS(LOCAL):42 > 100 * LCOUNT && MAXBASE:POS(LOCAL):42 != 999
				LOCAL:4 = 1 + LCOUNT
			SIF MAXBASE:POS(LOCAL):43 > 100 * LCOUNT && MAXBASE:POS(LOCAL):43 != 999
				LOCAL:5 = 1 + LCOUNT
		NEXT
		SIF LOCAL:2 < 1 && MAXBASE:POS(LOCAL):40 < 100 && MAXBASE:POS(LOCAL):40 >= 0
			LOCAL:2 = 1
		SIF LOCAL:3 < 1 && MAXBASE:POS(LOCAL):41 < 100 && MAXBASE:POS(LOCAL):41 >= 0
			LOCAL:3 = 1
		SIF LOCAL:4 < 1 && MAXBASE:POS(LOCAL):42 < 100 && MAXBASE:POS(LOCAL):42 >= 0
			LOCAL:4 = 1
		SIF LOCAL:5 < 1 && MAXBASE:POS(LOCAL):43 < 100 && MAXBASE:POS(LOCAL):43 >= 0
			LOCAL:5 = 1
		
		
		
		FOR LCOUNT,2,0,-1
			IF LOCAL:4 == LCOUNT
				CFLAG:ARG:입력행동 = 219;一番高い
				RETURN 1
			ELSEIF LOCAL:3 == LCOUNT && !CFLAG:POS(LOCAL):무효플래그
				CFLAG:ARG:입력행동 = 151;640
				RETURN 1
			ELSEIF LOCAL:5 == LCOUNT && !CFLAG:POS(LOCAL):무효플래그
				CFLAG:ARG:입력행동 = 314;600
				RETURN 1
			ELSEIF LOCAL:2 == LCOUNT && !CFLAG:POS(LOCAL):무효플래그
				CFLAG:ARG:입력행동 = 59;600
				RETURN 1
			ELSEIF LOCAL:3 == LCOUNT
				CFLAG:ARG:입력행동 = 152;495複
				RETURN 1
			ELSEIF LOCAL:5 == LCOUNT
				CFLAG:ARG:입력행동 = 305;490複
				RETURN 1
			ELSEIF LOCAL:2 == LCOUNT
				CFLAG:ARG:입력행동 = 63;440複
				RETURN 1
			ENDIF
		NEXT
			IF LOCAL:4 > 0
				CFLAG:ARG:입력행동 = 219;一番高い
				RETURN 1
			ELSEIF LOCAL:3 > 0 && !CFLAG:POS(LOCAL):무효플래그
				CFLAG:ARG:입력행동 = 151;640
				RETURN 1
			ELSEIF LOCAL:5 > 0 && !CFLAG:POS(LOCAL):무효플래그
				CFLAG:ARG:입력행동 = 314;600
				RETURN 1
			ELSEIF LOCAL:2 > 0 && !CFLAG:POS(LOCAL):무효플래그
				CFLAG:ARG:입력행동 = 59;600
				RETURN 1
			ELSEIF LOCAL:3 > 0
				CFLAG:ARG:입력행동 = 152;495複
				RETURN 1
			ELSEIF LOCAL:5 > 0
				CFLAG:ARG:입력행동 = 305;490複
				RETURN 1
			ELSEIF LOCAL:2 > 0
				CFLAG:ARG:입력행동 = 63;440複
				RETURN 1
			ENDIF
	ENDIF
	CFLAG:ARG:입력행동 = 2049
	RETURN 1
ENDIF

IF CFLAG:ARG:행동한횟수 == 1 && CFLAG:ARG:800 > 2
	
		IF 1 == 0
		ELSEIF !RAND:5 && CFLAG:ARG:집중플래그 < 1 && FLAG:경과턴수 % 2 == 1
			CFLAG:ARG:입력행동 = 512
			CALL RANDOM_TARGET,ARG,512
			RETURN 1
		ELSEIF !RAND:4
			IF FLAG:경과턴수 % 2 == 1
				CFLAG:ARG:입력행동 = 568
				CALL RANDOM_TARGET,ARG,568
			ELSE
				CFLAG:ARG:입력행동 = 566
				CALL RANDOM_TARGET,ARG,566
			ENDIF
			RETURN 1
		ELSEIF !RAND:3
			CFLAG:ARG:입력행동 = 1125
			CALL RANDOM_TARGET,ARG,1125
			RETURN 1
		ELSEIF !RAND:2
			CFLAG:ARG:입력행동 = 2066
			CALL RANDOM_TARGET,ARG,2066
			RETURN 1
		ELSEIF !RAND:1
				CFLAG:ARG:입력행동 = 1227
				CALL RANDOM_TARGET,ARG,1227
				RETURN 1
		ENDIF
ENDIF

IF CFLAG:ARG:800 > 0
	IF FLAG:경과턴수 % 2 == 1
		IF 1 == 0
		ELSEIF !RAND:3  && CFLAG:ARG:800 > 2
			CFLAG:ARG:입력행동 = 2008
			CALL RANDOM_TARGET,ARG,2008
			RETURN 1
		ELSEIF !RAND:2  && CFLAG:ARG:800 > 2
			CFLAG:ARG:입력행동 = 2045
			CALL RANDOM_TARGET,ARG,2045
			RETURN 1
		ELSEIF !RAND:4 && CFLAG:ARG:집중플래그 < 1
			CFLAG:ARG:입력행동 = 512
			CALL RANDOM_TARGET,ARG,512
			RETURN 1
		ELSEIF !RAND:3
				CFLAG:ARG:입력행동 = 2531
				CALL RANDOM_TARGET,ARG,2531
				RETURN 1
		ELSEIF !RAND:2
				CFLAG:ARG:입력행동 = 944
				CALL RANDOM_TARGET,ARG,944
				RETURN 1
		ELSE
				CFLAG:ARG:입력행동 = 811
				CALL RANDOM_TARGET,ARG,811
				RETURN 1
		ENDIF
	ELSE
		LOCAL:1 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			SIF CFLAG:POS(LOCAL):방어플래그 < 1
				CONTINUE
			LOCAL:1 = 1
			BREAK
		NEXT
		
		IF 1 == 0
		ELSEIF LOCAL:1 == 1
			CFLAG:ARG:입력행동 = 209
			CALL RANDOM_TARGET,ARG,209
			RETURN 1
		ELSEIF !RAND:3  && CFLAG:ARG:800 > 2
			CFLAG:ARG:입력행동 = 2067
			CALL RANDOM_TARGET,ARG,2067
			RETURN 1
		ELSEIF !RAND:8 || (!RAND:2 && CFLAG:ARG:800 > 2)
			CFLAG:ARG:입력행동 = 349
			CALL RANDOM_TARGET,ARG,349
			RETURN 1
		ELSEIF !RAND:7
			CFLAG:ARG:입력행동 = 219
			CALL RANDOM_TARGET,ARG,219
			RETURN 1
		ELSEIF !RAND:6
			CFLAG:ARG:입력행동 = 126
			CALL RANDOM_TARGET,ARG,126
			RETURN 1
		ELSEIF !RAND:5
			CFLAG:ARG:입력행동 = 139
			CALL RANDOM_TARGET,ARG,139
			RETURN 1
		ELSEIF !RAND:4
			CFLAG:ARG:입력행동 = 6
			CALL RANDOM_TARGET,ARG,6
			RETURN 1
		ELSEIF !RAND:3
				CFLAG:ARG:입력행동 = 70
				CALL RANDOM_TARGET,ARG,70
				RETURN 1
		ELSEIF !RAND:2
				CFLAG:ARG:입력행동 = 347
				CALL RANDOM_TARGET,ARG,944
				RETURN 1
		ELSE
				CFLAG:ARG:입력행동 = 207
				CALL RANDOM_TARGET,ARG,811
				RETURN 1
		ENDIF
	ENDIF
ENDIF

CALL 랜덤행동 , ARG

@SET_ACTION_ローカ라후（몸）,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
IF CFLAG:ARG:행동한횟수 == 0
	LOCAL:11 = 32
	LOCAL:12 = 32
	LOCAL:13 = 32
	LOCAL:14 = 32
	LOCAL:15 = 32
	LOCAL:16 = 32
	LOCAL:17 = -16
	LOCAL:1 = 0
	LOCAL:2 = 0
	FOR LCOUNT,ARG,ARG+2
		FOR LOCAL,0,6
			SIF CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
				LOCAL:1 -= CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화")
			SIF CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
				LOCAL:2 = 1
			SIF CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화") < LOCAL:(11 + LOCAL)
				LOCAL:(11 + LOCAL) = CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화")
		NEXT
	NEXT
	IF RAND:100 < LOCAL:1 || LOCAL:2 == 1
			CFLAG:ARG:입력행동 = 505
			CALL RANDOM_TARGET,ARG,505
			RETURN 1
	ENDIF
	LOCAL:1 = 0
	LOCAL:2 = 0
	LOCAL:3 = 0
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		FOR LCOUNT,0,6
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > 0
				LOCAL:1 += CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") == 32
				LOCAL:2 = 1
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > LOCAL:17
				LOCAL:17 = CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
		NEXT
		SIF LOCAL:3 < LOCAL:1
			LOCAL:3 = LOCAL:1
	NEXT
	IF RAND:200 < LOCAL:3 || LOCAL:2 == 1
			CFLAG:ARG:입력행동 = 509
			CALL RANDOM_TARGET,ARG,509
			RETURN 1
	ENDIF
;기합、파워브레스、다크브레스、랜더마이저
	LOCAL:0 = 0
	LOCAL:1 = 0
	LOCAL:2 = 0
	LOCAL:3 = 0
	LCOUNT = 0
	SIF CFLAG:ARG:기합플래그 < 1
		LOCAL:(LCOUNT++) = 511
	SIF LOCAL:11 < 32 && LOCAL:13 < 32 && LOCAL:14 < 32
		LOCAL:(LCOUNT++) = 524
	SIF LOCAL:12 < 32 && LOCAL:15 < 32
		LOCAL:(LCOUNT++) = 539
	SIF LOCAL:17 > -16
		LOCAL:(LCOUNT++) = 523
	FOR LOCAL:4,3,-1,-1
		IF !RAND:(LOCAL:4 + 6) && LOCAL:(LOCAL:4) > 0
			CFLAG:ARG:입력행동 = LOCAL:(LOCAL:4)
			CALL RANDOM_TARGET,ARG,LOCAL:(LOCAL:4)
			RETURN 1
		ENDIF
	NEXT
ELSEIF !RAND:6 && CFLAG:ARG:기합플래그 < 1
			CFLAG:ARG:입력행동 = 511
			CALL RANDOM_TARGET,ARG,511
			RETURN 1
ENDIF

		$DECIDE_ACTION
		CALL SEARCH_ACT,ARG
		IF RESULT == 0
			CFLAG:ARG:입력행동 = -1
			CFLAG:ARG:방어플래그 = 1
			RETURN 0
		ENDIF
;		PRINTFORML [{CFLAG:ARG:5}]の스킬数 {RESULT}
		LOCAL = RAND:RESULT
		;스킬番号決定
		LOCAL:1 = S:(10+LOCAL)
;		PRINTFORML [{CFLAG:ARG:5}]の스킬 {LOCAL:1}
		$TARGET_LOOP
		
		CALL RANDOM_TARGET,ARG,LOCAL:1
		CALLFORM SKILL_TARGET_{LOCAL:1}
		;ここで스킬番号を行動内容に代入
		SIF CFLAG:ARG:타겟 == -1
			GOTO DECIDE_ACTION
		SIF CFLAG:ARG:타겟 == CFLAG:(ARG + 1):802
			GOTO DECIDE_ACTION
		CFLAG:ARG:입력행동 = LOCAL:1
		
@SET_ACTION_ローカ라후（머리）,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ

	LOCAL:3 = 0
	FOR LOCAL:2,0,10
		LOCALS = 포지션{LOCAL:2+7}
		SIF FLAG:LOCALS < 0
			CONTINUE
		SIF BASE:(FLAG:LOCALS):ＨＰ < 1
			CONTINUE
		LOCAL:3 ++
	NEXT
IF LOCAL:3 > 1 && (CFLAG:ARG:801 % 3 == FLAG:경과턴수 % 4 || FLAG:경과턴수 == 0 ) && CFLAG:ARG:802 < 1
	VARSET LOCAL
	LCOUNT = 0
		FOR LOCAL:10, 1, 7
			SIF POS(LOCAL:10) < 0
				CONTINUE
			SIF GET_STATE(CFLAG:POS(LOCAL:10):ステート) == "DYING"
				CONTINUE
			LOCAL:7 ++
			SIF CFLAG:POS(LOCAL:10):所属ＣＯＭＰ != -1
				CONTINUE
			LOCAL:(LCOUNT++) = LOCAL:10
		NEXT
	IF LOCAL:7 > 1 && LCOUNT > 0
				$LP
				CFLAG:ARG:타겟 = LOCAL:(RAND:LCOUNT)
				SIF CFLAG:ARG:타겟 < 1
					GOTO LP
				CFLAG:ARG:입력행동 = 2528
				RETURN 1
	ENDIF
ELSEIF CFLAG:ARG:802 > 0
	CFLAG:ARG:타겟 = CFLAG:ARG:802
	CFLAG:ARG:입력행동 = 2528
	RETURN 1
ENDIF
	LOCAL:1 = 0
	LOCAL:2 = 0
	LOCAL:3 = 0
	FOR LOCAL,0,6
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
			LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
			LOCAL:2 = 1
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 32
			LOCAL:3 = 1
	NEXT
IF RAND:50 < LOCAL:1 || LOCAL:2 == 1 || !RAND:20
		CFLAG:ARG:입력행동 = 2512
		CALL RANDOM_TARGET,ARG,2512
		RETURN 1
ELSEIF !RAND:10 && LOCAL:3 == 1
	IF LOCAL:1 > 23
		CFLAG:ARG:입력행동 = 2512
		CALL RANDOM_TARGET,ARG,2512
		RETURN 1
	ELSE
		CFLAG:ARG:입력행동 = 530
		CALL RANDOM_TARGET,ARG,530
		RETURN 1
	ENDIF
ELSEIF !RAND:9 && CFLAG:ARG:집중플래그 < 1
			CFLAG:ARG:입력행동 = 512
			CALL RANDOM_TARGET,ARG,512
			RETURN 1
ENDIF

CALL 랜덤행동 , ARG

@SET_ACTION_ローカ카마조츠,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
IF CFLAG:ARG:800 > 1 && (CFLAG:ARG:801 % 5) == (FLAG:경과턴수 % 5) && CFLAG:ARG:행동한횟수 < 3
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF GET_STATE(CFLAG:POS(LOCAL):ステート) == "DYING"
				CONTINUE
			IF CFLAG:POS(LOCAL):ステート != GET_STATE_NUM("FLY")
				CFLAG:ARG:타겟 = LOCAL
				CFLAG:ARG:입력행동 = 2511
				RETURN 1
			ENDIF
		NEXT
ENDIF
IF CFLAG:ARG:행동한횟수 == 0
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		IF CFLAG:POS(LOCAL):질풍가드킬 < 1 || CFLAG:POS(LOCAL):충격가드킬 < 1
			CFLAG:ARG:입력행동 = 2513
			CALL RANDOM_TARGET,ARG,2513
			RETURN 1
		ENDIF
	NEXT
	LOCAL:1 = 0
	LOCAL:2 = 0
	FOR LOCAL,0,6
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
			LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
			LOCAL:2 = 1
	NEXT
	IF RAND:100 < LOCAL:1 || LOCAL:2 == 1
			CFLAG:ARG:입력행동 = 505
			CALL RANDOM_TARGET,ARG,505
			RETURN 1
	ENDIF
	LOCAL:1 = 0
	LOCAL:2 = 0
	LOCAL:3 = 0
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		FOR LCOUNT,0,6
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > 0
				LOCAL:1 += CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") == 32
				LOCAL:2 = 1
		NEXT
		SIF LOCAL:3 < LOCAL:1
			LOCAL:3 = LOCAL:1
	NEXT
	IF RAND:200 < LOCAL:3 || LOCAL:2 == 1
			CFLAG:ARG:입력행동 = 509
			CALL RANDOM_TARGET,ARG,509
			RETURN 1
	ENDIF
ENDIF

	
IF CFLAG:ARG:800 > 1 && !RAND:5
	FOR LOCAL:1, 1, 11
		CALL RANDOM_TARGET,ARG,2511
		IF CFLAG:POS(CFLAG:ARG:타겟):ステート != GET_STATE_NUM("FLY")
			CFLAG:ARG:입력행동 = 2511
			RETURN 1
		ENDIF
	NEXT
ENDIF

CALL 랜덤행동 , ARG

@SET_ACTION_ローカ리얼바루나,ARG
#LOCALSIZE 1
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
IF CFLAG:ARG:800 > 0 && CFLAG:ARG:행동한횟수 == 0
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		IF CFLAG:POS(LOCAL):주살가드킬 < 1
			CFLAG:ARG:입력행동 = [[스킬:주살가드브레이크]]
			CALL RANDOM_TARGET,ARG,[[스킬:주살가드브레이크]]
			RETURN 1
		ENDIF
	NEXT
	CALL RANDOM_TARGET,ARG,1623
	IF !RAND:2
		CFLAG:ARG:입력행동 = 1410
	ELSE
		CFLAG:ARG:입력행동 = 1623
	ENDIF
	RETURN 1
ENDIF
IF CFLAG:ARG:800 > 1 && CFLAG:ARG:행동한횟수 == 1
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		IF CFLAG:POS(LOCAL):마법반사플래그 > 1
			CFLAG:ARG:입력행동 = 568
			CALL RANDOM_TARGET,ARG,568
			RETURN 1
		ENDIF
	NEXT
	IF !RAND:4
		CALL 랜덤행동 , ARG
	ELSEIF !RAND:3
		CFLAG:ARG:입력행동 = 537
		CALL RANDOM_TARGET,ARG,537
	ELSEIF !RAND:2
		CFLAG:ARG:입력행동 = 538
		CALL RANDOM_TARGET,ARG,538
	ELSE
		CFLAG:ARG:입력행동 = 557
		CALL RANDOM_TARGET,ARG,557
	ENDIF
	RETURN 1
ENDIF

CALL 랜덤행동 , ARG
