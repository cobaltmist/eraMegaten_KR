;=======================================================================
;[5]調べる　実行時の이벤트
;=======================================================================
@EVENT_CHECK_DUNGEON_65
SELECTCASE DA:(FLAG:현X):(FLAG:현Y)% 10
	;이벤트タイル
	CASE 1
		CALL TILE_65
		RETURN RESULT
	;========
	;宝の処理
	;========
	CASE 3
		CALL TREASURE_65
		RETURN 1
	;========================
	;이벤트
	;========================
	CASE 4
		CALL EVENT_65
		RETURN 1
	;=======
	;罠
	;=======
	CASE 5
		CALL TRAP_65
		RETURN 1
	;=======
	;昇り階段
	;=======
	CASE 6
		CALL UPSTAIRS_65
		RETURN 1
	;=======
	;下り階段
	;=======
	CASE 7
		CALL DOWNSTAIRS_65
		RETURN 1
	;=======
	;メッセンジャー
	;=======
	CASE 8
		CALL MESSAGE_65, 0
		RETURN 1
	;=======
	;特殊タイル
	;=======
	CASE 9
		CALL SPECIAL_65
		RETURN 1
	;=======
	;ダークゾーン
	;=======
	CASE -1
		IF DA:(FLAG:현X):(FLAG:현Y) < -10
			CALL DARK_65
			RETURN RESULT
		ENDIF
	CASEELSE
		CALL MESSAGE_WINDOW_D, "", "＞아무것도 없는 것 같다"
	RETURN 0
ENDSELECT


;=======================================================================
;タイル進入時の이벤트
;=======================================================================
@EVENT_ENTER_DUNGEON_65,ARG
;ARG = 進入時の向き　0の場合ワープなど
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) % 10
	;이벤트タイル
	CASE 1
		CALL TILE_65, 1
		RETURN RESULT
	;==========
	;扉の処理
	;==========
	CASE 2
		SIF GROUPMATCH(DA:(FLAG:현X):(FLAG:현Y),902,922,942,962)
			DA:(FLAG:현X):(FLAG:현Y) += 10
		CALL DUNGEON_DOOR,ARG
		RETURN 1
;========
;宝の処理
;========
	CASE 3
		CALL TREASURE_65
		RETURN 1
;========================
;이벤트
;========================
	CASE 4
		CALL EVENT_65, 1
		RETURN 1
;=======
;罠
;=======
CASE 5
	CALL TRAP_65
	RETURN 1
;=======
;昇り階段
;=======
CASE 6
	CALL UPSTAIRS_65
	RETURN 1
;=======
;下り階段
;=======
CASE 7
	CALL DOWNSTAIRS_65
	RETURN 1

;=======
;特殊タイル
;=======
CASE 9
	SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
		CASE 1400, 1401, 1500
			RETURN 1
		CASEELSE
			CALL SPECIAL_65
			RETURN 1
	ENDSELECT

;=======
;ダークゾーン
;=======
	CASE -1
		CALL DARK_65, 1
		RETURN RESULT
ENDSELECT

;=======================================================================
;スタート時이벤트
;=======================================================================
@EVENT_DUNGEON_START_65
CALLF STRFLAG_NUM_D("조사선위치", "=", , 0)
IF STRFLAG_NUM_D("슈바르츠바스진행도") == 0
	CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
	CALL MESSAGE_WINDOW_D, "", "＞슈바르츠바스에 돌입할 수 있게 된 모양이다。/＞아무래도 미팅이 시작될 것 같다…。"
	CALL MESSAGE_WINDOW_D, "조사대대장", "제군、내가 슈바르츠바스 조사대의 대장이다。/우리의 임무는 섹터・카리나의 양자 터널로 가는 길의 확보다。/조심해서 가라。"
	CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
ELSEIF STRFLAG_NUM_D("슈바르츠바스진행도") == 7
	CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
	CALL MESSAGE_WINDOW_D, "", "＞슈바르츠바스에 돌입할 수 있게 된 모양이다。/＞아무래도 미팅이 시작될 것 같다…。"
	CALL MESSAGE_WINDOW_D, "조사대대장", @"왔는가、%CALLNAME:MASTER%。/이미 들었다고는 생각하지만、우리의 임무는 로제타:Del의 확보이다。/이미 조사하러 간 인원들도 있다。준비가 되는 대로、조사에 합류할 수 있도록 해라。"
	CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
	CALLF STRFLAG_D("델파이너스가능", 1)
	
ENDIF



;=======================================
;床
;=======================================
@TILE_MARK_COMMON_65_1, ARG, ARG:1, ARG:2
SELECTCASE ARG / 10
	
	CASE 3
		RESULTS = Λ
	CASE 4
		RESULTS = ＜
	CASE 5
		RESULTS = Ｖ
	CASE 6
		RESULTS = ＞
	CASE 7
		IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
			RESULTS = Λ
		ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
			RESULTS = Ｖ
		ENDIF
	CASE 8
		IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
			RESULTS = ＜
		ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
			RESULTS = ＞
		ENDIF
	CASE 9
		IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
			RESULTS = Ｖ
		ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
			RESULTS = Λ
		ENDIF
	CASE 10
		IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
			RESULTS = ＞
		ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
			RESULTS = ＜
		ENDIF
	
	CASE 100
		IF STRFLAG_NUM_D("조사선위치") == 0
			RESULTS = ■
		ELSE
			RESULTS = 外
		ENDIF
	CASE 1700, 1804
		RESULTS = 艦
	CASE 1800, 1801, 1802
		RESULTS = \@GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2 ?Ｗ#□\@
	
	
	CASEELSE
				RESULTS = □
ENDSELECT

@TILE_65, ARG
#LOCALSIZE 10
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 100000
	CASE 0
		SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
			CASE 3
				CALL MOVEUP_65
			CASE 4
				CALL MOVELEFT_65
			CASE 5
				CALL MOVEDOWN_65
			CASE 6
				CALL MOVERIGHT_65
			CASE 7
				IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
					CALL MOVEUP_65
				ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
					CALL MOVEDOWN_65
				ENDIF
			CASE 8
				IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
					CALL MOVELEFT_65
				ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
					CALL MOVERIGHT_65
				ENDIF
			CASE 9
				IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
					CALL MOVEDOWN_65
				ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
					CALL MOVEUP_65
				ENDIF
			CASE 10
				IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
					CALL MOVERIGHT_65
				ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
					CALL MOVELEFT_65
				ENDIF	
			;------------------------------
			;調査船
			;------------------------------
			CASE 100
				IF EQUIP:MASTER:데모니카 != 1
			CALL MESSAGE_WINDOW_D, "남자", "어이、너！/자살이라도 할 생각이냐？/나쁘게 말하는게 아니니、터미널에서 데모니카를 기동하고 와"
					FLAG:현X -= 1
				ELSEIF STRFLAG_NUM_D("조사선위치") != 0
					PRINTW 탐색에 나가시겠습니까？
					CALL INPUT_YN
					IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "남자", "조심해서 다녀와라/"
						IF STRFLAG_NUM_D("조사선위치") == 1
							CALL DUNGEON_WORP,1,19,34
						ELSEIF STRFLAG_NUM_D("조사선위치") == 2
							CALL DUNGEON_WORP,4,4,23
						ELSEIF STRFLAG_NUM_D("조사선위치") == 3
							CALL DUNGEON_WORP_ID,16,17001,1
						ELSEIF STRFLAG_NUM_D("조사선위치") == 4
							CALL DUNGEON_WORP_ID,17,18041,1
							;CALL DUNGEON_WORP,17,13,24
						ELSEIF STRFLAG_NUM_D("조사선위치") == 5
							CALL DUNGEON_WORP,32,18,17
						ENDIF
					ELSEIF RESULT == 1
						FLAG:현X -= 1
					ENDIF
				ENDIF

			;------------------------------
			;各セクター입구
			;------------------------------
			CASE 1700, 1804
				CALL MESSAGE_WINDOW_D, "", "배로 돌아갑니까？"
				CALL INPUT_YN
				IF RESULT == 0
					CALL DUNGEON_WORP_ID,0,1001,1
					RETURN 1
				ELSEIF RESULT == 1
					SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
						CASE 1700
							FLAG:현X += 1
						CASE 1805
							FLAG:현Y -= 1
					ENDSELECT
				ENDIF

			;------------------------------
			;ワープゾーン
			;------------------------------
			CASE 1800, 1801, 1802
				CALL WORP_65

			;------------------------------
			;カリーナ
			;------------------------------
			CASE 1701
				IF STRFLAG_NUM_D("슈바르츠바스진행도") == 1
					CALL MESSAGE_WINDOW_D, "", "＞섹터・카리나…。/슈바르츠바스 조사대가 3번째로 조사한 지역이었다는 것 같다。/보고에 따르면 이 에어리어는 쇼핑몰과 같은 광경이었다고 했는데…。"
					CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
					CALL MESSAGE_WINDOW_D, "", "과연 확실히 보고 되었던 대로다。/하지만、이 슈바르츠바스는 마계일 것이다。/이 쇼핑몰과 같은 인간계에 있는 것이 /마계에서도 볼 수 있다는 것은 도데체 무슨 일일까…。"
					CALL MESSAGE_WINDOW_D, "", "……"
					CALL MESSAGE_WINDOW_D, "", @"생각해도 어쩔 수 없는 것이다。/그렇게 생각한 %마스터는% 슈바르츠바스에 발을 디뎠다…。"
					CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
					DA:(FLAG:현X):(FLAG:현Y) = 1
				ENDIF

			;------------------------------
			;デルファイナス
			;------------------------------
			CASE 1803
				IF STRFLAG_NUM_D("슈바르츠바스진행도") == 8
					CALL MESSAGE_WINDOW_D, "", "＞섹터・델파이너스…。/슈바르츠바스調査隊が４番눈に調査したエリアだったはずだ。"
					CALL MESSAGE_WINDOW_D, "", "ゴミの山のような風景がどこまでも続いている…。"
					CALL MESSAGE_WINDOW_D, "", @"슈바르츠바스調査隊は데모니카수트を着ていたが、/%CALLNAME:MASTER%はアプリで対応しており、生身のままだ。/ゴミの匂いがしないだろうか…。"
					CALL MESSAGE_WINDOW_D, "", "……"
					CALL MESSAGE_WINDOW_D, "", @"匂いがつかないことを祈ろう、と思いながら/%CALLNAME:MASTER%はシュバルツバースに足を踏み入れた…。"
					CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
					DA:(FLAG:현X):(FLAG:현Y) = 1
				ENDIF
			CASEELSE
		ENDSELECT
	CASE 1
		LOCAL = (DA:(FLAG:현X):(FLAG:현Y) - 100000) / 10
		SELECTCASE LOCAL
			CASE 1900, 1901, 2000, 2001, 2002, 2400, 2500, 2501
				SIF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 0 && EQUIP:MASTER:게이트서치 == 1
					CALLF STRFLAG_NUM_D(@"숨겨진문{LOCAL}", "+=", , 1)
			CASE 1800 TO 1806
				SIF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 0 && EQUIP:MASTER:게이트서치 == 1 && STRFLAG_NUM_D("게이트서치강화") >= 2
					CALLF STRFLAG_NUM_D(@"숨겨진문{LOCAL}", "+=", , 1)
			CASEELSE
		ENDSELECT
ENDSELECT
RETURN 0

;=======================================
;扉
;=======================================
@TILE_MARK_COMMON_65_2, ARG, ARG:1, ARG:2
SELECTCASE ARG / 100000
	CASE 0
		SELECTCASE ARG / 10

			;一方通行
			CASE 90, 91
				RESULTS = ∩
			CASE 92, 93,
				RESULTS = ⊃
			CASE 94, 95
				RESULTS = ∪
			CASE 96, 97
				RESULTS = ⊂
			CASEELSE
				RESULTS = 문
		ENDSELECT
	CASE 1
		LOCAL = (ARG - 100000) / 10
		SELECTCASE LOCAL
			CASE 1900, 1901, 2000, 2001, 2002, 2400, 2500, 2501
				IF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 2
					RESULTS = 문
				ELSEIF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 1 && EQUIP:MASTER:게이트서치 == 1
					SETCOLOR 0x0000FF
					RESULTS = ◆
				ELSE
					RESULTS = ■
				ENDIF
			CASE 1800 TO 1806, 2600 TO 2602
				IF STRFLAG_NUM_D("게이트서치강화") >= 1
					IF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 2
						RESULTS = 문
					ELSEIF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 1 && EQUIP:MASTER:게이트서치 == 1
						SETCOLOR 0x0000FF
						RESULTS = ◆
					ELSE
						RESULTS = ■
					ENDIF
				ELSEIF STRFLAG_NUM_D("게이트서치강화") == 0
					IF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 2
						RESULTS = 문
					ELSEIF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 1 && EQUIP:MASTER:게이트서치 == 1
						SETCOLOR 0x00FFFF
						RESULTS = ◆
					ELSE
						RESULTS = ■
					ENDIF
				ENDIF
			CASEELSE
				RESULTS = ■
			ENDSELECT
	CASEELSE
		RESULTS = 문
ENDSELECT

@DOOR_65, ARG
SELECTCASE ARG / 10000
	CASE 0
		SELECTCASE ARG
			;------------------------------
			;カリーナ
			;------------------------------
			CASE 1400, 1402
				IF STRFLAG_NUM_D("플라즈마월") == 0
					CALL MESSAGE_WINDOW_D, "조사대원", "어이、어째서 슈바르츠바스의 벽에/플라즈마 월이 전개되어 있지…？/이러면 앞으로 나아갈 수 없잖아…"
					RETURN 0
				ELSEIF STRFLAG_NUM_D("플라즈마월") == 1
					CALL MESSAGE_WINDOW_D, "조사대원", "플라즈마 월 발생장치를 정지시켰는데？/이곳의 문은 아무 변화 없어。/저쪽 편에도 문이 있는 것 같으니 보고 와줘。"
					CALL MESSAGE_WINDOW_D, "조사대원", "그 앞에 또 다른 발생장치가 있을지도 몰라。/그것도 정지시켜줘。"
					RETURN 0
				ELSEIF STRFLAG_NUM_D("플라즈마월") == 3
					CALL MESSAGE_WINDOW_D, "조사대원", "플라즈마 월 발생장치를 정지해 주었구나。/앞으로 나아갈 수 있게 되었어。/"
					CALLF STRFLAG_NUM_D("플라즈마월", "+=", , 1)
				ENDIF
			CASE 1401, 1403
				IF STRFLAG_NUM_D("플라즈마월") == 4
					CALL MESSAGE_WINDOW_D, "조사대원", "제길、또 플라즈마 월인가！/또 찾아야 하나！이제 엎어지면 코가닿을 거리인데！"
					RETURN 0
				ELSEIF STRFLAG_NUM_D("플라즈마월") == 5
					CALL MESSAGE_WINDOW_D, "조사대원", "간신히 앞으로 갈 수 있게 되었구나。/양자터널이 눈앞이다、가자！"
					CALLF STRFLAG_NUM_D("플라즈마월", "+=", , 1)
				ENDIF
			CASE 1404
				IF STRFLAG_NUM_D("플라즈마월") == 0
					CALL MESSAGE_WINDOW_D, "조사대원", "어이、어째서 슈바르츠바스의 벽에/플라즈마 월이 전개되어 있지…？/이러면 앞으로 나아갈 수 없잖아…"
					RETURN 0
				ELSEIF STRFLAG_NUM_D("플라즈마월") == 1
					CALL MESSAGE_WINDOW_D, "조사대원", "아무래도 이곳의 플라즈마 월은 해제된 것 같다…"
					CALL MESSAGE_WINDOW_D, "", "저쪽의 플라즈마 월은 아직 해제되지 않은 건가…。/이 앞에 또 장치가 있는 건가？"
					CALLF STRFLAG_NUM_D("플라즈마월", "+=", , 1)
				ENDIF
			;------------------------------
			;デルファイナス
			;------------------------------
			CASE 1800
				IF STRFLAG_NUM_D("크르스니크") == 2
					CALL MESSAGE_WINDOW_D, "크르스니크", "잘 와주셨습니다。/이 안쪽에 쿠드락이 있습니다。/준비는 되셨습니까？"
					CALL MESSAGE_WINDOW_D, "", "＞방에 돌입하시겠습니까？"
					CALL INPUT_YN_D
					IF RESULT == 0
						CALL MESSAGE_WINDOW_D, "크르스니크", "자、들어가도록 합시다！"
						CALL MESSAGE_WINDOW_D, "", @"%CALLNAME:MASTER%은 크르스니크와 함께 방으로 들어갔다。"
						CALL SHOW_FORCEMOVE, "RR", "D", , ,  ""
						CALLFORM EVENT_ENTER_DUNGEON_{FLAG:현던전},0
					ELSE
						CALL MESSAGE_WINDOW_D, "크르스니크", "준비가 되신다면 저에게 말을 걸어 주십시오。"
						RETURN 0
					ENDIF
				ENDIF
			CASE 1801
				IF STRFLAG_NUM_D("쿠드락") == 2
					CALL MESSAGE_WINDOW_D, "", "＞쿠드락의 의뢰를 받은 지금、/크르스니크에게 접근하는 것은 위험하겠지…。"
					CALL MESSAGE_WINDOW_D, "", @"%CALLNAME:MASTER%는 발길을 돌렸다…。"
					RETURN 0
				ENDIF
			CASE 2100
				IF STRFLAG_NUM_D("아수라입구") < 4
					CALL MESSAGE_WINDOW_D, "", "＞방은 굳게 닫혀있다…。"
					RETURN 0
				ELSEIF STRFLAG_NUM_D("아수라입구") == 4
					CALL MESSAGE_WINDOW_D, "", "＞이 앞에서부터 무서운 기색이 느껴진다…。/＞앞으로 나아가시겠습니까？"
					CALL INPUT_YN_D
					SIF RESULT
						RETURN 0
				ENDIF
		ENDSELECT
	CASE 1
	;------------------------------
	;隠し扉用
	;------------------------------
		LOCAL = ARG - 10000
		IF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 0
			RETURN 0
		ELSEIF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 1 && EQUIP:MASTER:게이트서치 == 1
			CALL MESSAGE_WINDOW_D, "", "＞데모니카 어플리케이션이 벽에 반응하고 있다…。"
			CALL MESSAGE_WINDOW_D, "", "＞숨겨진 문을 발견했습니다！"
			CALLF STRFLAG_NUM_D(@"숨겨진문{LOCAL}", "+=", , 1)
			RETURN 0
		ELSEIF STRFLAG_NUM_D(@"숨겨진문{LOCAL}") == 2
			RETURN 1
		ELSE
			RETURN 0
		ENDIF
		RETURN 0
ENDSELECT
RETURN 1

;=======================================
;宝箱
;=======================================
@TREASURE_65
#LOCALSIZE 3
#LOCALSSIZE 3
LOCAL:2 = (DA:(FLAG:현X):(FLAG:현Y) / 10) % 100
;個数,-1のとき、마카・0の時、\となる
LOCAL = 1
;IDは현M*100＋X個눈の宝箱の法則でふられている
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10

	;
	CASE 1200
		LOCALS = 보옥
		LOCAL = 2
	CASE 1300
		LOCALS = 야마타노드링크
		LOCAL = 1
	CASE 1301
		LOCALS = 속도의향
		LOCAL = 1
	CASE 1302
		LOCALS = 도반옥
		LOCAL = 2
	CASE 1303
		LOCALS = 마카
		LOCAL = 150
	CASE 1400
		LOCALS = 반혼향
		LOCAL = 1
	CASE 1600
		LOCALS = 운의향
		LOCAL = 1
	

ENDSELECT
IF LOCALS == "￥"
	CALL GET_TREASURE_MONEY, 0, LOCAL, FLAG:현던전, FLAG:현M + 25, (DA:(FLAG:현X):(FLAG:현Y) / 10) % 100
ELSEIF LOCALS == "마카"
	CALL GET_TREASURE_MONEY, 1, LOCAL, FLAG:현던전, FLAG:현M + 25, (DA:(FLAG:현X):(FLAG:현Y) / 10) % 100
ELSEIF LOCALS == "MAG" || LOCALS == "ＭＡＧ"
	CALL GET_TREASURE_MAG, 0, LOCAL, FLAG:현던전, FLAG:현M + 25, (DA:(FLAG:현X):(FLAG:현Y) / 10) % 100
ELSEIF LOCALS == "덫"
	;LOCALS:1 종류 LOCAL 데미지量or확률 LOCALS:2 相性
	CALL GET_TREASURE_TRAP, LOCALS:1, LOCAL, GET_TYPE_NUM(LOCALS:2), FLAG:현던전, FLAG:현M + 25, (DA:(FLAG:현X):(FLAG:현Y) / 10) % 100
ELSE
	IF GETNUM(ITEM, LOCALS) == -1
		PRINTL ＞아이템 이름의 지정이 잘못되어 있습니다
		PRINTW ＞아이템 취득처리를 중단합니다
	ELSE
		CALL GET_TREASURE, GETNUM(ITEM, LOCALS), LOCAL , FLAG:현던전, FLAG:현M + 25, (DA:(FLAG:현X):(FLAG:현Y) / 10) % 100
	ENDIF
ENDIF



;=======================================
;이벤트
;=======================================
@TILE_MARK_COMMON_65_4, ARG, ARG:1, ARG:2
SELECTCASE ARG / 10

	CASEELSE
		RESULTS = ！
ENDSELECT

@EVENT_65, ARG
#LOCALSIZE 10
#LOCALSSIZE 1
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10


	;------------------------------
	;カリーナ
	;------------------------------
	CASE 1200
		IF STRFLAG_NUM_D("플라즈마월") == 2
		CALL MESSAGE_WINDOW_D, "", "플라즈마 월 발생장치가 있다。/＞기계를 멈춥니까？"
		CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "", "플라즈마 월 발생장치를 무사히 멈췄다。/플라즈마 월은 해제되었을 것이다。"
				CALL MESSAGE_WINDOW_D, "？？？", "플라즈마 월이 해제되서 상태를 살피러 왔더니…/어째서 인간이 여기에 있지？"
				CALL MESSAGE_WINDOW_D, "？？？", "이유를 생각해봤자 어쩔 수 없나、오르커스님께 연락이다"
				CALL MESSAGE_WINDOW_D, "", "＞목소리가 들렸기 때문에 뒤돌아 보았지만、이미 모습이 보이지 않았다…。/아무래도 누군가가 플라즈마 월을 전개하고 있는 것 같다/조사를 해나가는 동안 조우할지도 모른다/각오하고 있자"
			CALLF STRFLAG_NUM_D("플라즈마월", "+=", , 1)
			ELSE
				CALL MESSAGE_WINDOW_D, "", @"뭐가 일어날지 모른다。/%마스터는% 기계를 떠났다。"
			ENDIF
		ELSE
			CALL MESSAGE_WINDOW_D, "", "기계는 정지되어있다…。"
		ENDIF
	
	CASE 1300
		IF STRFLAG_NUM_D("슈바르츠바스진행도") == 4
			CALL MESSAGE_WINDOW_D, "악마", "브오오오오ーーー！/또 이 땅에 인간이 왔는가…"
			CALL MESSAGE_WINDOW_D, "", "쿠라마텐구를 격파한 너희들을、/이 오르커스님께서 직접 해치워주마！"
			FLAG:도주불가플래그 = 1
			FLAG:회화불능플래그 = 1
			FLAG:선제기습취소 = 1
			CALL SET_ENEMY,9,260,36,0,1
			ABL:(CHARANUM-1):스킬5 = 402
			ABL:(CHARANUM-1):스킬6 = 505	
			ABL:(CHARANUM-1):스킬7 = 509
			;CSTR:(CHARANUM-1):사고패턴 = 260
			CFLAG:(CHARANUM-1):행동횟수 = 2
			CFLAG:(CHARANUM-1):ＭＰ보정 += 1000
			CFLAG:(CHARANUM-1):행동횟수 = 2
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
			CALL BATTLE_START
			FLAG:도주불가플래그 = 0
			FLAG:회화불능플래그 = 0
			FLAG:선제기습취소 = 0
			CALL MESSAGE_WINDOW_D, "오르커스", "브오오오…/이 내가、세번씩이나…인간에게 패하다니…"
			CALL MESSAGE_WINDOW_D, "", @"＞오르커스를 격파했다/＞%마스터는% 로제타:Car를 손에 넣었다"
			CALL MESSAGE_WINDOW_D, "", @"＞오르커스가 있던 장소 안쪽에 무언가가 보인다…/＞%마스터는% 가까이 다가갔다… "
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "＞아마 저것이 다른 섹터로 /이동하기 위한 양자 터널일 것이다/이것으로 섹터・카리나에서의 임무는 달성되었다/조사선으로 돌아가 보고하자"
			CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
		ELSE
			CALL MESSAGE_WINDOW_D, "", "＞양자터널이 다른 섹터로 가는 것을 유혹하는 것 같이 움직이고 있다…"
		ENDIF

	CASE 1400
		IF STRFLAG_NUM_D("플라즈마월") == 0
			CALL MESSAGE_WINDOW_D, "", "수수께끼의 기계가 소리를 내고 있다。/플라즈마 월을 형성하는 기계를 닮은 것 같다…。/＞기계를 멈춰 봅니까？"
			CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "", "기계는 간단히 멈췄다。/플라즈마 월이 사라졌을지도 모른다。/１Ｆ에 돌아가봐야 할 것 같다。"
				CALLF STRFLAG_NUM_D("플라즈마월", "+=", , 1)
			ELSE
				CALL MESSAGE_WINDOW_D, "", @"뭐가 일어날지 모른다。/%마스터는% 기계를 떠났다。"
			ENDIF
		ELSE
			CALL MESSAGE_WINDOW_D, "", "기계는 정지되어있다…。"
		ENDIF
	CASE 1501
		IF STRFLAG_NUM_D("플라즈마월") == 4
			CALL MESSAGE_WINDOW_D, "", "플라즈마 월 발생장치가 있다。/＞기계를 멈춥니까？"
			CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "？？？", "콥파들의 보고를 받고 와 받더니…/너인가、플라즈마 월 발생장치를 정지시키고 있는 녀석이/오르커스님이 계신 곳에 가려는 거구나/오르커스님이 계신 곳에 가겠다면、여길 넘어 봐라！"
				CALL MESSAGE_WINDOW_D, "", "＞악마가 묻지도 따지지도 않고 덤벼들어 왔다！"
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				FLAG:기습플래그 = 1
				CALL SET_ENEMY,9,[[キャラ:쿠라마텐구]],32,0,1
				ABL:(CHARANUM-1):스킬5 = 0
				ABL:(CHARANUM-1):스킬6 = 0
				CFLAG:(CHARANUM-1):행동횟수 = 1
				CFLAG:(CHARANUM-1):ＨＰ보정 += 5000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 5000
				CFLAG:(CHARANUM-1):행동횟수 = 2
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:기습플래그 = 0
				CALL MESSAGE_WINDOW_D, "쿠라마텐구", "오르커스님…/죄송…합니…"
				CALL MESSAGE_WINDOW_D, "", "플라즈마 월 발생 장치를 멈췄다。/아마 양자터널 앞의 플라즈마 월도 해제되었을 것이다。"
				CALLF STRFLAG_NUM_D("플라즈마월", "+=", , 1)
			ELSE
				CALL MESSAGE_WINDOW_D, "", @"뭐가 일어날지 모른다。/%마스터는% 기계를 떠났다。"
			ENDIF
		ELSE
			CALL MESSAGE_WINDOW_D, "", "기계는 정지되어있다…。"
		ENDIF
	CASE 1600
		IF !STRFLAG_D("데모니카Ｃ입수")
			CALL MESSAGE_WINDOW_D, "", "＞아귀의 뒤에 쓰레기 산이 있다…。"
			CALL MESSAGE_WINDOW_D, "아귀", "아、뭐냐 인간？/뭘 빤히 쳐다보고 있어？/이건 이 몸의 것이다。/저리 꺼져。"
			CALL MESSAGE_WINDOW_D, "", "＞쓰레기 산 속에서 데모니카수트 같은 것이 보인다…。"
			CALL MESSAGE_WINDOW_D, "아귀", "빤히 보지 말라니까。/아、뭐야 그 눈은? 너희들 해보자는 거냐。/어서、어딘가로 꺼져버려。"
			CALL MESSAGE_WINDOW_D, "", "＞아무래도 힘으로 빼앗을 수 밖엔 없는 것 같다…。/억지로 빼앗습니까？？/"
			CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "아귀", "앙？/해보자는 거냐！/좋다고、덤벼 보시던가！"
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				CALL SET_ENEMY,9,[[キャラ:아귀]],38,0,1
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:기습플래그 = 0
				CALL MESSAGE_WINDOW_D, "아귀", "어렵게 쌓은 보물이…"
				CALL MESSAGE_WINDOW_D, "", "＞보물의 산에서 데모니카수트의 잔해를 손에 넣었다/＞연구실에 가져가면 데모니카 어플리케이션을 만들어 줄지도 모른다"
				CALLF STRFLAG_D("데모니카Ｃ입수", 1)
			ELSE
				CALL MESSAGE_WINDOW_D, "", "무리하게 빼앗는 것은 좋지 않다。/그만두자"
			ENDIF
		ELSE
			CALL MESSAGE_WINDOW_D, "", "＞쓰레기의 산이 있다。/＞도움이 될 만한 건 없었다"
		ENDIF
	CASE 1601
		IF !STRFLAG_D("쿠훌린격파")
			IF !STRFLAG_D("쿠훌린초회")
				CALL MESSAGE_WINDOW_D, "", "＞아름다운 용모의 남자가 있다"
				CALL MESSAGE_WINDOW_D, "남자", "흠、인간입니까/나는 쿠・훌린/그림자 나라에서 수련중인 기사 중 한 명입니다"
				CALL MESSAGE_WINDOW_D, "쿠・훌린", "그런데 이런 땅에 있는 이상、/당신도 상응하는 솜씨를 가지고 있을거라 판단됩니다/"
				CALL MESSAGE_WINDOW_D, "", "실은 제 스승의 생명을 노리는 무리와 일전을 치뤘으나、/기대에 못 미쳤던터라/투쟁에 목마른 반신의 피가 다스려지지 않아/주체를 못하고 있습니다"
				CALL MESSAGE_WINDOW_D, "", "괜찮다면、한 수 부탁해도 되겠습니까？/만약 나를 패배시키면 상응하는 답례도 해드리겠습니다"
				CALLF STRFLAG_D("쿠훌린초회", 1)
			ELSE
				CALL MESSAGE_WINDOW_D, "쿠・훌린", "이런、기분이 바뀌셨습니까？"
				IF STRFLAG_D("쿠훌린식사")
					CALL MESSAGE_WINDOW_D, "", "그렇지 않으면 또 다시、나에게 맹세를 지키게 만들려는 꿍꿍이인 겁니까？"
					CALL MESSAGE_WINDOW_D, "", "＞쿠・훌린은 쿡쿡 웃고 있다"
				ENDIF
			ENDIF
			CALL INPUT_SELECT_D, "[0] Yes/[1] No/[2] 식사를 권한다"
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "쿠・훌린", "그럼、쿨란의 맹견이라 불린 내 힘과 기술、보여드리지요！"
				CALL MESSAGE_WINDOW_D, "", "＞영웅 쿠・훌린이 １체 나타났다！"
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				CALL SET_ENEMY,9,4301,48,0,1
				CFLAG:(CHARANUM-1):행동횟수 = 1
				CFLAG:(CHARANUM-1):ＨＰ보정 += 3000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 5000
				CFLAG:(CHARANUM-1):행동횟수 = 2
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				CALL SHOW_PICTURE, "D"
				CALL MESSAGE_WINDOW_D, "쿠・훌린", "……훌륭합니다/피가 끓고 근육이 춤을 추게 만든다는 것이 바로 이런것이군요。/즐거웠습니다"
				CALL MESSAGE_WINDOW_D, "", "그래、내가 패했으니 약속을 지키지 않으면 안되겠군요/이것을 드리겠습니다。받아주시겠습니까？"
				CALL MESSAGE_WINDOW_D, "", @"＞이렇게 말하며 쿠・훌린은 무언가를 꺼내 내밀었다/＞%마스터는% 내민 것을 받았다"
				CALL MESSAGE_WINDOW_D, "", "＞힘의 향을 받았다."
				CALL MESSAGE_WINDOW_D, "쿠・훌린", "그럼、/또 머지않아 볼 일이 있겠지요"
				CALL MESSAGE_WINDOW_D, "", "＞그렇게 말하며 쿠・훌린은 떠나갔다…。"
				CALL GET_ITEMS, "힘의향", 1
				CALLF STRFLAG_D("쿠훌린격파", 1)
				DA:(FLAG:현X):(FLAG:현Y) = 1
			ELSEIF RESULT == 1
				CALL MESSAGE_WINDOW_D, "쿠・훌린", "유감입니다/만약 기분이 바뀌신다면 이곳을 방문해 주세요/잠시 여기에 있을 생각인지라"
			ELSE
				IF !STRFLAG_D("쿠훌린식사")
					CALL MESSAGE_WINDOW_D, "쿠・훌린", "……흠/설마 내 맹약이 알려져 있을 줄이야/내가 기사고、당신이 세상에 사는 민초인 이상、거절할 수 없습니다/그럼、갑시다。/사람과 함께하는 식사는 언제든 즐겁습니다"
					CALL MESSAGE_WINDOW_D, "", "＞쿠・훌린과 식사를 즐겼다"
				ELSE
					CALL MESSAGE_WINDOW_D, "쿠・훌린", "크、거절할 수 없다는 걸 알고 있으면서 비겁한/……이랄 줄 알았나。그런 시치미 떼는 점은 싫어하진 않아요/그럼 갑시다"
				ENDIF
				CALLF STRFLAG_D("쿠훌린식사", 1)
				FLAG:탈출 = 1
			ENDIF
		ENDIF

	;------------------------------
	;デルファイナス
	;------------------------------
	CASE 1700, 2200, 2201, 2300, 2303
		CALL MESSAGE_WINDOW_D, "", "＞스위치가 있다/＞누르시겠습니까？"
		CALL INPUT_YN
		IF RESULT == 0
			CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는 스위치를 눌렀다…"
			CALL MESSAGE_WINDOW_D, "", "＞즈우우웅…/＞어디선가 큰 소리가 들렸다…"
			IF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 0
				CALLF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}", "=", , 1)
			ELSEIF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}") == 1
				CALLF STRFLAG_NUM_D(@"Ｄ스위치{FLAG:현M}", "=", , 0)
			ENDIF
			CALL SHOW_FLOOR
			CALL AUTOMAP
		ELSEIF RESULT == 1
			CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는 스윗치를 누르지 않았다"
		ENDIF
	CASE 1701
		IF STRFLAG_NUM_D("크르스니크") == 2
			CALL MESSAGE_WINDOW_D, "크르스니크", "쿠드락이여、/오늘 이 자리가、너의 무덤이다！"
			CALL MESSAGE_WINDOW_D, "쿠드락", "…네、네녀석…？/…네녀석이이이이이！？/어째…어째서냐아아앗…！"
			CALL MESSAGE_WINDOW_D, "", "나는、아직 여기서 끝나고 싶지 않다！/네녀석에게 살해당한다니、죽는다해도 사절이다아앗！/살해당할 바에야 죽는 편이 낫다아！"
			CALL MESSAGE_WINDOW_D, "크르스니크", "……어째서 도망치려고 하는 거지？/백색의 양맥의 힘을 알아챈 것인가？/거기에서 움직이지 마라！나의 숙명、이번에야말로 끝내주마！"
			CALL MESSAGE_WINDOW_D, "", "기다려라、놓치지 않겠다！/쿠드락！"
			CALL MESSAGE_WINDOW_D, "쿠드락", "유감、유감、유감스럽기 짝이 없다！이건 정말 유감스럽기 짝이 없는 일이다아앗！/이런 땅 따위、이제 작별이다！네녀석과 나、어느 쪽이 세상에서 빨리 작별하는지、/지금 승부하자아아！"
			CALL MESSAGE_WINDOW_D, "", "＞유귀　쿠드락이 1기 출현했다！"
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				CALL SET_ENEMY,9,1085,44,0,1
				CALL BATTLE_START
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
			CALL MESSAGE_WINDOW_D, "쿠드락", "으…크르스니크으으！/나는…나아아느은！/죽는푸슈우…！"
			CALL MESSAGE_WINDOW_D, "크르스니크", "작별이다、쿠드락…。"
			CALL MESSAGE_WINDOW_D, "", "…끝났군。/그대에게도 신세졌습니다。/저의 역할은 끝났습니다만…。"
			CALL MESSAGE_WINDOW_D, "", "답례라고 하기는 뭐하지만、저의 힘을 빌려드린다는 것은 어떻습니까？/당신에게 힘이 될수 있다고 생각합니다만, 어떠신지요？"
			CALL INPUT_YN("歓迎する","断る")
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "크르스니크", "감사합니다。그렇다면、다시 한번、"
				CALL MESSAGE_WINDOW_D, "", "제 이름은 크르스니크、앞으로도 잘 부탁드립니다…"
				CALL MESSAGE_WINDOW_D, "", "＞크르스니크가 동료마가 되었다。"
				CALL ADD_NEW_COMPANION, 468, 2000, 1
				BASE:(RESULT:1):LV = 44
				BASE:(RESULT:1):힘 += 6
				BASE:(RESULT:1):마력 += 6
				BASE:(RESULT:1):지혜 += 6
				BASE:(RESULT:1):인내력 += 6
				BASE:(RESULT:1):속도 += 6
				BASE:(RESULT:1):운 += 6
				MAXBASE:(RESULT:1):힘 += 6
				MAXBASE:(RESULT:1):마력 += 6
				MAXBASE:(RESULT:1):지혜 += 6
				MAXBASE:(RESULT:1):인내력 += 6
				MAXBASE:(RESULT:1):속도 += 6
				MAXBASE:(RESULT:1):운 += 6
			ELSEIF RESULT == 1
				CALL MESSAGE_WINDOW_D, "크르스니크", "그렇습니까…。/알겠습니다。그렇다면、저는 당신의 조사가 잘 되어가기를 기도하겠습니다。/다시 어디선가 만납시다。"
				CALL MESSAGE_WINDOW_D, "", "＞크르스니크가 떠나갔다…。"
				CALLF STRFLAG_D("크르스니크비중마", 1)
			ENDIF
			CALLF STRFLAG_NUM_D("크르스니크", "+=", , 1)
			DA:(FLAG:현X):(FLAG:현Y) = 1
		ELSEIF STRFLAG_NUM_D("쿠드락") == 0
			CALLF STRFLAG_NUM_D("쿠드락", "+=", , 1)
			CALL MESSAGE_WINDOW_D, "악마", "크크큭…。다시 인간이 찾아올줄이야。/당면한 위기를 벗어난다면、그 위기를 힘으로 만드는 족속이지…。/정말로 죄에 찌들어 있는 듯한 몰골이군、크크큭。"
			CALL MESSAGE_WINDOW_D, "", "뭐어、그러니까 인간이겠지、라고도 말할 수 있겠군。/이 쿠드락님께서도 너에게 관심이 많다고、정말로。"
			CALL MESSAGE_WINDOW_D, "쿠드락", "그래서 인간이여、이몸의 의뢰를 받지 않겠는가？/여기서 동쪽으로 가면、크르스니크라고 불리는 녀석이 있다만、/그녀석은 이몸과 같은 흡혈귀를 사냥하는 뱀파이어 헌터다。"
			CALL MESSAGE_WINDOW_D, "", "평소라면 나에게 복수를 하려다가 도리어 보복당해 죽겠지만、오늘은 조금 위험하다。/전에 인간 놈들이 왔다갔을 때、호손 스피어를 놈에게 건네준 듯하다。/저것으로 결정타를 맞는다면、이몸이라도 부활이 불가능하다。"
			CALL MESSAGE_WINDOW_D, "", "이쪽의 무기는 녀석과 붙었을 때 부서져 버렸다。/그래서、조금 손을 빌리고 싶다만、좋은가？/"
			CALL MESSAGE_WINDOW_D, "", "전염병생산의 스킬카드를 가지고 있다면、그것을 손에 넣고 싶다。/입수가 힘들다는 것은 알고 있다。하지만、그 가치와 합당한 보상은 하겠다。"
			CALL MESSAGE_WINDOW_D, "", "＞쿠드락의 의뢰를 받겠습니까？"
			CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "쿠드락", "크크큭、고맙군。/그럼、스킬카드를 가져다 다오。"
				CALLF STRFLAG_NUM_D("쿠드락", "+=", , 1)
				IF ITEM:12075 >= 1
					CALL MESSAGE_WINDOW_D, "", "＞쿠드락에게 스킬카드【전염병생산】을 건네주시겠습니까？"
					CALL INPUT_YN_D
					IF RESULT == 0
						CALL MESSAGE_WINDOW_D, "쿠드락", "흐흐、이것이…。고맙게 쓰도록 하지。/잘해주었구나。이걸로 이몸은 그 크르스니크에게 이길 수 있을 것이다。"
						CALL MESSAGE_WINDOW_D, "", "좋아、이제 녀석을 쓰러트리기 위해、녀석의 거처를 급습하도록 할까。/이 싸움은 이몸의 승리로 막을 내릴 것이다。/그리고 역병에 가득찬 흑색의 혼돈의 세계의 시작이겠지。/크크크크큭…。"
						CALL MESSAGE_WINDOW_D, "", "뒤에서 쫒아오도록 해라。/최고의 순간을 보여주겠다。/크크크크큭…。"
						CALL MESSAGE_WINDOW_D, "", "＞쿠드락은 떠나갔다…。/쿠드락의 뒤를 쫒아가면、「최고의 순간」를 볼 수 있다고 했었다…"
						CALLF STRFLAG_NUM_D("쿠드락", "+=", , 1)
						ITEM:12075 -= 1
						DA:(FLAG:현X):(FLAG:현Y) = 1
					ELSE
						CALL MESSAGE_WINDOW_D, "", "뭐냐？스킬카드는 입수했는가？/기대를 하지 않은 것도 아니었다만。"
					ENDIF
				ELSE
					CALL MESSAGE_WINDOW_D, "", "기대를 하지 않은 것도 아니었다만。"
				ENDIF
			ELSE
				CALL MESSAGE_WINDOW_D, "쿠드락", "뭐라고！？이몸의 부탁을 거절하는 것인가…。/오래 살지 못할 거라고、크크큭…。"
			ENDIF
		ELSEIF STRFLAG_NUM_D("쿠드락") == 1
			CALL MESSAGE_WINDOW_D, "쿠드락", "생각이 바뀌었는가？/크르스니크 녀석을 쓰러트리는 데에 전염병생산의 스킬카드가 필요하다。/입수가 힘들다는 것은 알고 있다。하지만、그 가치와 합당한 보상은 하겠다。"
			CALL MESSAGE_WINDOW_D, "", "＞쿠드락의 의뢰를 받겠습니까？"
			CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "쿠드락", "크크큭、고맙군。/그럼、스킬카드를 가져다 다오。"
				CALLF STRFLAG_NUM_D("쿠드락", "+=", , 1)
				IF ITEM:12075 >= 1
					CALL MESSAGE_WINDOW_D, "", "＞쿠드락에게 스킬카드【전염병생산】을 건네주시겠습니까？"
					CALL INPUT_YN_D
					IF RESULT == 0
						CALL MESSAGE_WINDOW_D, "쿠드락", "흐흐、이것이…。고맙게 쓰도록 하지。/잘해주었구나。이걸로 이몸은 그 크르스니크에게 이길 수 있을 것이다。"
						CALL MESSAGE_WINDOW_D, "", "좋아、이제 녀석을 쓰러트리기 위해、녀석의 거처를 급습하도록 할까。/이 싸움은 이몸의 승리로 막을 내릴 것이다。/그리고 역병에 가득찬 흑색의 혼돈의 세계의 시작이겠지。/크크크크큭…。"
						CALL MESSAGE_WINDOW_D, "", "뒤에서 쫒아오도록 해라。/최고의 순간을 보여주겠다。/크크크크큭…。"
						CALL MESSAGE_WINDOW_D, "", "＞쿠드락은 떠나갔다…。/쿠드락의 뒤를 쫒아가면、「최고의 순간」를 볼 수 있다고 했었다…"
						CALLF STRFLAG_NUM_D("쿠드락", "+=", , 1)
						ITEM:12075 -= 1
						DA:(FLAG:현X):(FLAG:현Y) = 1
					ELSE
						CALL MESSAGE_WINDOW_D, "", "뭐냐？스킬카드를 입수했는가？/기대를 하지 않은 것도 아니었다만。"
					ENDIF
				ELSE
					CALL MESSAGE_WINDOW_D, "", "기대를 하지 않은 것도 아니었다만。"
				ENDIF
			ELSE
				CALL MESSAGE_WINDOW_D, "쿠드락", "뭐라고！？이몸의 부탁을 거절하는 것인가…。/오래 살지 못할 거라고、크크큭…。"
			ENDIF
		ELSEIF STRFLAG_NUM_D("쿠드락") == 2
			CALL MESSAGE_WINDOW_D, "쿠드락", "음。네놈인가。/어떤가、입수했는가？"
			IF ITEM:12075 >= 1
				CALL MESSAGE_WINDOW_D, "", "＞쿠드락에게 스킬카드【전염병생산】을 건네주시겠습니까？"
				CALL INPUT_YN_D
				IF RESULT == 0
					CALL MESSAGE_WINDOW_D, "쿠드락", "흐흐、이것이…。고맙게 쓰도록 하지。/잘해주었구나。이걸로 이몸은 그 크르스니크에게 이길 수 있을 것이다。"
					CALL MESSAGE_WINDOW_D, "", "좋아、이제 녀석을 쓰러트리기 위해、녀석의 거처를 급습하도록 할까。/이 싸움은 이몸의 승리로 막을 내릴 것이다。/그리고 역병에 가득찬 흑색의 혼돈의 세계의 시작이겠지。/크크크크큭…。"
					CALL MESSAGE_WINDOW_D, "", "뒤에서 쫒아오도록 해라。/최고의 쇼를 보여주겠다。/크크크크큭…。"
					CALL MESSAGE_WINDOW_D, "", "＞쿠드락은 떠나갔다…。/쿠드락의 뒤를 쫒아가면、「최고의 쇼」를 볼 수 있다고 했었다…"
					CALLF STRFLAG_NUM_D("쿠드락", "+=", , 1)
					ITEM:12075 -= 1
					DA:(FLAG:현X):(FLAG:현Y) = 1
				ELSE
					CALL MESSAGE_WINDOW_D, "", "뭐냐？스킬카드는 입수했는가？/기대를 하지 않은 것도 아니었다만。"
				ENDIF
			ELSE
				CALL MESSAGE_WINDOW_D, "", "기대를 하지 않은 것도 아니었다만。"
			ENDIF
		ENDIF
	CASE 1702
		IF STRFLAG_NUM_D("쿠드락") == 3
			CALL MESSAGE_WINDOW_D, "쿠드락", "오、오오오、오오오오오！/만나고 싶었다고、크르스니크으으으！"
			CALL MESSAGE_WINDOW_D, "", "게햐아아아악！/죽어서、죽을 때까지、죽자구！"
			CALL MESSAGE_WINDOW_D, "크르스니크", "왜 여기에 네놈이 있는 거냐！/원수를 갚아주도록 하겠다！"
			CALL MESSAGE_WINDOW_D, "", "＞크르스니크는 쿠드락에게 공격을 시작했다！/하지만、별로 효과는 없는 듯하다…。"
			CALL MESSAGE_WINDOW_D, "쿠드락", "큿…。건방지구나…。/그런데에에、그 정도의 공격이라면 몇번이나 맞아도 대수롭지 않다아아！/지금의 이몸은 첫번째도 두번째와도 다르다고…다르단 말이다아아！"
			CALL MESSAGE_WINDOW_D, "", "＞쿠드락은 반격했다。/단 일격에 크르스니크를 날려보냈다。"
			CALL MESSAGE_WINDOW_D, "크르스니크", "……！？/이、이 공격은…！？/위험해…！이대로라면、녀석에…！/…여기서는 일단 후퇴하는 편이 현명…。"
			CALL MESSAGE_WINDOW_D, "쿠드락", "어이、어이어이、어이이이！/도망치는 거냐？도망가버리는 거냐？/저기저기、갑자기 날아가버리는 건가아？"
			CALL MESSAGE_WINDOW_D, "", "이번 신호는 빨간불이라고、멈춰라기다려라아아！/Wait a moment----！"
			CALL MESSAGE_WINDOW_D, "크르스니크", "제、젠자앙…。/더 이상…힘이…。"
			CALL MESSAGE_WINDOW_D, "", "＞크르스니크는 쓰러져、사라져갔다…。"
			CALL MESSAGE_WINDOW_D, "쿠드락", "오오、크르스니크여！죽어버리다니 웬말이냐！/좀더 베리-하드한 죽음을 즐길 수 있게 해줄 생각이었는데！/정말로 한심하기 짝이 없다아！/어째서！이렇게나 쉽다고는！이몸의 세상이다아아아아아아！"
			CALL MESSAGE_WINDOW_D, "", "＞쿠드락은 이쪽을 눈치채고、말을 걸어 왔다。"
			CALL MESSAGE_WINDOW_D, "쿠드락", "네놈인가。/어떠냐、최고의 쇼였지 않았나。/그럼 약속했던 보상이다、사양말고 받아둬라。"
			CALL MESSAGE_WINDOW_D, "", "＞스킬카드【전염병생산】를 1개 입수했다。/너덜너덜한 낫을 입수했다。"
			ITEM:12075 += 1
			CALL MESSAGE_WINDOW_D, "쿠드락", "스킬카드 말이냐？/크르스니크를 쓰러트렸을 때 강해져서、만들어 낼 수 있었다。"
			CALL MESSAGE_WINDOW_D, "", "무기의 쪽은、예전에 인간으로부터 얻은 것이다。/크르스니크와의 싸움에서 너덜너덜해졌지만、수리한다면 다시 쓸 수 있겠지。"
			CALL MESSAGE_WINDOW_D, "", "보상으로 받기에는 나쁘지 않을 것이다。/뭔가 하고 싶은 말이라도 있는가？"
			CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는、조금 전과 말투가 크게 다른 이유를 물어보았다。"
			CALL MESSAGE_WINDOW_D, "쿠드락", "말하는 방식이 틀리다고？/이 말하는 방식은 이전에、검은 옷을 입은 인간들에게 부상을 당했던 잔재、랄까。/다른 악마의 파츠를 붙여지거나 해서 말이야…。/크르스니크의 앞에 설 때만、원래의 말투로 돌아가는 것 같군。"
			CALL MESSAGE_WINDOW_D, "", "그러면、용무가 없다면 슬슬 이몸께서는 간다고。/크르스니크가 없는 이 땅에는 더 이상 볼일이 없으니까 말이야。"
			CALL MESSAGE_WINDOW_D, "", "＞동료마가 되도록 권유하겠습니까？"
			CALL INPUT_YN("권유한다","권유하지 않는다")
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "쿠드락", "동료마인가？그런가…。/그것도 재미있을것 같군。좋다。교섭 성립이구만。/이몸의 이름은 쿠드락、앞으로도 잘 부탁한다고…。"
				CALL ADD_NEW_COMPANION,1085, 2000,1
				IF RESULT
					LOCAL = RESULT:1
					BASE:(RESULT:1):LV += 3
					BASE:(RESULT:1):마력 += 2
					BASE:(RESULT:1):지혜 += 4
					MAXBASE:(RESULT:1):마력 += 2
					MAXBASE:(RESULT:1):지혜 += 4
					ABL:LOCAL:스킬3 = 1111
					ABL:LOCAL:스킬4 = 1133
					ABL:LOCAL:스킬5 = 2075
				ENDIF
			ELSE
				CALL MESSAGE_WINDOW_D, "쿠드락", "그럼、작별이다…。"
				CALL MESSAGE_WINDOW_D, "", "쿠드락은 떠나갔다…。"
				CALLF STRFLAG_D("쿠드락비중마", 1)
			ENDIF
			CALLF STRFLAG_NUM_D("쿠드락", "+=", , 1)
			DA:(FLAG:현X):(FLAG:현Y) = 1
		
		ELSEIF STRFLAG_NUM_D("크르스니크") == 0
			CALLF STRFLAG_NUM_D("크르스니크", "+=", , 1)
			CALL MESSAGE_WINDOW_D, "악마", "어라、이 세계에 인간이 다시…。/이런 드문 일도 다 있군요。/제 이름은 크르스니크。앞으로、잘 알아두시길。"
			CALL MESSAGE_WINDOW_D, "크르스니크", "당신은、이전에 이 세계에 왔었던 인간과는 다른 것 같군요…。/인간의 세계는、변함없이 변하는 속도가 빠르네요…。/실례、저는 원래 인간이었습니다만。"
			CALL MESSAGE_WINDOW_D, "", "…같은 인간이라는 점에서、당신에게 여쭙고 싶은 말이 있습니다만…。/쿠드락、이라고 하는 흡혈귀를 알고 계십니까？"
			CALL MESSAGE_WINDOW_D, "", "저랑 대립하고 있는 흡혈귀로、그놈과 싸우는 것은 저의 숙명입니다。/녀석은 여기서부터 서쪽에 있는 작은 방에 있습니다。"
			CALL MESSAGE_WINDOW_D, "", "녀석은 불사신으로、올바른 방식으로 쓰러트리지 않으면、더 강해져서 부활합니다。/이를 반복하면 녀석의 힘은 끝없이 높아져서、/누구도 멈출 수 없게 되어 버립니다。"
			CALL MESSAGE_WINDOW_D, "", "호손 스피어、라는 무기로 숨통을 끊어야만、부활을 할 수 없게 됩니다만、/제 기량이 부족한 것인지、놈에게 치명상을 입히지 못하고 있습니다。"
			CALL MESSAGE_WINDOW_D, "", "그래서 부탁하고 싶은 것이 있습니다。/쿠드락에게 데미지를 주어서、녀석의 틈을 만들어 주실 수 있으십니까？/이전에 인간이었던 자로서의 부탁입니다。"
			CALL MESSAGE_WINDOW_D, "", "＞크르스니크의 의뢰를 받겠습니까？"
			CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "크르스니크", "감사합니다。/하얀 승리의 영광을 당신과 제가 함께 나눕시다。"
				CALL MESSAGE_WINDOW_D, "", "그럼 바로입니다만、쿠드락이 있는 곳으로 향하도록 하죠！/방의 앞에서 기다리고 있겠습니다。"
				CALL MESSAGE_WINDOW_D, "", "＞크르스니크는 떠나갔다…。/준비가 된다면、쿠드락이 있는 장소로 향하자。"
				CALLF STRFLAG_NUM_D("크르스니크", "+=", , 1)
				DA:(FLAG:현X):(FLAG:현Y) = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "크르스니크", "그렇습니까…。/바쁘실 테고、신경 쓰지 말아주세요。/그런데 혹시、부탁을 들어주신다고 마음을 바꾸신다면、제가 있는 장소에 와주십시오。"
			ENDIF
		ELSEIF STRFLAG_NUM_D("크르스니크") == 1
			CALL MESSAGE_WINDOW_D, "크르스니크", "어라、당신은…。혹시、의뢰를 받아주시는 겁니까？/쿠드락을 쓰러트리는 데에 협조해주셨으면 합니다만。"
			CALL MESSAGE_WINDOW_D, "", "＞크르스니크의 의뢰를 받겠습니까？"
			CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "크르스니크", "감사합니다。/하얀 승리의 영광을 당신과 제가 함께 나눕시다。"
				CALL MESSAGE_WINDOW_D, "", "그럼 바로입니다만、쿠드락이 있는 곳으로 향하도록 하죠！/방의 앞에서 기다리고 있겠습니다。"
				CALL MESSAGE_WINDOW_D, "", "＞크르스니크는 떠나갔다…。/준비가 된다면、쿠드락이 있는 장소로 향하자。"
				CALLF STRFLAG_NUM_D("크르스니크", "+=", , 1)
				DA:(FLAG:현X):(FLAG:현Y) = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "크르스니크", "그렇습니까…。/바쁘실 테고、신경 쓰지 말아주세요。/그런데 혹시、부탁을 들어주신다고 마음을 바꾸신다면、제가 있는 장소에 와주십시오。"
			ENDIF
		ENDIF
	
	CASE 1800, 1900, 1901, 2302, 2402
		IF STRFLAG_NUM_D("아수라입구") == 0
			CALL MESSAGE_WINDOW_D, "", "＞눈 앞에、알 수 없는 악마가 있다…。/실체가 없는、영혼과도 같은 악마다…。"
			CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "호오、설마 이 땅에 두번째의 인간이 나타난다고는…。/투신인 나의 힘의 비약에 한몫 거들어 줘야겠다。"
			CALL MESSAGE_WINDOW_D, "", "＞수수께끼의 악마가 덤벼들었다！"
			
			FLAG:도주불가플래그 = 1
			FLAG:회화불능플래그 = 1
			FLAG:선제기습취소 = 1
			CALL SET_ENEMY,9,263,38,0,1
			CFLAG:(CHARANUM-1):ＨＰ보정 += 300
			CFLAG:(CHARANUM-1):ＭＰ보정 += 5000
			CFLAG:(CHARANUM-1):행동횟수 = 2
			NAME:(CHARANUM-1) = 수수께끼의 악마
			CALLNAME:(CHARANUM-1) = 수수께끼의 악마	
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
			BASE:(CHARANUM-1):타격 = 100
			BASE:(CHARANUM-1):전술 = 100
			BASE:(CHARANUM-1):빙결 = 250
			BASE:(CHARANUM-1):신경 = 100
			BASE:(CHARANUM-1):정신 = 999
			BASE:(CHARANUM-1):지변 = 150
			BASE:(CHARANUM-1):수격 = 250
			MAXBASE:(CHARANUM-1):타격 = 100
			MAXBASE:(CHARANUM-1):전술 = 100
			MAXBASE:(CHARANUM-1):빙결 = 250
			MAXBASE:(CHARANUM-1):신경 = 100
			MAXBASE:(CHARANUM-1):정신 = 999
			MAXBASE:(CHARANUM-1):파마 = 100
			MAXBASE:(CHARANUM-1):주살 = 100
			MAXBASE:(CHARANUM-1):지변 = 150
			MAXBASE:(CHARANUM-1):수격 = 250
			LOCAL:3 = FLAG:20263	;아수라の解析度を保存
			FLAG:20263 = 0
			CALL BATTLE_START
			FLAG:도주불가플래그 = 0
			FLAG:회화불능플래그 = 0
			FLAG:선제기습취소 = 0
			FLAG:20263 = LOCAL:3
			CALL SHOW_PICTURE, "D"
			CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "훌륭하다…인간이여…。/다음 장소에서 기다리고 있겠다…。/네놈들이 원하는 것을 가지고 싶다면 오는 것이 좋을 것이다…。"
			CALL MESSAGE_WINDOW_D, "", "＞수수께끼의 악마는 사라져갔다…。/아무래도、다른 장소에서 기다리고 있는 듯하다。/원하는 물건이라면 틀림없이 로제타 다양체를 말하는 것이겠지。"
			CALL MESSAGE_WINDOW_D, "", "그 일을 알고 있다는 것은、아마 기다리고 있는 것은/아수라겠지。/이쪽을 쓰러트려、힘을 기르려고 하는 것이겠지。/깨달음을 얻지 않으면…。"
			CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는 그 장소를 뒤로 했다…。"
			CALLF STRFLAG_NUM_D("아수라입구", "+=", , 1)
			DA:(FLAG:현X):(FLAG:현Y) = 1
		ELSEIF STRFLAG_NUM_D("아수라입구") < 4
			CALL MESSAGE_WINDOW_D, "", "＞눈 앞에、알 수 없는 악마가 있다…。/실체가 없는、영혼과도 같은 악마다…。/이전에 조우했던 것과 같은 악마라고 생각되어진다…。"
			CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "잘 왔도다、강한 인간이여。/그 힘을 나에게 보여주도록 해라。"
			CALL MESSAGE_WINDOW_D, "", "＞수수께끼의 악마가 덤벼들었다！"
			
			FLAG:도주불가플래그 = 1
			FLAG:회화불능플래그 = 1
			FLAG:선제기습취소 = 1
			CALL SET_ENEMY,9,263,38 + STRFLAG_NUM_D("아수라입구") * 2,0,1
			CFLAG:(CHARANUM-1):행동횟수 = 1
			CFLAG:(CHARANUM-1):ＨＰ보정 += 400 * STRFLAG_NUM_D("아수라입구")
			CFLAG:(CHARANUM-1):ＭＰ보정 += 5000
			CFLAG:(CHARANUM-1):행동횟수 = 2
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
			NAME:(CHARANUM-1) = 수수께끼의 악마
			CALLNAME:(CHARANUM-1) = 수수께끼의 악마
			
			SELECTCASE STRFLAG_NUM_D("아수라입구")
				CASE 1
					BASE:(CHARANUM-1):검격 = 50
					BASE:(CHARANUM-1):비구 = 50
					BASE:(CHARANUM-1):타격 = 100
					BASE:(CHARANUM-1):전술 = 100
					BASE:(CHARANUM-1):화염 = 100
					BASE:(CHARANUM-1):빙결 = 999
					BASE:(CHARANUM-1):전격 = 999
					BASE:(CHARANUM-1):충격 = 250
					BASE:(CHARANUM-1):신경 = 125
					BASE:(CHARANUM-1):정신 = 50
					BASE:(CHARANUM-1):파마 = 150
					BASE:(CHARANUM-1):주살 = 0
					BASE:(CHARANUM-1):지변 = 250
					BASE:(CHARANUM-1):수격 = 999
					BASE:(CHARANUM-1):질풍 = 100
					BASE:(CHARANUM-1):중력 = 999
					BASE:(CHARANUM-1):핵열 = 150
					MAXBASE:(CHARANUM-1):검격 = 50
					MAXBASE:(CHARANUM-1):비구 = 50
					MAXBASE:(CHARANUM-1):타격 = 100
					MAXBASE:(CHARANUM-1):전술 = 100
					MAXBASE:(CHARANUM-1):화염 = 100
					MAXBASE:(CHARANUM-1):빙결 = 999
					MAXBASE:(CHARANUM-1):전격 = 999
					MAXBASE:(CHARANUM-1):충격 = 250
					MAXBASE:(CHARANUM-1):신경 = 125
					MAXBASE:(CHARANUM-1):정신 = 50
					MAXBASE:(CHARANUM-1):파마 = 150
					MAXBASE:(CHARANUM-1):주살 = 0
					MAXBASE:(CHARANUM-1):지변 = 250
					MAXBASE:(CHARANUM-1):수격 = 999
					MAXBASE:(CHARANUM-1):질풍 = 100
					MAXBASE:(CHARANUM-1):중력 = 999
					MAXBASE:(CHARANUM-1):핵열 = 150
				CASE 2
					BASE:(CHARANUM-1):비구 = 50
					BASE:(CHARANUM-1):전술 = 100
					BASE:(CHARANUM-1):빙결 = 100
					BASE:(CHARANUM-1):전격 = 250
					BASE:(CHARANUM-1):신경 = 100
					BASE:(CHARANUM-1):정신 = 100
					BASE:(CHARANUM-1):지변 = 999
					BASE:(CHARANUM-1):수격 = 150
					BASE:(CHARANUM-1):질풍 = 100
					BASE:(CHARANUM-1):핵열 = 250
					MAXBASE:(CHARANUM-1):비구 = 50
					MAXBASE:(CHARANUM-1):전술 = 100
					MAXBASE:(CHARANUM-1):빙결 = 100
					MAXBASE:(CHARANUM-1):전격 = 250
					MAXBASE:(CHARANUM-1):신경 = 100
					MAXBASE:(CHARANUM-1):정신 = 100
					MAXBASE:(CHARANUM-1):지변 = 999
					MAXBASE:(CHARANUM-1):수격 = 150
					MAXBASE:(CHARANUM-1):질풍 = 100
					MAXBASE:(CHARANUM-1):핵열 = 250
				CASE 3
					BASE:(CHARANUM-1):검격 = 50
					BASE:(CHARANUM-1):타격 = 100
					BASE:(CHARANUM-1):화염 = 250
					BASE:(CHARANUM-1):빙결 = 100
					BASE:(CHARANUM-1):전격 = 999
					BASE:(CHARANUM-1):신경 = 50
					BASE:(CHARANUM-1):정신 = 0
					BASE:(CHARANUM-1):파마 = 150
					BASE:(CHARANUM-1):주살 = 0
					BASE:(CHARANUM-1):지변 = 999
					BASE:(CHARANUM-1):수격 = 100
					BASE:(CHARANUM-1):핵열 = 250
					MAXBASE:(CHARANUM-1):검격 = 50
					MAXBASE:(CHARANUM-1):타격 = 100
					MAXBASE:(CHARANUM-1):화염 = 250
					MAXBASE:(CHARANUM-1):빙결 = 100
					MAXBASE:(CHARANUM-1):전격 = 999
					MAXBASE:(CHARANUM-1):신경 = 50
					MAXBASE:(CHARANUM-1):정신 = 0
					MAXBASE:(CHARANUM-1):파마 = 150
					MAXBASE:(CHARANUM-1):주살 = 0
					MAXBASE:(CHARANUM-1):지변 = 999
					MAXBASE:(CHARANUM-1):수격 = 100
					MAXBASE:(CHARANUM-1):핵열 = 250
			ENDSELECT
			LOCAL:3 = FLAG:20263	;아수라の解析度を保存
			FLAG:20263 = 0
			CALL BATTLE_START
			FLAG:도주불가플래그 = 0
			FLAG:회화불능플래그 = 0
			FLAG:선제기습취소 = 0
			FLAG:20263 = LOCAL:3
			CALLF STRFLAG_NUM_D("아수라입구", "+=", , 1)
			CALL SHOW_PICTURE, "D"
			IF STRFLAG_NUM_D("아수라입구") < 4
				CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "훌륭하다…인간이여…。/그 기세로... 나를 ... 즐겁게 해주도록 ... 해라…。"
				CALL MESSAGE_WINDOW_D, "", "＞수수께끼의 악마는 사라져갔다。/수수께끼의 악마도、전보다 더욱 강해지고 있었다。/말투로 보아、아무래도 이쪽을 시험하고 있는 듯하다。"
				CALL MESSAGE_WINDOW_D, "", "아수라 자신이 상대할 가치가 있는지 없는지、확인해보겠다는 것인가…。/이쪽을 얕보고 있다면 후회하게 해주겠어…。"
				CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는 그 장소를 뒤로 했다…。"			
			ELSE
				CALL MESSAGE_WINDOW_D, "", "＞수수께끼의 악마는 사라져갔다。/이번에는 아무 말 없이 사라진 듯하다…。"
				CALL MESSAGE_WINDOW_D, "", "＞어디선가 목소리가 들려온다…。"
				CALL MESSAGE_WINDOW_D, "수수께끼의 목소리", "장래성이 있는…인간이여…내가 ... 있는 장소까지 ... 오는 것이 좋다 …。"
				CALL MESSAGE_WINDOW_D, "", "＞아무래도 모습을 보여준다는 것이 신경쓰였던 모앙이다。/어디선가 기다리고 있는 것일테지。/찾아내지 않으면…。"
			ENDIF
			DA:(FLAG:현X):(FLAG:현Y) = 1
		ELSEIF STRFLAG_NUM_D("아수라입구") >= 4
			CALL MESSAGE_WINDOW_D, "", "＞아무도 없다…。"
			DA:(FLAG:현X):(FLAG:현Y) = 1
		ENDIF
	
	CASE 2000
		IF STRFLAG_NUM_D("슈바르츠바스진행도") == 9
			CALL MESSAGE_WINDOW_D, "악마", "어서 와라、나의 신성무도장에。/나의 허상을 모조리 무찌른 인간들이여。/알현을 허락해 주도록 하마。"
			CALL MESSAGE_WINDOW_D, "", "나는 과거에 인간들이 「아수라」라고 칭하고、/경외하며 받들어 모신 천마이니라。"
			CALL MESSAGE_WINDOW_D, "아수라", "나는…영원한 싸움을 짊어진 광명신이라고도、/알고 있는건지 모르는 건지…。"
			CALL MESSAGE_WINDOW_D, "", "나에게 칼을 향한다는 의미를 이해하고 있을테지、/분수를 모르는 인간이여。/떨면서…죽어라！"
			;ルシファーがパーティにいる場合、전투회피
			IF FINDCHARA_B([[キャラ:루시퍼]]) == 2
				CALL MESSAGE_WINDOW_D, "", "＞루시퍼가 대화에 끼어들어 왔다。"
				CALL MESSAGE_WINDOW_D, "루시퍼", "아수라 왕이여。/귀공의 본모습을 드러내소서！"
				CALL MESSAGE_WINDOW_D, "", "＞루시퍼가 말을 걸자、아수라의 모습이 변화했다！"
				CALL MESSAGE_WINDOW_D, "아후라마즈다", "오오、빛나는 그대 、루시퍼여。/나는 모든 것을 기억해냈다！"
				CALL MESSAGE_WINDOW_D, "", @"%CALLNAME:MASTER%이여、/나도 동료로 받아들여줄 수 있겠나？"
				CALL MESSAGE_WINDOW_D, "", "＞마신 아후라마즈다가 동료마가 되었다。"
				CALL ADD_NEW_COMPANION, 1530, 2000
				CALL MESSAGE_WINDOW_D, "아후라마즈다", "그렇다、이것도 건네주도록 하마。/이 지역의 로제타 다양체이다。/지금의 나에게는 불필요해졌으니。"
				CALL MESSAGE_WINDOW_D, "", @"%CALLNAME:MASTER%는、로제타:Del을 입수했다。"
				CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
				CALLF STRFLAG_D("アフラマズダ復活", 1)
			ELSE
				CALL MESSAGE_WINDOW_D, "", "＞마왕　아수라가 1기 출현했다！"
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				CALL SET_ENEMY,9,263,51,0,1
				CFLAG:(CHARANUM-1):행동횟수 = 1
				CFLAG:(CHARANUM-1):ＨＰ보정 += 3000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 5000
				CFLAG:(CHARANUM-1):행동횟수 = 2
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				CALL SHOW_PICTURE, "D"
				CALL MESSAGE_WINDOW_D, "아수라", "느읏…！/이…이 내가…꺾인다…고는…"
				CALL MESSAGE_WINDOW_D, "", @"＞아수라를 격파했다。/＞%CALLNAME:MASTER%는 로제타:Del을 손에 넣었다。"
				CALL MESSAGE_WINDOW_D, "", "＞이것으로、섹터・델파이너스에서의 임무는 달성했다。/조사선에 돌아가서、보고하자。"
				CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
			ENDIF
		ENDIF
	CASE 2202
		IF !STRFLAG_D("에메르초회")
			CALL MESSAGE_WINDOW_D, "여악마", "이런 장소에 인간이라니 드문 일이네요。/그대、쿠・훌린을 보지 못하셨나요？"
			IF !STRFLAG_D("쿠훌린초회")
				CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%은 만나지 못했다고 말하였다…。"
				CALL MESSAGE_WINDOW_D, "여악마", "어머、그런가요。알겠습니다。/정말、어디로 가버린걸까…。"
				CALL MESSAGE_WINDOW_D, "", "＞악마는 떠나갔다…。"
				DA:(FLAG:현X):(FLAG:현Y) = 1
			ELSEIF !STRFLAG_D("쿠훌린격파")
				CALL MESSAGE_WINDOW_D, "여악마", "섹터 카리나에 있었나요？/그렇군요、그렇다면 다행입니다。가르쳐 주셔서 감사합니다。/그럼、저는 이만 실례하겠습니다。"
				CALL MESSAGE_WINDOW_D, "", "＞악마는 떠나갔다…。"
				DA:(FLAG:현X):(FLAG:현Y) = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "", @"%CALLNAME:MASTER%는、섹터 카리나에서 싸웠음을 전했다…。"
				CALL MESSAGE_WINDOW_D, "여악마", "엣、설마、제 남편에게서 이긴 건가요？/아무리 모리안의 저주에 걸렸다고는 하지만…。"
				CALL MESSAGE_WINDOW_D, "", "앗、실례했습니다。/제 이름은 에메르。/쿠・훌린의 아내입니다。"
				CALL MESSAGE_WINDOW_D, "에메르", "그대의 힘을 빌려주셨으면 합니다。/남편、쿠・훌린은 마녀의 저주를 받고 있습니다。그 저주를 푸는 것을 도와주세요。"
				CALL MESSAGE_WINDOW_D, "", "저주를 건 마녀、모리안은 이 지역의 어딘가에 있습니다。/찾아서、저주를 풀어달라고 설득해 주세요。"
				CALLF STRFLAG_D("에메르초회", 1)
			ENDIF
		ELSE
			CALL MESSAGE_WINDOW_D, "에메르", "저주의 건을 맡아주신 것、정말 감사합니다。/모리안을 찾아내서 해주의 건을 부탁드립니다。"
		ENDIF
	CASE 2301
		IF STRFLAG_D("에메르초회")
			CALL MESSAGE_WINDOW_D, "여악마", "흥、에메르의 부탁을 받고 왔는가、인간놈。"
			CALL MESSAGE_WINDOW_D, "", @"%CALLNAME:MASTER%는、어떻게 알았는지를 물었다。"
			CALL MESSAGE_WINDOW_D, "여악마", "싸움의 마녀라고 두려움의 대상이 되고 있는 이 모리안의 거처에、/어느 누구라도 재미로 방문할 리가 없지。"
			CALL MESSAGE_WINDOW_D, "", @"＞이쪽이 찾아간 이유를 이미 알고 있다면、이야기도 빨라진다。/쿠・훌린에게 건 저주를 풀라고/%CALLNAME:MASTER%는 부탁했다…。"
			CALL MESSAGE_WINDOW_D, "모리안", "하지만、인간 따위로 이 나를 쓰러트릴 수 있다고 생각하였는가。/꽤나 만만하게 보인 것 같구나。"
				CALL SET_ENEMY,9,908,52,0,1
				CFLAG:(CHARANUM-1):ＨＰ보정 += 3000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 5000
				CFLAG:(CHARANUM-1):행동횟수 = 2
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				CALL SHOW_PICTURE, "D"
			CALL MESSAGE_WINDOW_D, "모리안", "고작 인간이라고 얕본 나의 실수인가…。/나의 목숨을 거둬가도록 해라。/내가 내린 저주도 풀릴 것이다。"
			CALL MESSAGE_WINDOW_D, "","＞모리안의 숨통을 끊겠습니까？"
			CALL INPUT_YN
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "", @"%CALLNAME:MASTER%는 숨통을 끊기 위해서 무기를 꺼냈다……。"
				CALL INCREASE_LD, -2
			ELSE
				CALL MESSAGE_WINDOW_D, "", @"%CALLNAME:MASTER%는 거부했다…。"
				CALL MESSAGE_WINDOW_D, "모리안", "이 모리안을 동정하는 것이냐？/하지만、이곳에서 나의 목숨을 끊지 않으면/저주는 풀리지 않을 거다！"
				CALL INCREASE_LD, 2
			ENDIF
			CALL MESSAGE_WINDOW_D, "남성의 목소리", "기다려주셨으면 합니다。"
			CALL MESSAGE_WINDOW_D, "", "＞어디선가 쿠・훌린이 나타났다。"
			CALL MESSAGE_WINDOW_D, "모리안", "쿠・훌린…。/이 나의 추태라도 구경하러 온 것인가？"
			CALL MESSAGE_WINDOW_D, "쿠・훌린", "오랜만이군요。/모리안에게 베풀어주신 인정에 감사드립니다。"
			CALL MESSAGE_WINDOW_D, "", "모리안이여。/나의 저주를 해주하거나 풀지 않거나/네가 원하는 대로 해도 좋아。"
			CALL MESSAGE_WINDOW_D, "모리안", "무슨 흉계를 꾸미고 있는거야？/어째서、나를？"
			CALL MESSAGE_WINDOW_D, "쿠・훌린", "꾸미고 있는 일 따위 없어。/나는 내 능력을 빼앗긴 것에서 알게 된거야。/쓸데없는 힘이 없다면、터무니없는 야심도 생기지 않는다는 것을。"
			CALL MESSAGE_WINDOW_D, "", "지금、나는 에메르와 함께 평온하게 살고 있어。/만약 나에게 이전과 같은 능력이 있다면、/힘의 마성에 휘둘려、소중한 것을 잃게 되었을지도 몰라。/나는 소중한 것을 지킬 힘만 있으면 돼。"
			CALL MESSAGE_WINDOW_D, "모리안", "그것이、내가 사랑했던 영웅 쿠・훌린의 대답인가。/실망했다…。"
			CALL MESSAGE_WINDOW_D, "쿠・훌린", "내 눈을 뜨게 만들었던 건 바로 너야、모리안。"
			CALL MESSAGE_WINDOW_D, "모리안", "바보같은 소리를…。/야심을 잃은 당신에게는 전혀 어떤 매력도 느낄 수 없어。/마음대로 하도록 해。"
			CALL MESSAGE_WINDOW_D, "", "＞그렇게 말한 모리안은 쿠・훌린의 저주를 풀고、떠나갔다…。"
			CALL MESSAGE_WINDOW_D, "쿠・훌린", "모리안…。"
			CALL MESSAGE_WINDOW_D, "", "또 신세를 지게 되었습니다。/제 아내가 폐를 끼쳤습니다。/그렇지만、덕분에 제 힘이 돌아왔습니다。/다음에 기회가 있으면 다시 만납시다。"
			CALL MESSAGE_WINDOW_D, "", "＞그렇게 말하고 쿠・훌린는 떠나갔다…。"
			DA:(FLAG:현X):(FLAG:현Y) = 1
			CALLF STRFLAG_D("쿠훌린강화", 1)
		ENDIF
		
	CASE 2400
		IF STRFLAG_NUM_D("아수라입구") == 0
			CALL MESSAGE_WINDOW_D, "", "＞눈 앞에、천사의 무리와 타천사의 무리가 다투고 있다…。/어느 쪽의 무리도 이쪽을 눈치채지 못한 듯하다…。/지금이라면 수는 많지만、기습할 수 있을 듯하다。/조금 더 기다린다면、그들의 수는 줄어들겠지。"
			CALL MESSAGE_WINDOW_D, "", "＞싸우시겠습니까？"
			CALL INPUT_YN("예","좀더 상황을 지켜본다")
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는、악마의 무리에 돌진해 갔다！"
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				CALL SET_ENEMY,7,360,38,0,0
				CALL SET_ENEMY,8,360,41,0,0
				CALL SET_ENEMY,9,360,43,0,0
				CALL SET_ENEMY,10,1703,41,0,0
				CALL SET_ENEMY,11,1703,39,0,0
				CALL SET_ENEMY,12,360,40,0,0
				CALL SET_ENEMY,13,360,40,0,0
				CALL SET_ENEMY,14,1703,43,0,0
				CALL SET_ENEMY,15,1703,41,0,0
				CALL SET_ENEMY,16,1703,40,0,0
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				CALL SHOW_PICTURE, "D"
				CALL MESSAGE_WINDOW_D, "", "＞악마의 무리를 섬멸했다。/악마의 몸에서부터、실체가 없는、영혼과도 같은 악마가 나타났다。"
				CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "호오、누가 내 제물을 가져갔는지 보았더니 인간인가。/재미있군。/이번에는 물러가겠지만、다음은 이렇게 되지는 않을 것이다。/명심하는 것이 좋다"
				CALL MESSAGE_WINDOW_D, "", "＞그렇게 말한 악마는 사라져갔다。/다른 장소에서、전의 악마가 기다리고 있는 듯하다。/정신을 확실히 차리지 않으면…。"
			ELSE
				CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는、잠시 상황을 지켜보기로 했다…。"
				CALL MESSAGE_WINDOW_D, "", "…/……/………"
				CALL MESSAGE_WINDOW_D, "", "＞아무래도、악마는 반쯤으로 줄어든 듯하다。하지만、아직 천사와 악마도 비슷한 수로 남아 있다。/좀 더 기다리면 수는 더욱 줄어들 것이다。"
				CALL MESSAGE_WINDOW_D, "", "＞싸우시겠습니까？"
				CALL INPUT_YN("싸운다","좀더 상황을 지켜본다")
				IF RESULT == 0
					CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%は、악마의 무리에 돌진해 갔다！"
					FLAG:도주불가플래그 = 1
					FLAG:회화불능플래그 = 1
					FLAG:선제기습취소 = 1
					CALL SET_ENEMY,8,360,42,0,0
					CALL SET_ENEMY,9,360,44,0,0
					CALL SET_ENEMY,10,1703,42,0,0
					CALL SET_ENEMY,13,360,41,0,0
					CALL SET_ENEMY,14,1703,44,0,0
					CALL SET_ENEMY,15,1703,43,0,0
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)
					CALL BATTLE_START
					FLAG:도주불가플래그 = 0
					FLAG:회화불능플래그 = 0
					FLAG:선제기습취소 = 0
					CALL SHOW_PICTURE, "D"
					CALL MESSAGE_WINDOW_D, "", "＞악마의 무리를 섬멸했다。/악마의 몸에서부터、실체가 없는、영혼과도 같은 악마가 나타났다。"
					CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "호오、누가 내 제물을 가져갔는지 보았더니 인간인가。/재미있군。/이번에는 물러가겠지만、다음은 이렇게 되지는 않을 것이다。/명심하는 것이 좋다"
					CALL MESSAGE_WINDOW_D, "", "＞그렇게 말한 악마는 사라져갔다。/다른 장소에서、전의 악마가 기다리고 있는 듯하다。/정신을 확실히 차리지 않으면…。"
				ELSE
					CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는、잠시 상황을 지켜보기로 했다…。"
					CALL MESSAGE_WINDOW_D, "", "…/……/………"
					IF RAND:2 == 0
						CALL MESSAGE_WINDOW_D, "", "＞아무래도、결판이 난 듯 하다。/이겨서 남은 쪽은、1명의 천사쪽이다。/천사가 무언가를 말하는 듯하다…。"
						CALL MESSAGE_WINDOW_D, "천사", "겨우 제물이 바쳐졌는가…。/빨리 먹어치우고 싶지만、그 전에 염탐꾼의 처리부터 해야겠군！"
						CALL MESSAGE_WINDOW_D, "", "＞천사가 갑자기 덤벼들어 왔다！"
						FLAG:도주불가플래그 = 1
						FLAG:회화불능플래그 = 1
						FLAG:선제기습취소 = 1
						CALL SET_ENEMY,9,360,47,0,0
						CALL SYNC_STATUS,(CHARANUM-1)
						CALL HEALTH_CHARA,(CHARANUM-1)
						CALL BATTLE_START
					ELSE
						CALL MESSAGE_WINDOW_D, "", "＞아무래도、결판이 난 듯 하다。/이겨서 남은 쪽은、1명의 타천사 쪽이다。/타천사가 무언가를 말하는 듯하다…。"
						CALL MESSAGE_WINDOW_D, "타천사", "겨우 제물이 바쳐졌는가…。/빨리 먹어치우고 싶지만、그 전에 염탐꾼의 처리부터 해야겠군！"
						CALL MESSAGE_WINDOW_D, "", "＞타천사가 갑자기 덤벼들어 왔다！"
						FLAG:도주불가플래그 = 1
						FLAG:회화불능플래그 = 1
						FLAG:선제기습취소 = 1
						CALL SET_ENEMY,9,1703,47,0,0
						CALL SYNC_STATUS,(CHARANUM-1)
						CALL HEALTH_CHARA,(CHARANUM-1)
						CALL BATTLE_START
					ENDIF
					FLAG:도주불가플래그 = 0
					FLAG:회화불능플래그 = 0
					FLAG:선제기습취소 = 0
					CALL SHOW_PICTURE, "D"
					CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는 공격해 온 악마를 쓰러트렸다。/쓰러트린 악마에게서、실체가 없는、영혼과도 같은 악마가 나타났다。"
					CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "내 제물을 쓰러트릴 줄이야。/좋은 영양분이 될 것 같구나。/다음 번에는 내 힘을 보여주겠다。"
					CALL MESSAGE_WINDOW_D, "", @"＞그런 말을 남긴、수수께끼의 악마는 사라져갔다。/어딘가로부터 %CALLNAME:MASTER%를 시험하려는 듯하다。/후회하게 해주마、라고 결심하며、그 장소를 뒤로 했다…。"
				ENDIF
			ENDIF
			CALLF STRFLAG_NUM_D("아수라입구", "+=", , 1)
			DA:(FLAG:현X):(FLAG:현Y) = 1
		ELSEIF STRFLAG_NUM_D("아수라입구") < 4
			CALL MESSAGE_WINDOW_D, "", "＞눈 앞에、천사의 무리과 타천사의 무리이 다투고 있다…。/어느 쪽의 무리도 이쪽을 눈치채지 못한 듯하다…。/곧 결판이 날 듯하다。/지금이라면、급습을 할 수 있고、조금 더 기다리면、결판이 나겠지。"
			CALL MESSAGE_WINDOW_D, "", "＞싸우시겠습니까？"
			CALL INPUT_YN("싸운다","좀더 상황을 지켜본다")
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%は、악마의 무리에 돌진해 갔다！"
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				CALL SET_ENEMY,8,360,42,0,0
				CALL SET_ENEMY,9,360,44,0,0
				CALL SET_ENEMY,10,1703,42,0,0
				CALL SET_ENEMY,13,360,41,0,0
				CALL SET_ENEMY,14,1703,44,0,0
				CALL SET_ENEMY,15,1703,43,0,0
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				CALLF STRFLAG_NUM_D("아수라입구", "+=", , 1)
				CALL SHOW_PICTURE, "D"
				CALL MESSAGE_WINDOW_D, "", "＞악마의 무리를 섬멸했다。/악마의 몸에서부터、실체가 없는、영혼과도 같은악마가 나타났다。/저번에 쓰러뜨린 것과 같은 악마라고 생각되어진다。"
				IF STRFLAG_NUM_D("아수라입구") < 4
					CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "호오、완성되지는 않았다고 하나 내 제물을 쓰러트리다니。/재미있군。/이번엔 물러나도록 하지。"
					CALL MESSAGE_WINDOW_D, "", "＞그렇게 말하며 악마는 사라져갔다。/다른 장소에서、전의 악마가 기다리고 있는 듯하다。/정신을 확실히 차리지 않으면…。"
				ELSE
					CALL MESSAGE_WINDOW_D, "", "＞수수께끼의 악마는 사라져갔다。/이번에는 아무 말 없이 사라진 듯하다…。"
					CALL MESSAGE_WINDOW_D, "", "＞어디선가 목소리가 들려온다…。"
					CALL MESSAGE_WINDOW_D, "수수께끼의 목소리", "장래성이 있는…인간이여…내가 ... 있는 장소까지 ... 오는 것이 좋다 …。"
					CALL MESSAGE_WINDOW_D, "", "＞아무래도 모습을 보여준다는 것이 신경쓰였던 모앙이다。/어디선가 기다리고 있는 것일테지。/찾아내지 않으면…。"
				ENDIF
			ELSE
				CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%는、잠시 상황을 지켜보기로 했다…。"
				CALL MESSAGE_WINDOW_D, "", "…/……/………"
				IF RAND:2 == 0
					CALL MESSAGE_WINDOW_D, "", "＞아무래도、결판이 난 듯 하다。/이겨서 남은 쪽은、1명의 천사쪽이다。/천사가 무언가를 말하는 듯하다…。"
					CALL MESSAGE_WINDOW_D, "천사", "겨우 제물이 바쳐졌는가…。/빨리 먹어치우고 싶지만、그 전에 염탐꾼의 처리부터 해야겠군！"
					CALL MESSAGE_WINDOW_D, "", "＞천사가 갑자기 덤벼들어 왔다！"
					FLAG:도주불가플래그 = 1
					FLAG:회화불능플래그 = 1
					FLAG:선제기습취소 = 1
					CALL SET_ENEMY,9,360,47,0,0
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)
					CALL BATTLE_START
				ELSE
					CALL MESSAGE_WINDOW_D, "", "＞아무래도、결판이 난 듯 하다。/이겨서 남은 쪽은、1명의 타천사 쪽이다。/타천사가 무언가를 말하는 듯하다…。"
					CALL MESSAGE_WINDOW_D, "타천사", "겨우 제물이 바쳐졌는가…。/빨리 먹어치우고 싶지만、그 전에 염탐꾼의 처리부터 해야겠군！"
					CALL MESSAGE_WINDOW_D, "", "＞타천사가 갑자기 덤벼들어 왔다！"
					FLAG:도주불가플래그 = 1
					FLAG:회화불능플래그 = 1
					FLAG:선제기습취소 = 1
					CALL SET_ENEMY,9,1703,47,0,0
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)
					CALL BATTLE_START
				ENDIF
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				CALLF STRFLAG_NUM_D("아수라입구", "+=", , 1)
				DA:(FLAG:현X):(FLAG:현Y) = 1
				CALL SHOW_PICTURE, "D"
				CALL MESSAGE_WINDOW_D, "", "＞악마의 무리를 섬멸했다。/악마의 몸에서부터、실체가 없는、영혼과도 같은악마가 나타났다。/저번에 쓰러뜨린 것과 같은 악마라고 생각되어진다。"
				IF STRFLAG_NUM_D("아수라입구") < 4
					CALL MESSAGE_WINDOW_D, "수수께끼의 악마", "호오、완성되지는 않았다고 하나 내 제물을 쓰러트리다니。/재미있군。/이번엔 물러나도록 하지。"
					CALL MESSAGE_WINDOW_D, "", "＞그렇게 말한악마는 사라져갔다。/다른 장소에서、전의 악마가 기다리고 있는 듯하다。/정신을 확실히 차리지 않으면…。"
				ELSE
					CALL MESSAGE_WINDOW_D, "", "＞수수께끼의 악마는 사라져갔다。/이번에는 아무 말 없이 사라진 듯하다…。"
					CALL MESSAGE_WINDOW_D, "", "＞어디선가 목소리가 들려온다…。"
					CALL MESSAGE_WINDOW_D, "수수께끼의 목소리", "장래성이 있는…인간이여…내가 ... 있는 장소까지 ... 오는 것이 좋다 …。"
					CALL MESSAGE_WINDOW_D, "", "＞아무래도 모습을 보여준다는 것이 신경쓰였던 모앙이다。/어디선가 기다리고 있는 것일테지。/찾아내지 않으면…。"
				ENDIF
			ENDIF
		ELSE
			CALL MESSAGE_WINDOW_D, "", "＞아무도 없다…。/주위에는 다툰 흔적이 남아 있다。"
			DA:(FLAG:현X):(FLAG:현Y) = 1
		ENDIF
	CASE 2401
		CALL MESSAGE_WINDOW_D, "", "＞아무도 없다…。"
	
	
	ENDSELECT



;=======================================
;罠
;=======================================
@TILE_MARK_COMMON_65_5, ARG, ARG:1, ARG:2
SELECTCASE ARG / 10
	;落とし穴(P)
	CASE 1
		RESULTS = \@GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2 ?　#□\@
	CASEELSE
		RESULTS = \@GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2 ?덫#□\@
ENDSELECT

@TRAP_65
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
	;落とし穴
	CASE 1
		PRINTL ＞落とし穴だ！
		TWAIT 1000, 1
		CALL DUNGEON_WORP, FLAG:현M-1, FLAG:현X,  FLAG:현Y
	;HP데미지(H)
	CASE 2
		CALL DUNGEON_TRAP_HP, 10 + RAND:11
ENDSELECT
RETURN 1

;=======================================
;昇り階段
;=======================================
@TILE_MARK_COMMON_65_6, ARG, ARG:1, ARG:2
	RESULTS = 승

@UPSTAIRS_65
#LOCALSIZE 1
LOCAL = DA:(FLAG:현X):(FLAG:현Y)
SELECTCASE LOCAL / 1000
	
	CASEELSE
		CALL DUNGEON_UPSTAIRS,FLAG:현M + 1,FLAG:현X,FLAG:현Y
	
ENDSELECT

;=======================================
;下り階段
;=======================================
@TILE_MARK_COMMON_65_7, ARG, ARG:1, ARG:2
	RESULTS = 강

@DOWNSTAIRS_65
#LOCALSIZE 1
LOCAL = DA:(FLAG:현X):(FLAG:현Y)
SELECTCASE LOCAL / 1000
	

	CASEELSE
		CALL DUNGEON_DOWNSTAIRS,FLAG:현M - 1,FLAG:현X,FLAG:현Y
	
ENDSELECT


;=======================================
;メッセンジャー(8)
;ARGは進入時の時に真
;IDは50未満が部屋の中、50以上外
;ARGがの場合RETURNして打ち切る
;=======================================
@TILE_MARK_COMMON_65_8, ARG, ARG:1, ARG:2
SETCOLOR 0x00ff00
RESULTS = ｍ
@MESSAGE_65, ARG
#LOCALSIZE 10
;移動時で이벤트タイルである場合、표시更新する
SIF DA:(FLAG:현X):(FLAG:현Y) > 10 && ARG
	CALL SHOW_PICTURE, "D"
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10

	;------------------------------
	;調査船
	;------------------------------
	CASE 0
		IF STRFLAG_NUM_D("슈바르츠바스진행도") < 2
			CALL MESSAGE_WINDOW_D, "남자", "미안、어플리케이션의 회수에 난항을 겪고 있어/개발도 견본이 있으면 할 수 있겠지만…"
		ELSEIF STRFLAG_NUM_D("슈바르츠바스진행도") == 2
			CALL MESSAGE_WINDOW_D, "남자", "호오、데모니카수트의 잔해인가…/좋은 것을 찾아냈구나、뭔가 어플리케이션을 만들 수 있을지도 모르겠어、조금만 기다려봐"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "남자", "좋아、다 되었어/우선 스페이스 스캐너 뿐이지만/다른 어플리케이션은 조금 시간이 걸릴 것 같구나、탐색을 계속해 줘"
			CALL MESSAGE_WINDOW_D, "", "＞스페이스 스캐너를 손에 넣었다。/관제포인트에서、숨겨진 공간으로 이동할 수 있습니다。"
			CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
		ELSEIF STRFLAG_NUM_D("슈바르츠바스진행도") >= 6 && ITEM:538 != 1
			CALL MESSAGE_WINDOW_D, "남자", "요전에 회수했던 데모니카수트로부터、게이트서치의 애플리케이션이 회수되었어。/라고 말해도、시중에서 판매되고 있는 것들과 거의 같은 레벨이지 않으려나…。/600마카로 괜찮다면 지금 바로 COMP에 넣어주겠지만、어떻게 할래？"
			CALL MESSAGE_WINDOW_D, "", "＞게이트서치의 기능을 넣겠습니까？"
			CALL INPUT_YN_D
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "남자", "그런가、그러면 COMP를 잠시 빌릴게。"
				CALL MESSAGE_WINDOW_D, "", "＞…。/……。/………。"
				CALL MESSAGE_WINDOW_D, "남자", "기다렸지。/인스톨은 하지 않았으니까、필요하다면 터미널에서 설정하도록 해。"
				CALL MESSAGE_WINDOW_D, "", "＞남자에게 600마카를 지불했다。/게이트서치 기능을 입수했다。"
				ITEM:538 = 1
				MONEY:1 -=600
			ELSE
				CALL MESSAGE_WINDOW_D, "남자", "그런가、알았다。/만약에 필요해진다면 말을 걸어줘。"
			ENDIF
		ELSE
			CALL MESSAGE_WINDOW_D, "남자", "미안해、어플리케이션의 회수에 난항을 겪고 있어/개발도、フォルマ가 있으면 할 수 있을텐데…"
		
		ENDIF
	CASE 1
		LOCAL = STRFLAG_NUM_D("조사선위치")
		LOCALS = 
		SIF LOCAL == 0
			CALL MESSAGE_WINDOW_D, "남자", "지금은 지상에 있다/어딘가로 이동할까？"
		SIF LOCAL == 1
			CALL MESSAGE_WINDOW_D, "남자", "지금은 섹터・안트리아에 있다/어딘가로 이동할까？"
		SIF LOCAL == 2
			CALL MESSAGE_WINDOW_D, "남자", "지금은 섹터・보티즈에 있다/어딘가로 이동할까？"
		SIF LOCAL == 3
			CALL MESSAGE_WINDOW_D, "남자", "지금은 섹터・카리나에 있다/어딘가로 이동할까？"
		SIF LOCAL == 4
			CALL MESSAGE_WINDOW_D, "남자", "지금은 섹터・델파이너스에 있다/어딘가로 이동할까？"
		SIF LOCAL == 5
			CALL MESSAGE_WINDOW_D, "남자", "지금은 섹터・에리다누스에 있다/어딘가로 이동할까？"
		LOCALS += "[0] 이동하지 않는다/"
		SIF STRFLAG_D("안트리아가능") && LOCAL != 1
			LOCALS += "[1] 섹터・안트리아로/"
		SIF STRFLAG_D("보티즈가능") && LOCAL != 2
			LOCALS += "[2] 섹터・보티즈로/"
		SIF  LOCAL != 3
			LOCALS += "[3] 섹터・카리나로/"
		SIF STRFLAG_D("델파이너스가능") && LOCAL != 4
			LOCALS += "[4] 섹터・델파이너스로/"
		SIF STRFLAG_D("에리다누스가능") && LOCAL != 5
			LOCALS += "[5] 섹터・에리다누스로/"
		SIF STRFLAG_D("에리다누스가능") && LOCAL != 6
			LOCALS += "[6] セクター・フォへ/"
		SIF STRFLAG_D("에리다누스가능") && LOCAL != 7
			LOCALS += "[7] セクター・グルースへ/"
		SIF STRFLAG_D("에리다누스가능") && LOCAL != 8
			LOCALS += "[8] セクター・ホロロジウムへ/"
		SIF STRFLAG_D("에리다누스가능") && LOCAL != 9
			LOCALS += "[9] セクター・エリダヌスへ/"



		CALL INPUT_SELECT_D, LOCALS
		IF RESULT == 0
			CALL MESSAGE_WINDOW_D, "남자", "알았다、지금 섹터에 있으면 되는 거지。"
			RETURN 0
		ELSEIF RESULT == 1
			CALL MESSAGE_WINDOW_D, "남자", "알았다、섹터･안트리아랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 1)
		ELSEIF RESULT == 2
			CALL MESSAGE_WINDOW_D, "남자", "알았다、섹터･보티즈랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 2)
		ELSEIF RESULT == 3
			CALL MESSAGE_WINDOW_D, "남자", "알았다、섹터･카리나랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 3)
		ELSEIF RESULT == 4
			CALL MESSAGE_WINDOW_D, "남자", "알았다、섹터･델파이너스랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 4)
		ELSEIF RESULT == 5
			CALL MESSAGE_WINDOW_D, "남자", "알았다、섹터･에리다누스랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 5)
		ELSEIF RESULT == 6
			CALL MESSAGE_WINDOW_D, "男", "알았다、섹터ー･フォルナクス랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 6)
		ELSEIF RESULT == 7
			CALL MESSAGE_WINDOW_D, "男", "알았다、섹터ー･グルース랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 7)
		ELSEIF RESULT == 8
			CALL MESSAGE_WINDOW_D, "男", "알았다、섹터ー･ホロジウム랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 8)
		ELSEIF RESULT == 9
			CALL MESSAGE_WINDOW_D, "男", "알았다、랬지/"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……/"
			CALL MESSAGE_WINDOW_D, "", "무사히 이동했어"
			CALLF STRFLAG_NUM_D("조사선위치", "=", , 9)

		ENDIF
	CASE 2
		CALL MESSAGE_WINDOW_D, "운전수", "슈바르츠바스를 탈출할건가？"
		CALL INPUT_YN
		IF RESULT == 0
			CALL MESSAGE_WINDOW_D, "운전수", "알겠다、그럼 탈출한다"
			FLAG:탈출스킬금지 = 0
			FLAG:탈출 = 1
		ELSEIF RESULT == 1
			CALL MESSAGE_WINDOW_D, "운전수", "그런가/탈출하고 싶어지면 언제라도 말해줘"
		ENDIF
	CASE 3
		SELECTCASE STRFLAG_NUM_D("슈바르츠바스진행도")
			CASE IS < 5
				CALL MESSAGE_WINDOW_D, "대장", "현재의 임무를 확인하자。/섹터・카리나의 양자 터널로 가는 길의 확보다/조심해서 가라"
			CASE 5
				CALL MESSAGE_WINDOW_D, "대장", "양자터널로 가는 길을 확보한 모양이군/수고했다/로제타 다양체의 회수에 성공한 모양이군"
				CALL MESSAGE_WINDOW_D, "", "양자장 자체가 조금 변화되어 있어서、/로제타 다양체가 없다면 돌입할 수 없는 곳이다"
				CALL MESSAGE_WINDOW_D, "", "자、일단 지상에 돌아가자 나중에 또 연락해라"
				CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
				FLAG:탈출스킬금지 = 0
				FLAG:탈출 = 1
			ENDSELECT
	CASE 4
		CALL MESSAGE_WINDOW_D, "간호사", "여기는 치료실이야/하지만 지금은 안해/제작자가 농땡이친게 아니야"


	;------------------------------
	;カリーナ
	;------------------------------
	CASE 1200
		IF !STRFLAG_D("프로스트초회")
			CALL MESSAGE_WINDOW_D, "", "＞베스트와 같은 것을 입은、잭프로스트같이 생긴 악마가 있다…/아무래도 저쪽도 여기를 눈치챈 것 같다…"
			CALL MESSAGE_WINDOW_D, "악마", "호？/인간이다 호、오래간만에 본다 호"
			CALL MESSAGE_WINDOW_D, "", "나는 카오스한 세계의 다크 히어로、프로스트에이스다 호/기억해라 호"
			CALLF STRFLAG_D("프로스트초회", 1)
		ENDIF
		CALL MESSAGE_WINDOW_D, "프로스트에이스", "나한테 무슨 일이냐 호？"
		CALL MESSAGE_WINDOW_D, "", @"＞%마스터는% 아무 일도 없다고 말했다…。"
		CALL MESSAGE_WINDOW_D, "프로스트에이스", "그런가 호、혹시 뭔가 일이 있다면 나한테 의뢰해라 호"
	CASE 1201
		CALL MESSAGE_WINDOW_D, "조사대원", "이 앞은 어둡다/시야가 꽤 나쁘니까 조심해라"
		IF EQUIP:MASTER:다크스캐너 && NUM_SUMMONER()
			CALL MESSAGE_WINDOW_D, "", "뭐、다크스캐너가 있다면 괜찮겠지만。"
		ELSE
			CALL MESSAGE_WINDOW_D, "", "다크스캐너가 있으면 보이겠지만…。"
		ENDIF


ENDSELECT




;=======================================
;特殊タイル
;=======================================
@TILE_MARK_COMMON_65_9, ARG, ARG:1, ARG:2
SELECTCASE ARG / 10
	CASE 0, 1200, 1301, 1302, 1501, 1601, 1602, 1800, 2000, 2100, 2200, 2400, 2500
		RESULTS = Ｔ
	CASE 1300, 1600, 1700
		RESULTS = Ｅ
	CASE 1400, 1401, 1500
		IF STRFLAG_NUM_D("카리나숨겨진장소") == 0
			
		ELSEIF STRFLAG_NUM_D("카리나숨겨진장소") == 1
			SETCOLOR 0x0000FF
		ELSEIF STRFLAG_NUM_D("카리나숨겨진장소") == 2
			SETCOLOR 0x0000BB
		ENDIF
		RESULTS = 管

ENDSELECT

@SPECIAL_65
#LOCALSIZE 7
#LOCALSSIZE 1
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
	CASE 0, 1200, 1301, 1302, 1501, 1601, 1602, 1800, 2000, 2100, 2200, 2400, 2500
		CALL SJ_TERMINAL_65
	CASE 1300, 1600, 1700
		CALL SJ_ELEVATOR_65
	CASE 1400, 1401, 1500
		CALL ANOTHER_DIMENTION_65

ENDSELECT

;=======================================
;ダークゾーン
;=======================================
@TILE_MARK_COMMON_65_D, ARG, ARG:1, ARG:2
IF FLAG:라이트마 || (EQUIP:MASTER:다크스캐너 && NUM_SUMMONER())
	SELECTCASE -ARG/10
		CASE 2
			RESULTS = Λ
		CASE 3
			RESULTS = ＜
		CASE 4
			RESULTS = Ｖ
		CASE 5
			RESULTS = ＞
		CASEELSE
			RESULTS = □
	ENDSELECT
ELSE
	SETCOLOR 0x202020
	SELECTCASE -ARG/10
		CASE 2
			RESULTS = Λ
		CASE 3
			RESULTS = ＜
		CASE 4
			RESULTS = Ｖ
		CASE 5
			RESULTS = ＞
		
		CASEELSE
			RESULTS = □
	ENDSELECT
ENDIF



@DARK_65, ARG
#LOCALSIZE 2

SELECTCASE -DA:(FLAG:현X):(FLAG:현Y)/10
	CASE 2
		CALL MOVEUP_65
	CASE 3
		CALL MOVELEFT_65
	CASE 4
		CALL MOVEDOWN_65
	CASE 5
		CALL MOVERIGHT_65
ENDSELECT


;=======================================================================
;ワープゾーン
;=======================================================================
@WORP_65
#LOCALSIZE 1
LOCAL = DA:(FLAG:현X):(FLAG:현Y)
CALL MESSAGE_WINDOW_D, "", "＞ワープゾーンだ！"
CALL SHOW_PICTURE, "EMPTY"
SELECTCASE LOCAL / 10
	CASE 1800
		CALL DUNGEON_WORP, 17, 22, 8
	CASE 1801
		CALL DUNGEON_WORP, 17, 22, 6
	CASE 1802
		CALL DUNGEON_WORP, 17, 20 ,13


ENDSELECT
CALL MAKE_FLOOR, FLAG:현던전
CALL AUTOMAP


;=======================================================================
;SJ用ターミナル
;=======================================================================
@SJ_TERMINAL_65
CUSTOMDRAWLINE =
PRINTL ＞터미널이 있다。
CALLFORM GET_FLOORNAME_{FLAG:현던전}
PRINTFORMW 목소리：여기는 %RESULTS% 터미널 입니다
PRINTFORML 부디 용건을
PRINTL [1] 세이브
PRINTL [2] 인스톨소프트 변경
SIF FLAG:현M != 0
	PRINTL [3] 조사선으로 돌아간다
DRAWLINE
PRINTL [0] 아무것도안한다

CALL INPUTINT,0,1,2,3

SELECTCASE RESULT
	CASE 0
		RETURN 1
	CASE 1
		CALL TITLE_SAVEGAME
	CASE 2
		CALL SETUP_SOFT
	CASE 3 
		PRINTW 목소리：전송을 개시합니다
		PRINTFORMW ＞%CALLNAME:MASTER% 일행은 조사선으로 귀환했다
		CALL DUNGEON_WORP,0,29,4
		RETURN 1
ENDSELECT

RESTART


;=======================================================================
;エレベーター定義
;=======================================================================
@SJ_ELEVATOR_65
#LOCALSIZE 10
LOCAL = DA:(FLAG:현X):(FLAG:현Y) / 10
LOCALS = 
CALL MESSAGE_WINDOW_D, "", "엘리베이터가 있다/＞이동하고 싶은 층의 버튼을 눌러주세요/"
LOCALS += "[0] 내린다/"
SELECTCASE LOCAL
	
	;------------------------------
	;カリーナ
	;------------------------------
	CASE 1300, 1600
		SIF LOCAL != 1300
			LOCALS += "[1] １Ｆ/"
		SIF LOCAL != 1600
			LOCALS += "[2] ４Ｆ/"
		CALL INPUT_SELECT_D, LOCALS
		IF RESULT == 0
			RETURN 0
		ELSEIF RESULT == 1
			CALL DUNGEON_WORP,13,20,1
		ELSEIF RESULT == 2
			CALL DUNGEON_WORP,16,20,1
		ENDIF
	;------------------------------
	;デルファイナス
	;------------------------------
	CASE 1700
		SIF LOCAL != 1700
			LOCALS += "[1] １Ｆ/"
		SIF LOCAL != 2500
			LOCALS += "[2] ８Ｆ/"
		CALL INPUT_SELECT_D, LOCALS
		IF RESULT == 0
			RETURN 0
		ELSEIF RESULT == 1
			CALL DUNGEON_WORP,17,18,12
		ELSEIF RESULT == 2
			CALL DUNGEON_WORP,25,18,12
		ENDIF
ENDSELECT


;=======================================================================
;管制ポイント
;=======================================================================
@ANOTHER_DIMENTION_65

IF STRFLAG_NUM_D("슈바르츠바스진행도") == 3
	CALL MESSAGE_WINDOW_D, "", "데모니카 어플리케이션이 반응을 한다…/아무래도、여기서 숨겨진 공간으로 이동하는 것이 가능한 모양이다…"
	CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
;	ELSEIF STRFLAG_NUM_D("슈바르츠바스진행도") > 10
;		CALL MESSAGE_WINDOW_D, "", "데모니카 어플리케이션이 반응을 한다…/아무래도、여기서 다른 공간으로 이동하는 것이 가능한 모양이다…"
;		CALLF STRFLAG_NUM_D("슈바르츠바스진행도", "+=", , 1)
ELSEIF STRFLAG_NUM_D("슈바르츠바스진행도") < 3
	CALL MESSAGE_WINDOW_D, "", "＞알수없는 장치가 있다…。/스위치같은 것은 보이지 않고、데모니카 어플리케이션도 아무런 반응이 없다…"
ENDIF

IF STRFLAG_NUM_D("슈바르츠바스진행도") >= 4
	SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
		
		;------------------------------
		;カリーナ
		;------------------------------
		CASE 1400, 1401, 1500
			LOCAL = STRFLAG_NUM_D("카리나숨겨진장소")
			LOCALS = 
			CALL MESSAGE_WINDOW_D, "", "＞어느 공간으로 이동합니까？"
			SIF LOCAL != 0
				LOCALS += "[0] 통상공간/"
			SIF LOCAL != 1
				LOCALS += "[1] 숨겨진 장소Ａ/"
			SIF LOCAL != 2 && STRFLAG_D("숨겨진 장소Ｂ탐색가능")
				LOCALS += "[2] 숨겨진 장소Ｂ"
			LOCALS += "[9] 이동하지 않는다"
			CALL INPUT_SELECT_D, LOCALS
			IF RESULT == 0
				CALLF STRFLAG_NUM_D("카리나숨겨진장소", "=", , 0)
				CALL MESSAGE_WINDOW_D, "", "통상공간으로 이동합니다…"
				CALL MAKE_FLOOR, FLAG:현던전
				CALL AUTOMAP
			ELSEIF RESULT == 1
				CALLF STRFLAG_NUM_D("카리나숨겨진장소", "=", , 1)
				CALL MESSAGE_WINDOW_D, "", "숨겨진 장소 Ａ로 이동합니다…"
				CALL MAKE_FLOOR, FLAG:현던전
				CALL AUTOMAP
			ELSEIF RESULT == 2
				CALLF STRFLAG_NUM_D("카리나숨겨진장소", "=", , 2)
				CALL MESSAGE_WINDOW_D, "", "숨겨진 장소 B로 이동합니다…"
				CALL MAKE_FLOOR, FLAG:현던전
				CALL AUTOMAP
			ELSEIF RESULT == 9
				CALL MESSAGE_WINDOW_D, "", @"%마스터는% 이동하지 않기로 했다"
			ENDIF

	ENDSELECT
ENDIF


;=======================================================================
;移動床
;=======================================================================
@MOVEUP_65
	FLAG:현Y -= 1
	CALL SHOW_FLOOR
	CALL AUTOMAP
	TWAIT 100,1
	CALLFORM EVENT_ENTER_DUNGEON_{FLAG:현던전},0

@MOVELEFT_65
	FLAG:현X -= 1
	CALL SHOW_FLOOR
	CALL AUTOMAP
	TWAIT 100,1
	CALLFORM EVENT_ENTER_DUNGEON_{FLAG:현던전},0

@MOVEDOWN_65
	FLAG:현Y += 1
	CALL SHOW_FLOOR
	CALL AUTOMAP
	TWAIT 100,1
	CALLFORM EVENT_ENTER_DUNGEON_{FLAG:현던전},0

@MOVERIGHT_65
	FLAG:현X += 1
	CALL SHOW_FLOOR
	CALL AUTOMAP
	TWAIT 100,1
	CALLFORM EVENT_ENTER_DUNGEON_{FLAG:현던전},0

