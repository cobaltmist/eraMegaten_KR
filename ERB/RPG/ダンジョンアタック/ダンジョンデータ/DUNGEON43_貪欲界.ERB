
;=======================================================================
;탐욕계
;ボス・요수체페이
;던전ナンバー43　ＭＡＰ0~2
;=======================================================================




;=======================================================================
;攻略조건
;=======================================================================
@PREREQUISITE_DUNGEON_43
;特になし
IF 이벤트플래그:2:0 == 1 && BASE:MASTER:LV > 30
	RETURN 1
ELSE
	RETURN 0
ENDIF



;=======================================================================
;던전名
;=======================================================================
@GET_DUNGEON_NAME_43
RESULTS = 탐욕계


;=======================================================================
;플로어名표시
;=======================================================================
@FLOORNAME_43
PRINT 탐욕계
SELECTCASE FLAG:현M
	CASE 0
		PRINTL ３Ｆ북서
	CASE 1
		PRINTL ３Ｆ남서
	CASE 2
		PRINTL ３Ｆ북동
	CASE 3
		PRINTL ３Ｆ남동

	CASE 4
		PRINTL ２Ｆ북서
	CASE 5
		PRINTL ２Ｆ남서
	CASE 6
		PRINTL ２Ｆ북동
	CASE 7
		PRINTL ２Ｆ남동
		
	CASE 8
		PRINTL １Ｆ북서
	CASE 9
		PRINTL １Ｆ남서
	CASE 10
		PRINTL １Ｆ북동
	CASE 11
		PRINTL １Ｆ남동
		
	CASE 12
		PRINTL 지하１Ｆ

	CASE 13
		PRINTL １Ｆ중앙
	CASE 14
		PRINTL ２Ｆ중앙
	CASE 15
		PRINTL ３Ｆ중앙
	CASE 16
		PRINTL ４Ｆ

	CASEELSE
		PRINTL
ENDSELECT


;=======================================================================
;特殊タイル표시
;=======================================================================
@TILE_MARK_43_0_19_1
RESULTS = →
@TILE_MARK_43_0_1_14
RESULTS = ↓

@TILE_MARK_43_1_1_0
RESULTS = ↑
@TILE_MARK_43_1_19_13
RESULTS = →
@TILE_MARK_43_1_1_13
RESULTS = Ｗ
@TILE_MARK_43_1_3_8
RESULTS = Ｗ
@TILE_MARK_43_1_8_6
RESULTS = Ｗ
@TILE_MARK_43_1_7_11
RESULTS = Ｗ
@TILE_MARK_43_1_5_13
RESULTS = Ｗ

@TILE_MARK_43_2_0_1
RESULTS = ←
@TILE_MARK_43_2_18_14
RESULTS = ↓

@TILE_MARK_43_3_18_0
RESULTS = ↑
@TILE_MARK_43_3_0_13
RESULTS = ←
@TILE_MARK_43_3_15_7
RESULTS = 落
@TILE_MARK_43_3_18_11
RESULTS = 落

@TILE_MARK_43_4_19_1
RESULTS = →
@TILE_MARK_43_4_1_14
RESULTS = ↓
@TILE_MARK_43_4_3_14
RESULTS = ↓

@TILE_MARK_43_5_1_0
RESULTS = ↑
@TILE_MARK_43_5_3_0
RESULTS = ↑
@TILE_MARK_43_5_19_11
RESULTS = →
@TILE_MARK_43_5_19_13
RESULTS = →
@TILE_MARK_43_5_1_7
RESULTS = Ｗ
@TILE_MARK_43_5_6_13
RESULTS = Ｗ

@TILE_MARK_43_6_0_1
RESULTS = ←
@TILE_MARK_43_6_18_14
RESULTS = ↓
@TILE_MARK_43_6_14_3
RESULTS = 落

@TILE_MARK_43_7_18_0
RESULTS = ↑
@TILE_MARK_43_7_0_11
RESULTS = ←
@TILE_MARK_43_7_0_13
RESULTS = ←

@TILE_MARK_43_8_19_1
RESULTS = →
@TILE_MARK_43_8_19_5
RESULTS = →

@TILE_MARK_43_8_1_14
RESULTS = ↓
@TILE_MARK_43_8_3_14
RESULTS = ↓
@TILE_MARK_43_8_5_14
RESULTS = ↓
@TILE_MARK_43_8_9_1
RESULTS = Ｗ
@TILE_MARK_43_8_1_3
RESULTS = Ｗ
@TILE_MARK_43_8_7_5
RESULTS = Ｗ

@TILE_MARK_43_9_1_0
RESULTS = ↑
@TILE_MARK_43_9_3_0
RESULTS = ↑
@TILE_MARK_43_9_5_0
RESULTS = ↑
@TILE_MARK_43_9_19_13
RESULTS = →
@TILE_MARK_43_9_3_3
RESULTS = Ｔ

@TILE_MARK_43_10_0_1
RESULTS = ←
@TILE_MARK_43_10_0_5
RESULTS = ←
@TILE_MARK_43_10_14_14
RESULTS = ↓

@TILE_MARK_43_11_14_0
RESULTS = ↑
@TILE_MARK_43_11_0_13
RESULTS = ←

;=======================================================================
;스타ト地点입력
;=======================================================================
@START_DUNGEON_43,ARG
FLAG:현M = 2
FLAG:현X = 18
FLAG:현Y = 1
;CALL AUTOMAP

;=======================================================================
;스타ト時이벤트
;=======================================================================
@EVENT_DUNGEON_START_43
IF FLAG:DEBUG
	PRINTFORMW 「어서 오세요, 나의 곧휴랜드에」
	PRINTFORMW %마스터가% 그 마계에 발을 내딛자 마신황 하자마의 환영이 말을 건네 왔다。
	PRINTFORMW 길을 서두르는 %조사처리(CALLNAME:MASTER,"는")% 무시하기로 했다た。
	PRINTFORMW 「큭…나를 무시하지맛！！」
	PRINTFORMW 「기, 기다려 줫…」
	PRINTFORMW 불쌍하니까 %조사처리(CALLNAME:MASTER,"는")% 5분만 이야기를 들어주기로 했다。
	PRINTFORMW 이 마계는 마신황 하자마의 부름에 응한, 마계 중의 하나。
	PRINTFORMW 탐욕계라고 하는 것 같다。
	PRINTFORMW 이 마계의 주인은 나이 30세를 넘은 마법사지만, 은톨이 고교생 하자마도 먹어 버리는 것 같다。
	PRINTFORMW 자지를 찰지게 해 달라는 욕망 만을 채우기 위해서 악마를 소환했다는 말에…
	PRINTFORMW 마신황도 어차피 고교생인가 라고 %조사처리(CALLNAME:MASTER,"는")% 기막혀하면서도 생각했다。
ELSEIF 던전플래그:7:1 == 1
	PRINTFORMW 마신황 하자마가 창조한 기념물 중의 하나、탐욕계。
	PRINTFORMW 이 마계에서는 사람의 업을 추궁한다고 한다…
ELSE
	PRINTFORMW 마신황 하자마가 창조한 마계 중의 하나、탐욕계。
	PRINTFORMW 이 마계에서는 사람의 업을 추궁한다고 한다…
ENDIF
;=======================================================================
;指定したマスに進入가능か
;=======================================================================
@CAN_ENTER_43,ARG,ARG:1
SIF FLAG:현M == 2 && ARG == 10 && ARG:1 == 1
	던전플래그:43:50 = 1
SIF FLAG:현M == 2 && ARG == 12 && ARG:1 == 1
	던전플래그:43:50 = 0
SIF FLAG:현M == 2 && ARG == 16 && ARG:1 == 5
	던전플래그:43:50 = 0
SIF FLAG:현M == 2 && ARG == 16 && ARG:1 == 6
	던전플래그:43:50 = 0
SIF FLAG:현M == 2 && ARG == 16 && ARG:1 == 8
	던전플래그:43:50 = 0
IF FLAG:현M == 0 && ARG == 11 && ARG:1 == 1
	IF 던전플래그:43:50 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:50 == 1
		던전플래그:43:50 = 0
		RETURN 1
	ENDIF
ENDIF
IF FLAG:현M == 2 && ARG == 11 && ARG:1 == 1
	IF 던전플래그:43:50 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 2
		RETURN 0
	ELSEIF 던전플래그:43:50 == 1
		던전플래그:43:50 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 2 && ARG == 16 && ARG:1 == 6 && 던전플래그:43:51 == 0
	던전플래그:43:51 = 1
ENDIF
IF FLAG:현M == 2 && ARG == 16 && ARG:1 == 8 && 던전플래그:43:51 == 1
	던전플래그:43:51 = 0
ENDIF
IF FLAG:현M == 2 && ARG == 16 && ARG:1 == 7
	IF 던전플래그:43:51 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 3
		RETURN 0
	ELSEIF 던전플래그:43:51 == 1
		던전플래그:43:51 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 2 && ARG == 18 && ARG:1 == 10 && 던전플래그:43:52 == 0
	던전플래그:43:52 = 1
ENDIF
IF FLAG:현M == 3 && ARG == 18 && ARG:1 == 3 && 던전플래그:43:52 == 0
	던전플래그:43:52 = 1
ENDIF
IF FLAG:현M == 2 && ARG == 18 && ARG:1 == 9
	IF 던전플래그:43:52 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 4
		RETURN 0
	ELSEIF 던전플래그:43:52 == 1
		던전플래그:43:52 = 0
		RETURN 1
	ENDIF
ENDIF
IF FLAG:현M == 3 && ARG == 18 && ARG:1 == 4
	IF 던전플래그:43:52 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 5
		RETURN 0
	ELSEIF 던전플래그:43:52 == 1
		던전플래그:43:52 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 4 && ARG == 8 && ARG:1 == 1 && 던전플래그:43:53 == 0
	던전플래그:43:53 = 1
ENDIF
IF FLAG:현M == 4 && ARG == 8 && ARG:1 == 2
	IF 던전플래그:43:53 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:53 == 1
		던전플래그:43:53 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 5 && ARG == 3 && ARG:1 == 3 && 던전플래그:43:54 == 0
	던전플래그:43:54 = 1
ENDIF
IF FLAG:현M == 5 && ARG == 3 && ARG:1 == 2 && 던전플래그:43:54 == 1
	던전플래그:43:54 = 0
ENDIF
IF FLAG:현M == 5 && ARG == 3 && ARG:1 == 4 && 던전플래그:43:54 == 1
	던전플래그:43:54 = 0
ENDIF
IF FLAG:현M == 5 && ARG == 2 && ARG:1 == 3
	IF 던전플래그:43:54 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:54 == 1
		던전플래그:43:54 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 5 && ARG == 14 && ARG:1 == 11 && 던전플래그:43:58 == 0
	던전플래그:43:58 = 1
ENDIF
IF FLAG:현M == 5 && ARG == 15 && ARG:1 == 11 && 던전플래그:43:58 == 1
	던전플래그:43:58 = 0
ENDIF
IF FLAG:현M == 5 && ARG == 13 && ARG:1 == 11 && 던전플래그:43:58 == 1
	던전플래그:43:58 = 0
ENDIF
IF FLAG:현M == 5 && ARG == 14 && ARG:1 == 12
	IF 던전플래그:43:58 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:58 == 1
		던전플래그:43:58 = 0
		RETURN 1
	ENDIF
ENDIF



IF FLAG:현M == 6 && ARG == 14 && ARG:1 == 1 && 던전플래그:43:55 == 0
	던전플래그:43:55 = 1
ENDIF
IF FLAG:현M == 6 && ARG == 14 && ARG:1 == 2 && 던전플래그:43:55 == 1
	던전플래그:43:55 = 0
ENDIF
IF FLAG:현M == 6 && ARG == 14 && ARG:1 == 7 && 던전플래그:43:55 == 1
	던전플래그:43:55 = 0
ENDIF
IF FLAG:현M == 6 && ARG == 13 && ARG:1 == 1
	IF 던전플래그:43:55 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:55 == 1
		던전플래그:43:55 = 0
		던전플래그:43:56 = 1
		RETURN 1
	ENDIF
ENDIF
IF FLAG:현M == 6 && ARG == 15 && ARG:1 == 1
	IF 던전플래그:43:55 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 2
		RETURN 0
	ELSEIF 던전플래그:43:55 == 1
		던전플래그:43:55 = 0
		던전플래그:43:56 = 1
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 6 && ARG == 12 && ARG:1 == 1 && 던전플래그:43:56 == 0
	던전플래그:43:56 = 1
ENDIF
IF FLAG:현M == 6 && ARG == 16 && ARG:1 == 1 && 던전플래그:43:56 == 0
	던전플래그:43:56 = 1
ENDIF
IF FLAG:현M == 6 && ARG == 12 && ARG:1 == 2 && 던전플래그:43:56 == 1
	던전플래그:43:56 = 0
ENDIF
IF FLAG:현M == 6 && ARG == 16 && ARG:1 == 2 && 던전플래그:43:56 == 1
	던전플래그:43:56 = 0
ENDIF
IF FLAG:현M == 6 && ARG == 11 && ARG:1 == 1
	IF 던전플래그:43:56 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:56 == 1
		던전플래그:43:56 = 0
		RETURN 1
	ENDIF
ENDIF
IF FLAG:현M == 6 && ARG == 17 && ARG:1 == 1
	IF 던전플래그:43:56 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 2
		RETURN 0
	ELSEIF 던전플래그:43:56 == 1
		던전플래그:43:56 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 7 && ARG == 16 && ARG:1 == 5 && 던전플래그:43:57 == 0
	던전플래그:43:57 = 1
ENDIF
IF FLAG:현M == 7 && ARG == 16 && ARG:1 == 4 && 던전플래그:43:57 == 1
	던전플래그:43:57 = 0
ENDIF
IF FLAG:현M == 7 && ARG == 17 && ARG:1 == 5
	IF 던전플래그:43:57 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:57 == 1
		던전플래그:43:57 = 0
		RETURN 1
	ENDIF
ENDIF

IF FLAG:현M == 8 && ARG == 3 && ARG:1 == 7 && 던전플래그:43:59 == 0
	던전플래그:43:59 = 1
ENDIF
IF FLAG:현M == 8 && ARG == 4 && ARG:1 == 7 && 던전플래그:43:59 == 1
	던전플래그:43:59 = 0
ENDIF
IF FLAG:현M == 8 && ARG == 4 && ARG:1 == 8 && 던전플래그:43:59 == 1
	던전플래그:43:59 = 0
ENDIF
IF FLAG:현M == 8 && ARG == 3 && ARG:1 == 6
	IF 던전플래그:43:59 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:59 == 1
		던전플래그:43:59 = 0
		RETURN 1
	ENDIF
ENDIF

IF FLAG:현M == 8 && ARG == 16 && ARG:1 == 1 && 던전플래그:43:60 == 0
	던전플래그:43:60 = 1
ENDIF
IF FLAG:현M == 8 && ARG == 15 && ARG:1 == 1 && 던전플래그:43:60 == 1
	던전플래그:43:60 = 0
ENDIF
IF FLAG:현M == 8 && ARG == 17 && ARG:1 == 1
	IF 던전플래그:43:60 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:60 == 1
		던전플래그:43:60 = 0
		RETURN 1
	ENDIF
ENDIF

IF FLAG:현M == 9 && ARG == 17 && ARG:1 == 13 && 던전플래그:43:61 == 0
	던전플래그:43:61 = 1
ENDIF
IF FLAG:현M == 9 && ARG == 16 && ARG:1 == 13 && 던전플래그:43:61 == 1
	던전플래그:43:61 = 0
ENDIF
IF FLAG:현M == 9 && ARG == 18 && ARG:1 == 13
	IF 던전플래그:43:61 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:61 == 1
		던전플래그:43:61 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 13 && ARG == 6 && ARG:1 == 7 && 던전플래그:43:62 == 0
	던전플래그:43:62 = 1
ENDIF
IF FLAG:현M == 13 && ARG == 5 && ARG:1 == 7 && 던전플래그:43:62 == 1
	던전플래그:43:62 = 0
ENDIF
IF FLAG:현M == 13 && ARG == 6 && ARG:1 == 8 && 던전플래그:43:62 == 1
	던전플래그:43:62 = 0
ENDIF
IF FLAG:현M == 13 && ARG == 6 && ARG:1 == 6
	IF 던전플래그:43:62 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:62 == 1
		던전플래그:43:62 = 0
		RETURN 1
	ENDIF
ENDIF

IF FLAG:현M == 14 && ARG == 14 && ARG:1 == 10 && 던전플래그:43:63 == 0
	던전플래그:43:63 = 1
ENDIF
IF FLAG:현M == 14 && ARG == 14 && ARG:1 == 8 && 던전플래그:43:63 == 1
	던전플래그:43:63 = 0
ENDIF
IF FLAG:현M == 14 && ARG == 14 && ARG:1 == 9
	IF 던전플래그:43:63 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:63 == 1
		던전플래그:43:63 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 14 && ARG == 3 && ARG:1 == 5 && 던전플래그:43:64 == 0
	던전플래그:43:64 = 1
ENDIF
IF FLAG:현M == 14 && ARG == 3 && ARG:1 == 6 && 던전플래그:43:64 == 1
	던전플래그:43:64 = 0
ENDIF
IF FLAG:현M == 14 && ARG == 2 && ARG:1 == 5
	IF 던전플래그:43:64 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:64 == 1
		던전플래그:43:64 = 0
		RETURN 1
	ENDIF
ENDIF

IF FLAG:현M == 14 && ARG == 1 && ARG:1 == 7 && 던전플래그:43:65 == 0
	던전플래그:43:65 = 1
ENDIF
IF FLAG:현M == 14 && ARG == 1 && ARG:1 == 6 && 던전플래그:43:65 == 1
	던전플래그:43:65 = 0
ENDIF
IF FLAG:현M == 14 && ARG == 2 && ARG:1 == 7
	IF 던전플래그:43:65 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:65 == 1
		던전플래그:43:65 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:현M == 14 && ARG == 6 && ARG:1 == 8 && 던전플래그:43:66 == 0
	던전플래그:43:66 = 1
ENDIF
IF FLAG:현M == 14 && ARG == 6 && ARG:1 == 9 && 던전플래그:43:66 == 1
	던전플래그:43:66 = 0
ENDIF
IF FLAG:현M == 14 && ARG == 5 && ARG:1 == 8
	IF 던전플래그:43:66 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:66 == 1
		던전플래그:43:66 = 0
		RETURN 1
	ENDIF
ENDIF

IF FLAG:현M == 14 && ARG == 4 && ARG:1 == 10 && 던전플래그:43:67 == 0
	던전플래그:43:67 = 1
ENDIF
IF FLAG:현M == 14 && ARG == 4 && ARG:1 == 9 && 던전플래그:43:67 == 1
	던전플래그:43:67 = 0
ENDIF
IF FLAG:현M == 14 && ARG == 5 && ARG:1 == 10
	IF 던전플래그:43:67 == 0
		PRINTW 문은 닫혀 있다
		CLEARLINE 1
		RETURN 0
	ELSEIF 던전플래그:43:67 == 1
		던전플래그:43:67 = 0
		RETURN 1
	ENDIF
ENDIF

CALL CAN_ENTER,ARG,ARG:1
RETURN RESULT

;=======================================================================
;플로어데이터
;=======================================================================
@MAKE_FLOOR_43
SELECTCASE FLAG:현M
	CASE 0
		;PRINTL ３Ｆ북서
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
							    ;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1," 1 11121111211111119"
		CALL MAKE_FLOOR_LINE, 2," 2 2 1 1            "
		CALL MAKE_FLOOR_LINE, 3," 111 2 1            "
		CALL MAKE_FLOOR_LINE, 4," 2 1 7 1            "
		CALL MAKE_FLOOR_LINE, 5," 1 1   1            "
		CALL MAKE_FLOOR_LINE, 6," 1 11111            "
		CALL MAKE_FLOOR_LINE, 7," 1                  "
		CALL MAKE_FLOOR_LINE, 8," 2                  "
		CALL MAKE_FLOOR_LINE, 9," 1                  "
		CALL MAKE_FLOOR_LINE,10," 1                  "
		CALL MAKE_FLOOR_LINE,11," 1                  "
		CALL MAKE_FLOOR_LINE,12," 1                  "
		CALL MAKE_FLOOR_LINE,13," 1                  "
		CALL MAKE_FLOOR_LINE,14," 9                  "

	CASE 1
		;PRINTL ３Ｆ남서
		FLAG:최대X = 20 
		FLAG:최대Y = 15
							    ;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0," 9                  "
		CALL MAKE_FLOOR_LINE, 1," 1                  "
		CALL MAKE_FLOOR_LINE, 2," 1                  "
		CALL MAKE_FLOOR_LINE, 3," 1                  "
		CALL MAKE_FLOOR_LINE, 4," 1                  "
		CALL MAKE_FLOOR_LINE, 5," 1                  "
		CALL MAKE_FLOOR_LINE, 6," 2   1219           "
		CALL MAKE_FLOOR_LINE, 7," 1     2            "
		CALL MAKE_FLOOR_LINE, 8," 129   1            "
		CALL MAKE_FLOOR_LINE, 9," 1   7              "
		CALL MAKE_FLOOR_LINE,10," 2 1 2              "
		CALL MAKE_FLOOR_LINE,11," 11111 9            "
		CALL MAKE_FLOOR_LINE,12," 2 1   2            "
		CALL MAKE_FLOOR_LINE,13," 9 1 921211111111129"
		CALL MAKE_FLOOR_LINE,14,"                    "

		CALL SET_TILE,5,6,던전플래그:43:19,0,3
		CALL SET_TILE,7,8,던전플래그:43:20,0,3


	CASE 2
		;PRINTL ３Ｆ북동
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1,"9111111111121 121 8 "
		CALL MAKE_FLOOR_LINE, 2,"            2 1 1 2 "
		CALL MAKE_FLOOR_LINE, 3,"            121 1 1 "
		CALL MAKE_FLOOR_LINE, 4,"            1 2 1 2 "
		CALL MAKE_FLOOR_LINE, 5,"            1 7 1 1 "
		CALL MAKE_FLOOR_LINE, 6,"            1   1 1 "
		CALL MAKE_FLOOR_LINE, 7,"            1   2 1 "
		CALL MAKE_FLOOR_LINE, 8,"            1111121 "
		CALL MAKE_FLOOR_LINE, 9,"                  2 "
		CALL MAKE_FLOOR_LINE,10,"                  1 "
		CALL MAKE_FLOOR_LINE,11,"                  1 "
		CALL MAKE_FLOOR_LINE,12,"                  1 "
		CALL MAKE_FLOOR_LINE,13,"                  1 "
		CALL MAKE_FLOOR_LINE,14,"                  9 "

	CASE 3
		;PRINTL ３Ｆ남동
		FLAG:최대X = 20
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                  9 "
		CALL MAKE_FLOOR_LINE, 1,"                  1 "
		CALL MAKE_FLOOR_LINE, 2,"                  1 "
		CALL MAKE_FLOOR_LINE, 3,"                  1 "
		CALL MAKE_FLOOR_LINE, 4,"                  2 "
		CALL MAKE_FLOOR_LINE, 5,"                  1 "
		CALL MAKE_FLOOR_LINE, 6,"                  1 "
		CALL MAKE_FLOOR_LINE, 7,"           1129  11 "
		CALL MAKE_FLOOR_LINE, 8,"           1     1  "
		CALL MAKE_FLOOR_LINE, 9,"           1  7 11  "
		CALL MAKE_FLOOR_LINE,10,"           1  2 1   "
		CALL MAKE_FLOOR_LINE,11,"           1 111129 "
		CALL MAKE_FLOOR_LINE,12,"              2     "
		CALL MAKE_FLOOR_LINE,13,"9111111111121111111 "
		CALL MAKE_FLOOR_LINE,14,"                    "

	CASE 4
		;PRINTL ２Ｆ북서
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1,"  1 111 11111111 129"
		CALL MAKE_FLOOR_LINE, 2,"  2 1   2      1 1  "
		CALL MAKE_FLOOR_LINE, 3,"  111211121127 121  "
		CALL MAKE_FLOOR_LINE, 4,"  1     1           "
		CALL MAKE_FLOOR_LINE, 5,"        1           "
		CALL MAKE_FLOOR_LINE, 6,"    1 6 1           "
		CALL MAKE_FLOOR_LINE, 7,"    1 2 1           "
		CALL MAKE_FLOOR_LINE, 8," 11211111           "
		CALL MAKE_FLOOR_LINE, 9," 1                  "
		CALL MAKE_FLOOR_LINE,10," 1 7                "
		CALL MAKE_FLOOR_LINE,11," 1 1                "
		CALL MAKE_FLOOR_LINE,12," 1 2                "
		CALL MAKE_FLOOR_LINE,13," 1 1                "
		CALL MAKE_FLOOR_LINE,14," 9 9                "

	CASE 5
		;PRINTL ２Ｆ남서
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0," 9 9                "
		CALL MAKE_FLOOR_LINE, 1," 1 1                "
		CALL MAKE_FLOOR_LINE, 2," 1 2                "
		CALL MAKE_FLOOR_LINE, 3," 121                "
		CALL MAKE_FLOOR_LINE, 4," 1 1                "
		CALL MAKE_FLOOR_LINE, 5," 1 1                "
		CALL MAKE_FLOOR_LINE, 6," 2 2                "
		CALL MAKE_FLOOR_LINE, 7," 9 11111            "
		CALL MAKE_FLOOR_LINE, 8,"   1 2 1            "
		CALL MAKE_FLOOR_LINE, 9," 7 1 6 1            "
		CALL MAKE_FLOOR_LINE,10," 2 2   1            "
		CALL MAKE_FLOOR_LINE,11," 1112111211111121129"
		CALL MAKE_FLOOR_LINE,12," 11           2     "
		CALL MAKE_FLOOR_LINE,13," 1127 92111111111119"
		CALL MAKE_FLOOR_LINE,14,"                    "

	CASE 6
		;PRINTL ２Ｆ북동
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1,"9 12111111121212121 "
		CALL MAKE_FLOOR_LINE, 2,"121         1 2 1 1 "
		CALL MAKE_FLOOR_LINE, 3,"            1 9 1 1 "
		CALL MAKE_FLOOR_LINE, 4,"            1   1 1 "
		CALL MAKE_FLOOR_LINE, 5,"            1 6 1 1 "
		CALL MAKE_FLOOR_LINE, 6,"            1 2 1 1 "
		CALL MAKE_FLOOR_LINE, 7,"            12121 1 "
		CALL MAKE_FLOOR_LINE, 8,"                  1 "
		CALL MAKE_FLOOR_LINE, 9,"                111 "
		CALL MAKE_FLOOR_LINE,10,"                2   "
		CALL MAKE_FLOOR_LINE,11,"                1 7 "
		CALL MAKE_FLOOR_LINE,12,"                1 2 "
		CALL MAKE_FLOOR_LINE,13,"                121 "
		CALL MAKE_FLOOR_LINE,14,"                  9 "

	CASE 7
		;PRINTL ２Ｆ남동
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                  9 "
		CALL MAKE_FLOOR_LINE, 1,"                7 2 "
		CALL MAKE_FLOOR_LINE, 2,"                2 1 "
		CALL MAKE_FLOOR_LINE, 3,"                1 1 "
		CALL MAKE_FLOOR_LINE, 4,"                1 1 "
		CALL MAKE_FLOOR_LINE, 5,"                121 "
		CALL MAKE_FLOOR_LINE, 6,"                1 1 "
		CALL MAKE_FLOOR_LINE, 7,"           1111 1 1 "
		CALL MAKE_FLOOR_LINE, 8,"           1  2 1 1 "
		CALL MAKE_FLOOR_LINE, 9,"           1  6   1 "
		CALL MAKE_FLOOR_LINE,10,"           1    121 "
		CALL MAKE_FLOOR_LINE,11,"91111127   111111   "
		CALL MAKE_FLOOR_LINE,12,"                  1 "
		CALL MAKE_FLOOR_LINE,13,"9111111111111111111 "
		CALL MAKE_FLOOR_LINE,14,"                    "
		
	CASE 8
		;PRINTL １Ｆ북서
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1," 111211  921 1211219"
		CALL MAKE_FLOOR_LINE, 2," 2   1     1 2      "
		CALL MAKE_FLOOR_LINE, 3," 9 11111 11111      "
		CALL MAKE_FLOOR_LINE, 4,"     1     1        "
		CALL MAKE_FLOOR_LINE, 5," 12121 9212121111129"
		CALL MAKE_FLOOR_LINE, 6," 1 2                "
		CALL MAKE_FLOOR_LINE, 7," 1 11121            "
		CALL MAKE_FLOOR_LINE, 8," 1 2 1              "
		CALL MAKE_FLOOR_LINE, 9," 2 6 1              "
		CALL MAKE_FLOOR_LINE,10," 1   1              "
		CALL MAKE_FLOOR_LINE,11," 111 1              "
		CALL MAKE_FLOOR_LINE,12,"   1 1              "
		CALL MAKE_FLOOR_LINE,13," 1 1 1              "
		CALL MAKE_FLOOR_LINE,14," 9 9 9              "

		CALL SET_TILE,1,13,던전플래그:43:22,0,3

	CASE 9
		;PRINTL １Ｆ남서
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0," 9 9 9              "
		CALL MAKE_FLOOR_LINE, 1," 11121              "
		CALL MAKE_FLOOR_LINE, 2," 2   1              "
		CALL MAKE_FLOOR_LINE, 3," 1 921              "
		CALL MAKE_FLOOR_LINE, 4,"                    "
		CALL MAKE_FLOOR_LINE, 5," 11111              "
		CALL MAKE_FLOOR_LINE, 6," 2 2 1              "
		CALL MAKE_FLOOR_LINE, 7," 1 1 1 121      121 "
		CALL MAKE_FLOOR_LINE, 8," 2   1   1      1 2 "
		CALL MAKE_FLOOR_LINE, 9," 6   11111 121  1 7 "
		CALL MAKE_FLOOR_LINE,10,"     2     1    2   "
		CALL MAKE_FLOOR_LINE,11," 1211111111121121   "
		CALL MAKE_FLOOR_LINE,12," 2              2   "
		CALL MAKE_FLOOR_LINE,13," 121 621111111111129"
		CALL MAKE_FLOOR_LINE,14,"                    "

		CALL SET_TILE,13,9,던전플래그:43:23,0,3

	CASE 10
		;PRINTL １Ｆ북동
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1,"9112111111111 12121 "
		CALL MAKE_FLOOR_LINE, 2,"    1 2     2     1 "
		CALL MAKE_FLOOR_LINE, 3,"  621 1 121 11111 1 "
		CALL MAKE_FLOOR_LINE, 4,"          1     2 2 "
		CALL MAKE_FLOOR_LINE, 5,"911111211112111 1 6 "
		CALL MAKE_FLOOR_LINE, 6,"              1 1   "
		CALL MAKE_FLOOR_LINE, 7,"            121 111 "
		CALL MAKE_FLOOR_LINE, 8,"              1   1 "
		CALL MAKE_FLOOR_LINE, 9,"              111 1 "
		CALL MAKE_FLOOR_LINE,10,"              2 2 1 "
		CALL MAKE_FLOOR_LINE,11,"              1 6 1 "
		CALL MAKE_FLOOR_LINE,12,"                  1 "
		CALL MAKE_FLOOR_LINE,13,"              11121 "
		CALL MAKE_FLOOR_LINE,14,"              9     "

		CALL SET_TILE,8,3,던전플래그:43:21,0,3

	CASE 11
		;PRINTL １Ｆ남동
		FLAG:최대X = 20 
		FLAG:최대Y = 15 
								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"              9     "
		CALL MAKE_FLOOR_LINE, 1,"              12111 "
		CALL MAKE_FLOOR_LINE, 2,"                  1 "
		CALL MAKE_FLOOR_LINE, 3,"              11121 "
		CALL MAKE_FLOOR_LINE, 4,"              2 2 1 "
		CALL MAKE_FLOOR_LINE, 5,"              1 1 1 "
		CALL MAKE_FLOOR_LINE, 6,"             11 2   "
		CALL MAKE_FLOOR_LINE, 7,"         12111  111 "
		CALL MAKE_FLOOR_LINE, 8,"       111        2 "
		CALL MAKE_FLOOR_LINE, 9,"  1  121      11111 "
		CALL MAKE_FLOOR_LINE,10,"  2           1     "
		CALL MAKE_FLOOR_LINE,11,"  121  62111  2 1 1 "
		CALL MAKE_FLOOR_LINE,12,"  1 1      2  1 2 2 "
		CALL MAKE_FLOOR_LINE,13,"911 111111211212111 "
		CALL MAKE_FLOOR_LINE,14,"                    "

		CALL SET_TILE,5,9,던전플래그:43:25,0,3
		CALL SET_TILE,18,11,던전플래그:43:24,0,3
		
	CASE 12
		;PRINTL 지하１Ｆ
		FLAG:최대X = 18 
		FLAG:최대Y = 18 
								;012345678901234567
		CALL MAKE_FLOOR_LINE, 0,"                  "
		CALL MAKE_FLOOR_LINE, 1,"  11111111111111  "
		CALL MAKE_FLOOR_LINE, 2,"  2    1       2  "
		CALL MAKE_FLOOR_LINE, 3," 1126  1 11 62111 "
		CALL MAKE_FLOOR_LINE, 4," 1     1 2      1 "
		CALL MAKE_FLOOR_LINE, 5," 1 1 1 11111111 1 "
		CALL MAKE_FLOOR_LINE, 6," 1 2 2 2      2 1 "
		CALL MAKE_FLOOR_LINE, 7," 1 11111 121111 1 "
		CALL MAKE_FLOOR_LINE, 8," 1 1111    1111 1 "
		CALL MAKE_FLOOR_LINE, 9," 1 111121 11111 1 "
		CALL MAKE_FLOOR_LINE,10," 1 2      2 2 2 1 "
		CALL MAKE_FLOOR_LINE,11," 1 11111111 1 1 1 "
		CALL MAKE_FLOOR_LINE,12," 1     1        1 "
		CALL MAKE_FLOOR_LINE,13," 11    1   612111 "
		CALL MAKE_FLOOR_LINE,14,"  1126 1 6     1  "
		CALL MAKE_FLOOR_LINE,15,"   1   1 2   121  "
		CALL MAKE_FLOOR_LINE,16,"   121 12121   1  "
		CALL MAKE_FLOOR_LINE,17,"                  "

	CASE 13
		;PRINTL １Ｆ중앙
		FLAG:최대X = 18 
		FLAG:최대Y = 18 
								;012345678901234567
		CALL MAKE_FLOOR_LINE, 0,"                  "
		CALL MAKE_FLOOR_LINE, 1,"  11111111121 1   "
		CALL MAKE_FLOOR_LINE, 2,"  1           2   "
		CALL MAKE_FLOOR_LINE, 3," 11 721   127 121 "
		CALL MAKE_FLOOR_LINE, 4," 1    1   1     1 "
		CALL MAKE_FLOOR_LINE, 5," 121111   1 12111 "
		CALL MAKE_FLOOR_LINE, 6,"      2   1 1 1   "
		CALL MAKE_FLOOR_LINE, 7," 11111111 1 1 1 6 "
		CALL MAKE_FLOOR_LINE, 8," 2    1   1 1 1 2 "
		CALL MAKE_FLOOR_LINE, 9," 6    12111 1 111 "
		CALL MAKE_FLOOR_LINE,10,"            1   1 "
		CALL MAKE_FLOOR_LINE,11," 12111111111121 1 "
		CALL MAKE_FLOOR_LINE,12," 1            1 2 "
		CALL MAKE_FLOOR_LINE,13," 11 721   127 1 1 "
		CALL MAKE_FLOOR_LINE,14,"  1   1   1   1 2 "
		CALL MAKE_FLOOR_LINE,15,"  1   1   1   1 1 "
		CALL MAKE_FLOOR_LINE,16,"  11111   11111   "
		CALL MAKE_FLOOR_LINE,17,"                  "
	
	CASE 14
		;PRINTL ２Ｆ중앙
		FLAG:최대X = 18 
		FLAG:최대Y = 18 
								;012345678901234567
		CALL MAKE_FLOOR_LINE, 0,"                  "
		CALL MAKE_FLOOR_LINE, 1,"   1111111111111  "
		CALL MAKE_FLOOR_LINE, 2,"  11    1   1     "
		CALL MAKE_FLOOR_LINE, 3," 11     2 1 1 111 "
		CALL MAKE_FLOOR_LINE, 4," 1      111 1 2 1 "
		CALL MAKE_FLOOR_LINE, 5," 121      2 1 1 2 "
		CALL MAKE_FLOOR_LINE, 6," 1 1    111 1 1 7 "
		CALL MAKE_FLOOR_LINE, 7," 121    2   1 1   "
		CALL MAKE_FLOOR_LINE, 8,"   1121 111 1 111 "
		CALL MAKE_FLOOR_LINE, 9," 7  1 1   2 2 2 2 "
		CALL MAKE_FLOOR_LINE,10," 1  121 111 111 1 "
		CALL MAKE_FLOOR_LINE,11," 1    1 2   1   1 "
		CALL MAKE_FLOOR_LINE,12," 1    1 111 1   1 "
		CALL MAKE_FLOOR_LINE,13," 1    1   2 1   1 "
		CALL MAKE_FLOOR_LINE,14," 11   1 111 1  11 "
		CALL MAKE_FLOOR_LINE,15,"  1   1 2   2  1  "
		CALL MAKE_FLOOR_LINE,16,"  11111 126 1111  "
		CALL MAKE_FLOOR_LINE,17,"                  "

		CALL SET_TILE,9,4,던전플래그:43:26,0,3
		CALL SET_TILE,9,6,던전플래그:43:27,0,3
		CALL SET_TILE,9,8,던전플래그:43:28,0,3
		CALL SET_TILE,9,10,던전플래그:43:29,0,3
		CALL SET_TILE,9,12,던전플래그:43:30,0,3
		CALL SET_TILE,9,14,던전플래그:43:31,0,3

		;이벤트の設置
		CALL SET_TILE,8,2,던전플래그:43:2,0,4

	CASE 15
		;PRINTL ３Ｆ중앙
		FLAG:최대X = 9 
		FLAG:최대Y = 17
								;012345678
		CALL MAKE_FLOOR_LINE, 0,"         "
		CALL MAKE_FLOOR_LINE, 1," 111     "
		CALL MAKE_FLOOR_LINE, 2," 1 2     "
		CALL MAKE_FLOOR_LINE, 3," 1 6     "
		CALL MAKE_FLOOR_LINE, 4," 2       "
		CALL MAKE_FLOOR_LINE, 5," 1212121 "
		CALL MAKE_FLOOR_LINE, 6,"       2 "
								;012345678
		CALL MAKE_FLOOR_LINE, 7," 1212121 "
		CALL MAKE_FLOOR_LINE, 8," 2       "
		CALL MAKE_FLOOR_LINE, 9," 1212121 "
		CALL MAKE_FLOOR_LINE,10,"       2 "
		CALL MAKE_FLOOR_LINE,11," 1212121 "
		CALL MAKE_FLOOR_LINE,12," 1       "
		CALL MAKE_FLOOR_LINE,13," 1111111 "
		CALL MAKE_FLOOR_LINE,14,"       1 "
		CALL MAKE_FLOOR_LINE,15,"     721 "
		CALL MAKE_FLOOR_LINE,16,"         "

		CALL SET_TILE,3,5,던전플래그:43:32,0,3
		CALL SET_TILE,5,5,던전플래그:43:33,0,3
		CALL SET_TILE,3,7,던전플래그:43:34,0,3
		CALL SET_TILE,5,7,던전플래그:43:35,0,3
		CALL SET_TILE,3,9,던전플래그:43:36,0,3
		CALL SET_TILE,5,9,던전플래그:43:37,0,3
		CALL SET_TILE,3,11,던전플래그:43:38,0,3
		CALL SET_TILE,5,11,던전플래그:43:39,0,3

	CASE 16
		;PRINTL ４Ｆ
		FLAG:최대X = 9 
		FLAG:최대Y = 7
								;012345678
		CALL MAKE_FLOOR_LINE, 0,"         "
		CALL MAKE_FLOOR_LINE, 1," 1 7 111 "
		CALL MAKE_FLOOR_LINE, 2," 1 2 1   "
		CALL MAKE_FLOOR_LINE, 3," 1112121 "
		CALL MAKE_FLOOR_LINE, 4," 1   1   "
		CALL MAKE_FLOOR_LINE, 5," 121 111 "
		CALL MAKE_FLOOR_LINE, 6,"         "

		CALL SET_TILE,3,5,던전플래그:43:40,0,3
		;이벤트の設置
		CALL SET_TILE,7,3,던전플래그:43:0,0,4

	CASEELSE
ENDSELECT

;=======================================================================
;[5]조사　実行時の이벤트
;=======================================================================
@EVENT_CHECK_DUNGEON_43

;==========
;出口の処理
;==========
IF DA:(FLAG:현X):(FLAG:현Y) == 8
	CALL DUNGEON_EXIT
	RETURN 1
;========
;宝の処理
;========
ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 3
	CALL TREASURE_43
	RETURN 1

;=======
;階段
;=======
ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 6
	SELECTCASE FLAG:현M
		;二階北西　昇6
		CASE 4
			SIF FLAG:현X == 6 && FLAG:현Y == 6
				CALL DUNGEON_UPSTAIRS,0,5,4
		;二階南西
		CASE 5
			SIF FLAG:현X == 5 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,1,5,9
		;二階北東
		CASE 6
			SIF FLAG:현X == 14 && FLAG:현Y == 5
				CALL DUNGEON_UPSTAIRS,2,14,5
		;二階南東
		CASE 7
			SIF FLAG:현X == 14 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,3,14,9
				
		;一階北西
		CASE 8
			SIF FLAG:현X == 3 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,4,3,10
		;一階南西
		CASE 9
			SIF FLAG:현X == 1 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,5,1,9
			SIF FLAG:현X == 5 && FLAG:현Y == 13
				CALL DUNGEON_UPSTAIRS,5,4,13
		;一階北東
		CASE 10
			SIF FLAG:현X == 18 && FLAG:현Y == 5
				CALL DUNGEON_UPSTAIRS,6,18,11
			SIF FLAG:현X == 16 && FLAG:현Y == 11
				CALL DUNGEON_UPSTAIRS,7,16,1
			SIF FLAG:현X == 2 && FLAG:현Y == 3
				CALL DUNGEON_UPSTAIRS,4,13,3


		;一階南東
		CASE 11
			SIF FLAG:현X == 7 && FLAG:현Y == 11
				CALL DUNGEON_UPSTAIRS,7,7,11

		;地下一階
		CASE 12
			SIF FLAG:현X == 9 && FLAG:현Y == 14
				CALL DUNGEON_DOWNSTAIRS,9,18,9
			SIF FLAG:현X == 4 && FLAG:현Y == 3
				CALL DUNGEON_UPSTAIRS,13,4,3
			SIF FLAG:현X == 12 && FLAG:현Y == 3
				CALL DUNGEON_UPSTAIRS,13,12,3
			SIF FLAG:현X == 5 && FLAG:현Y == 14
				CALL DUNGEON_UPSTAIRS,13,4,13
			SIF FLAG:현X == 12 && FLAG:현Y == 13
				CALL DUNGEON_UPSTAIRS,13,12,13

		;一階中央
		CASE 13
			SIF FLAG:현X == 1 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,14,1,9
			SIF FLAG:현X == 16 && FLAG:현Y == 7
				CALL DUNGEON_UPSTAIRS,14,16,6

		;二階中央
		CASE 14
			SIF FLAG:현X == 10 && FLAG:현Y == 16
				CALL DUNGEON_UPSTAIRS,15,5,15
			

		;三階中央
		CASE 15
			SIF FLAG:현X == 3 && FLAG:현Y == 3
				CALL DUNGEON_UPSTAIRS,16,3,1

		CASEELSE
	ENDSELECT
RETURN 1

ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 7
	SELECTCASE FLAG:현M
		;三階北西　降7
		CASE 0
			SIF FLAG:현X == 5 && FLAG:현Y == 4
				CALL DUNGEON_DOWNSTAIRS,4,6,6
		;三階南西　降7
		CASE 1
			SIF FLAG:현X == 5 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,5,5,9
		;三階北東　降7
		CASE 2
			SIF FLAG:현X == 14 && FLAG:현Y == 5
				CALL DUNGEON_DOWNSTAIRS,6,14,5
		;三階南東　降7
		CASE 3
			SIF FLAG:현X == 14 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,7,14,9

		;二階北西　降7
		CASE 4
			SIF FLAG:현X == 3 && FLAG:현Y == 10
				CALL DUNGEON_DOWNSTAIRS,8,3,9
			SIF FLAG:현X == 13 && FLAG:현Y == 3
				CALL DUNGEON_DOWNSTAIRS,10,2,3
		;二階南西　降7
		CASE 5
			SIF FLAG:현X == 1 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,9,1,9
			SIF FLAG:현X == 4 && FLAG:현Y == 13
				CALL DUNGEON_DOWNSTAIRS,9,5,13
		;二階北東　降7
		CASE 6
			SIF FLAG:현X == 18 && FLAG:현Y == 11
				CALL DUNGEON_DOWNSTAIRS,10,18,5
		;二階南東　降7
		CASE 7
			SIF FLAG:현X == 16 && FLAG:현Y == 1
				CALL DUNGEON_DOWNSTAIRS,10,16,11
			SIF FLAG:현X == 7 && FLAG:현Y == 11
				CALL DUNGEON_DOWNSTAIRS,11,7,11


		;一階北西　降7
		CASE 8

		;一階南西　降7
		CASE 9
			SIF FLAG:현X == 18 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,12,9,14
			SIF FLAG:현X == 3 && FLAG:현Y == 3
				CALL DUNGEON_TERMINAL
				RETURN 1

		;一階北東
		CASE 10
		;一階南東
		CASE 11

		;地下一階
		CASE 12

		;一階中央　降7
		CASE 13
			SIF FLAG:현X == 4 && FLAG:현Y == 3
				CALL DUNGEON_DOWNSTAIRS,12,4,3
			SIF FLAG:현X == 12 && FLAG:현Y == 3
				CALL DUNGEON_DOWNSTAIRS,12,12,3
			SIF FLAG:현X == 4 && FLAG:현Y == 13
				CALL DUNGEON_DOWNSTAIRS,12,5,14
			SIF FLAG:현X == 12 && FLAG:현Y == 13
				CALL DUNGEON_DOWNSTAIRS,12,11,13


		;二階中央
		CASE 14
			SIF FLAG:현X == 16 && FLAG:현Y == 6
				CALL DUNGEON_DOWNSTAIRS,13,16,7
			SIF FLAG:현X == 1 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,13,1,9
		
		;三階中央
		CASE 15
			SIF FLAG:현X == 5 && FLAG:현Y == 15
				CALL DUNGEON_DOWNSTAIRS,14,10,16
		;四階
		CASE 16
			SIF FLAG:현X == 3 && FLAG:현Y == 1
				CALL DUNGEON_DOWNSTAIRS,15,3,3
		CASEELSE

	ENDSELECT
	RETURN 1
	
ELSE
	PRINTW 아무것도 없는 것 같다
	RETURN 0
ENDIF

;=======================================================================
;タイル進入時の이벤트
;=======================================================================
@EVENT_ENTER_DUNGEON_43,ARG
;ARG = 進入時の向き　0の場合ワープなど
;==========
;出口の処理
;==========
IF DA:(FLAG:현X):(FLAG:현Y) == 8
	CALL DUNGEON_EXIT
	RETURN 1
;========
;宝の処理
;========
ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 3
	CALL TREASURE_43
	RETURN 1
;=======
;階段
;=======
ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 6
	SELECTCASE FLAG:현M
		;二階北西　昇6
		CASE 4
			SIF FLAG:현X == 6 && FLAG:현Y == 6
				CALL DUNGEON_UPSTAIRS,0,5,4
		;二階南西
		CASE 5
			SIF FLAG:현X == 5 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,1,5,9
		;二階北東
		CASE 6
			SIF FLAG:현X == 14 && FLAG:현Y == 5
				CALL DUNGEON_UPSTAIRS,2,14,5
		;二階南東
		CASE 7
			SIF FLAG:현X == 14 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,3,14,9
		CASE 3
			SIF FLAG:현X == 14 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,7,15,9

				
		;一階北西
		CASE 8
			SIF FLAG:현X == 3 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,4,3,10
		;一階南西
		CASE 9
			SIF FLAG:현X == 1 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,5,1,9
			SIF FLAG:현X == 5 && FLAG:현Y == 13
				CALL DUNGEON_UPSTAIRS,5,4,13
		;一階北東
		CASE 10
			SIF FLAG:현X == 18 && FLAG:현Y == 5
				CALL DUNGEON_UPSTAIRS,6,18,11
			SIF FLAG:현X == 16 && FLAG:현Y == 11
				CALL DUNGEON_UPSTAIRS,7,16,1
			SIF FLAG:현X == 2 && FLAG:현Y == 3
				CALL DUNGEON_UPSTAIRS,4,13,3

		;一階南東
		CASE 11
			SIF FLAG:현X == 7 && FLAG:현Y == 11
				CALL DUNGEON_UPSTAIRS,7,7,11

		;地下一階
		CASE 12
			SIF FLAG:현X == 4 && FLAG:현Y == 3
				CALL DUNGEON_UPSTAIRS,13,4,3
			SIF FLAG:현X == 12 && FLAG:현Y == 3
				CALL DUNGEON_UPSTAIRS,13,12,3
			SIF FLAG:현X == 5 && FLAG:현Y == 14
				CALL DUNGEON_UPSTAIRS,13,4,13
			SIF FLAG:현X == 11 && FLAG:현Y == 13
				CALL DUNGEON_UPSTAIRS,13,12,13
			SIF FLAG:현X == 9 && FLAG:현Y == 14
				CALL DUNGEON_UPSTAIRS,9,18,9

		;一階中央
		CASE 13
			SIF FLAG:현X == 1 && FLAG:현Y == 9
				CALL DUNGEON_UPSTAIRS,14,1,9
			SIF FLAG:현X == 16 && FLAG:현Y == 7
				CALL DUNGEON_UPSTAIRS,14,16,6

		;二階中央
		CASE 14
			SIF FLAG:현X == 10 && FLAG:현Y == 16
				CALL DUNGEON_UPSTAIRS,15,5,15
			

		;三階中央
		CASE 15
			SIF FLAG:현X == 3 && FLAG:현Y == 3
				CALL DUNGEON_UPSTAIRS,16,3,1

		CASEELSE
	ENDSELECT
	RETURN 1

ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 7
	SELECTCASE FLAG:현M
		;三階北西　降7
		CASE 0
			SIF FLAG:현X == 5 && FLAG:현Y == 4
				CALL DUNGEON_DOWNSTAIRS,4,6,6
		;三階南西　降7
		CASE 1
			SIF FLAG:현X == 5 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,5,5,9
		;三階北東　降7
		CASE 2
			SIF FLAG:현X == 14 && FLAG:현Y == 5
				CALL DUNGEON_DOWNSTAIRS,6,14,5
		;三階南東　降7
		CASE 3
			SIF FLAG:현X == 14 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,7,14,9

		;二階北西　降7
		CASE 4
			SIF FLAG:현X == 3 && FLAG:현Y == 10
				CALL DUNGEON_DOWNSTAIRS,8,3,9
			SIF FLAG:현X == 13 && FLAG:현Y == 3
				CALL DUNGEON_DOWNSTAIRS,10,2,3
		;二階南西　降7
		CASE 5
			SIF FLAG:현X == 1 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,9,1,9
			SIF FLAG:현X == 4 && FLAG:현Y == 13
				CALL DUNGEON_DOWNSTAIRS,9,5,13
		;二階北東　降7
		CASE 6
			SIF FLAG:현X == 18 && FLAG:현Y == 11
				CALL DUNGEON_DOWNSTAIRS,10,18,5
		;二階南東　降7
		CASE 7
			SIF FLAG:현X == 16 && FLAG:현Y == 1
				CALL DUNGEON_DOWNSTAIRS,10,16,11
			SIF FLAG:현X == 7 && FLAG:현Y == 11
				CALL DUNGEON_DOWNSTAIRS,11,7,11


		;一階北西　降7
		CASE 8

		;一階南西　降7
		CASE 9
			SIF FLAG:현X == 18 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,12,9,14

		;一階北東
		CASE 10
		;一階南東
		CASE 11

		;地下一階
		CASE 12

		;一階中央　降7
		CASE 13
			SIF FLAG:현X == 4 && FLAG:현Y == 3
				CALL DUNGEON_DOWNSTAIRS,12,4,3
			SIF FLAG:현X == 12 && FLAG:현Y == 3
				CALL DUNGEON_DOWNSTAIRS,12,12,3
			SIF FLAG:현X == 4 && FLAG:현Y == 13
				CALL DUNGEON_DOWNSTAIRS,12,5,14
			SIF FLAG:현X == 12 && FLAG:현Y == 13
				CALL DUNGEON_DOWNSTAIRS,12,11,13


		;二階中央
		CASE 14
			SIF FLAG:현X == 16 && FLAG:현Y == 6
				CALL DUNGEON_DOWNSTAIRS,13,16,7
			SIF FLAG:현X == 1 && FLAG:현Y == 9
				CALL DUNGEON_DOWNSTAIRS,13,1,9
		
		;三階中央
		CASE 15
			SIF FLAG:현X == 5 && FLAG:현Y == 15
				CALL DUNGEON_DOWNSTAIRS,14,10,16
		;四階
		CASE 16
			SIF FLAG:현X == 3 && FLAG:현Y == 1
				CALL DUNGEON_DOWNSTAIRS,15,3,3
		CASEELSE

	ENDSELECT
	RETURN 1
	
;ワープ
ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 9
	SELECTCASE FLAG:현M
		;三階北西
		CASE 0
			IF FLAG:현X == 19 && FLAG:현Y == 1
				CALL DUNGEON_WORP,2,1,1
			ELSEIF FLAG:현X == 1 && FLAG:현Y == 14
				CALL DUNGEON_WORP,1,1,1
			ENDIF

		;三階南西
		CASE 1
			IF FLAG:현X == 1 && FLAG:현Y == 0
				CALL DUNGEON_WORP,0,1,13
			ELSEIF FLAG:현X == 19 && FLAG:현Y == 13
				CALL DUNGEON_WORP,3,1,13
			;三階北東へ
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 8
				CALL DUNGEON_WORP,2,2,1
			;宝箱
			ELSEIF FLAG:현X == 1 && FLAG:현Y == 13
				CALL DUNGEON_WORP,1,7,6
			ELSEIF FLAG:현X == 8 && FLAG:현Y == 6
				CALL DUNGEON_WORP,1,1,11
			;三階北東通路へ
			ELSEIF FLAG:현X == 7 && FLAG:현Y == 11
				CALL DUNGEON_WORP,2,18,13
			;三階南東ダストシュートＡ前
			ELSEIF FLAG:현X == 5 && FLAG:현Y == 13
				CALL DUNGEON_WORP,3,12,11
			ENDIF

		;三階北東
		CASE 2
			IF FLAG:현X == 0 && FLAG:현Y == 1
				CALL DUNGEON_WORP,0,18,1
			ELSEIF FLAG:현X == 18 && FLAG:현Y == 14
				CALL DUNGEON_WORP,3,18,1
			ENDIF

		;三階南東
		CASE 3
			IF FLAG:현X == 18 && FLAG:현Y == 0
				CALL DUNGEON_WORP,2,18,13
			ELSEIF FLAG:현X == 0 && FLAG:현Y == 13
				CALL DUNGEON_WORP,1,17,13
			;三階南東ダストシュートＡ→二階南東
			ELSEIF FLAG:현X == 14 && FLAG:현Y == 7
				CALL DUNGEON_WORP,7,16,8
			;三階南東ダストシュートＢ→二階南東
			ELSEIF FLAG:현X == 18 && FLAG:현Y == 11
				CALL DUNGEON_WORP,7,18,12
			ENDIF

		;二階北西
		CASE 4
			IF FLAG:현X == 19 && FLAG:현Y == 1
				CALL DUNGEON_WORP,6,0,2
			ELSEIF FLAG:현X == 1 && FLAG:현Y == 14
				CALL DUNGEON_WORP,5,1,1
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 14
				CALL DUNGEON_WORP,5,3,1
			ENDIF
	
		;二階南西
		CASE 5
			IF FLAG:현X == 1 && FLAG:현Y == 0
				CALL DUNGEON_WORP,4,1,13
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 0
				CALL DUNGEON_WORP,4,3,13
			ELSEIF FLAG:현X == 19 && FLAG:현Y == 11
				CALL DUNGEON_WORP,7,1,11
			ELSEIF FLAG:현X == 19 && FLAG:현Y == 13
				CALL DUNGEON_WORP,7,1,13

			;三階北東ダストシュートＣ前
			ELSEIF FLAG:현X == 1 && FLAG:현Y == 7
				CALL DUNGEON_WORP,6,14,1
				던전플래그:43:55 = 1
			;三階北東ダストシュートＣ前
			ELSEIF FLAG:현X == 6 && FLAG:현Y == 13
				CALL DUNGEON_WORP,6,14,1
				던전플래그:43:55 = 1
			ENDIF
		;二階北東
		CASE 6
			IF FLAG:현X == 0 && FLAG:현Y == 1
				CALL DUNGEON_WORP,4,17,1
			ELSEIF FLAG:현X == 18 && FLAG:현Y == 14
				CALL DUNGEON_WORP,7,18,2
			;三階北東ダストシュートＣ→一階北東へ
			ELSEIF FLAG:현X == 14 && FLAG:현Y == 3
				CALL DUNGEON_WORP,10,14,3
			ENDIF
		;二階南東
		CASE 7
			IF FLAG:현X == 18 && FLAG:현Y == 0
				CALL DUNGEON_WORP,6,18,13
			ELSEIF FLAG:현X == 0 && FLAG:현Y == 11
				CALL DUNGEON_WORP,5,17,11
			ELSEIF FLAG:현X == 0 && FLAG:현Y == 13
				CALL DUNGEON_WORP,5,18,13
			ENDIF
			
		;一階北西
		CASE 8
			IF FLAG:현X == 19 && FLAG:현Y == 1
				CALL DUNGEON_WORP,10,1,1
			ELSEIF FLAG:현X == 19 && FLAG:현Y == 5
				CALL DUNGEON_WORP,10,1,5

			ELSEIF FLAG:현X == 1 && FLAG:현Y == 14
				CALL DUNGEON_WORP,9,1,1
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 14
				CALL DUNGEON_WORP,9,3,1
			ELSEIF FLAG:현X == 5 && FLAG:현Y == 14
				CALL DUNGEON_WORP,9,5,1
				
			ELSEIF FLAG:현X == 9 && FLAG:현Y == 1
				CALL DUNGEON_WORP,8,1,1
			ELSEIF FLAG:현X == 1 && FLAG:현Y == 3
				CALL DUNGEON_WORP,8,11,1
			ELSEIF FLAG:현X == 7 && FLAG:현Y == 5
				CALL DUNGEON_WORP,10,14,11
			ENDIF

		;一階南西
		CASE 9
			IF FLAG:현X == 19 && FLAG:현Y == 13
				CALL DUNGEON_WORP,11,1,13
				
			ELSEIF FLAG:현X == 1 && FLAG:현Y == 0
				CALL DUNGEON_WORP,8,1,13
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 0
				CALL DUNGEON_WORP,8,3,13
			ELSEIF FLAG:현X == 5 && FLAG:현Y == 0
				CALL DUNGEON_WORP,8,5,13
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 3
				CALL DUNGEON_TERMINAL
				RETURN 1
			ENDIF
		;一階北東
		CASE 10
			IF FLAG:현X == 0 && FLAG:현Y == 1
				CALL DUNGEON_WORP,8,18,1
			ELSEIF FLAG:현X == 0 && FLAG:현Y == 5
				CALL DUNGEON_WORP,8,17,5

			ELSEIF FLAG:현X == 14 && FLAG:현Y == 14
				CALL DUNGEON_WORP,11,14,1
			ENDIF

		;一階南東
		CASE 11
			IF FLAG:현X == 14 && FLAG:현Y == 0
				CALL DUNGEON_WORP,10,14,13
			ELSEIF FLAG:현X == 0 && FLAG:현Y == 13
				CALL DUNGEON_WORP,9,17,13
			ENDIF
		CASEELSE
	ENDSELECT
RETURN 1


;==========
;扉の処理
;==========
ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 2
	CALL DUNGEON_DOOR,ARG
	RETURN 1
RETURN 0


;========================
;이벤트
;========================
ELSEIF DA:(FLAG:현X):(FLAG:현Y) == 4

	IF 던전플래그:43:2 == 0 && FLAG:현M == 14
		PRINTFORMW 몇 개의 토리이(신사 입구 앞에 세운 기둥 문)가 서 있다……

	ELSEIF 던전플래그:43:0 == 0 && FLAG:현M == 16
		CUSTOMDRAWLINE =
		PRINTL 토리이를 지나, 비탈을 오르기 전에 위치한 신사。
		FLAG:도주불가플래그 = 1
		FLAG:회화불능플래그 = 1
		FLAG:선제기습취소 = 1
		IF 던전플래그:43:1 == 0
			PRINTL 그곳에서 한 마리의 여우가 기다리고 있었다。
			PRINTL 「너같이 욕심 없는 인간으로부터는 힘을 뺏을 수 없어 켕」
			PRINTL 「힘이 나지 않아 켕……」
			PRINTL 꼬리가 두개 달린 새끼 여우가 덤벼왔다。
			PRINTW 요수 체페이が１体出た！
			CALL SET_ENEMY,9,[[キャラ:체페이(꼬리두개)]],20,0,1
			;CSTR:(CHARANUM-1):사고패턴 = 810
			ABL:(CHARANUM-1):아이템1 = 5051
			ABL:(CHARANUM-1):입수확률1 = 100
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
		ELSEIF 던전플래그:43:1 >= 9
			PRINTL 그곳에는 불길한 독기를 흩뿌리는, 거대한 여우의 머리와 꼬리 아홉 개를 지닌 괴물이 있었다。
			PRINTL 그곳에는 거대한 여우가 있었다。
			PRINTL 「네 놈처럼 탐욕스런 인간은 이젠 구할 방도가 없다」
			PRINTL 「응보를 받아라」 
			PRINTL 꼬리가 아홉개 달린 요괴 여우가 덤벼왔다。
			PRINTW 요수 체페이が１体出た！
			CALL SET_ENEMY,9,[[キャラ:체페이(꼬리아홉개)]],71,0,1
			CFLAG:(CHARANUM-1):ＨＰ보정 = 3000
			CFLAG:(CHARANUM-1):ＭＰ보정 = 3000
			CFLAG:(CHARANUM-1):행동횟수 = 4
			CFLAG:(CHARANUM-1):속도보정 = 16
			ABL:(CHARANUM-1):아이템1 = 5051
			ABL:(CHARANUM-1):입수확률1 = 100
			CSTR:(CHARANUM-1):사고패턴 = 810
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
		ELSEIF 던전플래그:43:1 >= 7
			PRINTL そこには禍々しい毒気を撒き散らす、多발の巨大な여우がいた。
			PRINTL 그곳에는 거대한 여우가 있었다。
			PRINTL 「인간の貪欲さが我が힘となるのだ！！」
			PRINTL 八꼬리の요호が襲ってきた。
			PRINTW 요수 체페이が１体出た！
			CALL SET_ENEMY,9,[[キャラ:체페이(꼬리여덣개)]],63,0,1
			CFLAG:(CHARANUM-1):ＨＰ보정 = 3000
			CFLAG:(CHARANUM-1):ＭＰ보정 = 2500
			CFLAG:(CHARANUM-1):행동횟수 = 4
			CFLAG:(CHARANUM-1):속도보정 = 10
			ABL:(CHARANUM-1):아이템1 = 5051
			ABL:(CHARANUM-1):입수확률1 = 100
			CSTR:(CHARANUM-1):사고패턴 = 810
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
		ELSEIF 던전플래그:43:1 >= 5
			PRINTL そこには禍々しい毒気を撒き散らす殺生石があった。
			PRINTL 「おまえが欲ばってくれたおかげでこちらも힘は十分だ」
			PRINTL 「ハーッハッハッハッハッハ！！」 
			PRINTL 七꼬리の요호が襲ってきた。
			PRINTW 요수 체페이が１体出た！
			CALL SET_ENEMY,9,[[キャラ:체페이(꼬리일곱개)]],57,0,1
			CFLAG:(CHARANUM-1):ＨＰ보정 = 2500
			CFLAG:(CHARANUM-1):ＭＰ보정 = 2500
			CFLAG:(CHARANUM-1):행동횟수 = 4
			ABL:(CHARANUM-1):아이템1 = 5051
			ABL:(CHARANUM-1):입수확률1 = 100
			CSTR:(CHARANUM-1):사고패턴 = 810
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
		ELSEIF 던전플래그:43:1 >= 4
			PRINTL そこには禍々しい瘴気を放つ여우がいた。
			PRINTL 「욕구에 사로잡힌 인간이 찾아 왔어요」
			PRINTL 「호옷홋홋홋호 욕심쟁이는 욕심쟁이답게 추하게 죽어 주세에-요！！」 
			PRINTL 꼬리가 여섯 달린 요괴 여우가 덤벼왔다。
			PRINTW 요수 체페이が１体出た！
			CALL SET_ENEMY,9,[[キャラ:체페이(꼬리여섯개)]],51,0,1
			CFLAG:(CHARANUM-1):ＨＰ보정 = 2500
			CFLAG:(CHARANUM-1):ＭＰ보정 = 2500
			CFLAG:(CHARANUM-1):행동횟수 = 3
			CFLAG:(CHARANUM-1):속도보정 = 1
			ABL:(CHARANUM-1):아이템1 = 5051
			ABL:(CHARANUM-1):입수확률1 = 100
			CSTR:(CHARANUM-1):사고패턴 = 810
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
		ELSEIF 던전플래그:43:1 >= 3
			PRINTL 그곳에 한 명의 여자가 기다리고 있었다。
			PRINTL 「あーら　あんたも結構欲ばりねー」
			PRINTW 「あんまり欲かいってっとろくなこと無いわよ」 
			PRINTL 
			PRINTL 「こういうふうにねっ！」
			PRINTL 五꼬리の요호が襲ってきた。
			PRINTW 요수 체페이が１体出た！
			CALL SET_ENEMY,9,[[キャラ:체페이(꼬리다섯개)]],47,0,1
			CFLAG:(CHARANUM-1):ＨＰ보정 = 2000
			CFLAG:(CHARANUM-1):ＭＰ보정 = 2000
			CFLAG:(CHARANUM-1):행동횟수 = 3
			CFLAG:(CHARANUM-1):속도보정 = 1
			ABL:(CHARANUM-1):아이템1 = 5051
			ABL:(CHARANUM-1):입수확률1 = 100
			CSTR:(CHARANUM-1):사고패턴 = 810
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
		ELSEIF 던전플래그:43:1 >= 2
			PRINTL 그곳에 한 명의 여자가 기다리고 있었다。
			PRINTL 「당신같이 욕심이 적고 조심스러운 사람이란 건 드물죠ー」 
			PRINTL 우산 위에 올라 탄 요염한 여자에게는 4개의 여우꼬리가 나있었다。
			PRINTL 꼬리가 네개 달린 여우 요괴가 덤벼왔다。
			PRINTW 요수 체페이が１体出た！
			CALL SET_ENEMY,9,[[キャラ:체페이(꼬리네개)]],36,0,1
			CFLAG:(CHARANUM-1):ＨＰ보정 = 1000
			CFLAG:(CHARANUM-1):ＭＰ보정 = 1000
			CFLAG:(CHARANUM-1):행동횟수 = 2
			CFLAG:(CHARANUM-1):속도보정 = 15
			ABL:(CHARANUM-1):아이템1 = 5051
			ABL:(CHARANUM-1):입수확률1 = 100
			CSTR:(CHARANUM-1):사고패턴 = 810
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
		ELSEIF 던전플래그:43:1 >= 1
			PRINTL そこに一人の소녀が待っていた。
			PRINTL 「だめだー　おまえ宝箱の中身取らないんだもーん」
			PRINTL 「ぜんっぜん　おもしろくなーい」
			PRINTL 三꼬리の子여우が襲ってきた。
			PRINTW 요수 체페이が１体出た！
			CALL SET_ENEMY,9,[[キャラ:체페이(꼬리세개)]],28,0,1
			CFLAG:(CHARANUM-1):ＨＰ보정 = 300
			CFLAG:(CHARANUM-1):ＭＰ보정 = 300
			ABL:(CHARANUM-1):아이템1 = 5051
			ABL:(CHARANUM-1):입수확률1 = 100
			;CSTR:(CHARANUM-1):사고패턴 = 810
			CALL SYNC_STATUS,(CHARANUM-1)
			CALL HEALTH_CHARA,(CHARANUM-1)
		ENDIF
		CUSTOMDRAWLINE =
		CALL BATTLE_START
		WAIT
		FLAG:도주불가플래그 = 0
		FLAG:회화불능플래그 = 0
		FLAG:선제기습취소 = 0
		IF 던전플래그:43:1 == 0
			PRINTW 「…역시…안된다…켕……」
		ELSEIF 던전플래그:43:1 >= 9
			PRINTL 「욕심 많은 인간놈……」
			PRINTL 「후세까지 앙화를 받아라……」
			PRINTW 쓰러뜨린 체페이는 저주의 말을 남기고 숨이 끊어졌다。
		;ELSEIF 던전플래그:43:1 >= 9
		;	PRINTW 「…ま、全く…救われん…」
		ELSEIF 던전플래그:43:1 >= 7
			PRINTL 「…た、たとえ我に勝とうとも…その貪欲さ…」
			PRINTW 「いつか身を滅ぼすぞ…」
		ELSEIF 던전플래그:43:1 >= 5
			PRINTW 「…ち、힘は十分であった…はずだ…」
		ELSEIF 던전플래그:43:1 >= 4
			PRINTL 「이런 인간한테 지다니……」
			PRINTW 「ま、마신皇様……すみませぬ……」
		ELSEIF 던전플래그:43:1 >= 3
			PRINTL 「…あらあら…あたしが負けちゃうなんて」
			PRINTW 「どういうこと…これ…」
		ELSEIF 던전플래그:43:1 >= 2
			PRINTL 「…어라…져버렸네에」
			PRINTW 「나도 참 안되겠네…」
		ELSEIF 던전플래그:43:1 >= 1
			PRINTW 「…だめだー…負けちゃった…つまんない…」
		ENDIF
		;난이도MANIACS이상의 七～九꼬리を당신のlv70以下で50日以内に討伐
		IF FLAG:전투난이도 >= 4 && 던전플래그:43:1 >= 5 && BASE:MASTER:LV <= 70 && DAY <= 50
			PRINTL 
			PRINTFORMW ＞哭翼の種子島を손に入れた
			ITEM:2566 += 1
		ENDIF
		던전플래그:43:0 = 1
	ENDIF
ENDIF
RETURN 0

;=======================================================================
;인카운트율
;=======================================================================
@ENCOUNT_RATE_43
SELECTCASE FLAG:현M
	CASE 0
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 1
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 2
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 3
		FLAG:인카운트율 = FLAG:미조우걸음수*5

	CASE 4
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 5
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 6
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 7
		FLAG:인카운트율 = FLAG:미조우걸음수*5

	CASE 8
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 9
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 10
		FLAG:인카운트율 = FLAG:미조우걸음수*5
	CASE 11
		FLAG:인카운트율 = FLAG:미조우걸음수*5

	CASE 12
		FLAG:인카운트율 = FLAG:미조우걸음수

	CASEELSE
		FLAG:인카운트율 = FLAG:미조우걸음수*7
ENDSELECT
SIF FLAG:미조우걸음수 < 5
	FLAG:인카운트율 = 0

;=======================================================================
;필요레벨눈安
;권장LV 雑魚최저LV 雑魚最高LV ボスLV 
;=======================================================================
@GET_DUNGEON_LV_43
RETURN 37, 34, 56, 65
;=======================================================================
;エンカウント処理
;=======================================================================
@CHECK_ENCOUNT_43
IF RAND:100 < FLAG:인카운트율
	CALL ENEMY_TABLE
	RETURN 1
ELSE
	FLAG:미조우걸음수 += 1
	RETURN 0
ENDIF
;=======================================================================
;적の종족の종류数
;=======================================================================
@CLASS_NUM_43
RETURN CLASS_NUM_COMMON("上級")
;=======================================================================
;적の総数
;ARGは出現する적の종류です
;=======================================================================
@ENEMY_NUM_43, ARG
RETURN ENEMY_NUM_COMMON("上級", ARG)
;=======================================================================
;적の종류
;=======================================================================
@ENEMY_43, ARG
SELECTCASE FLAG:현M
	CASE 0
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36
				RETURN [[キャラ:파이몬]], 36
			CASE IS < 25
				;15%で요정나쟈Lv36
				RETURN [[キャラ:나쟈]], 36
			CASE IS < 40
				;15%で야크시니Lv34
				RETURN [[キャラ:야크시니]], 37
			CASE IS < 45
				;5%で마수타마모Lv38
				RETURN [[キャラ:타마모]], 38
			CASE IS < 65
				;20%で좀비쨩Lv4　랭크11
				RETURN [[キャラ:좀비쨩]], 37
			CASE IS < 75
				;10％で외도오시치Lv35　랭크1
				RETURN [[キャラ:오시치]], 38
			CASE IS < 95
				;20%で좀비군Lv7　랭크10
				RETURN [[キャラ:좀비군]], 37
			CASE IS < 100
				;5%で타천사오세Lv36
				RETURN [[キャラ:오세]], 36
		ENDSELECT
	CASE 1
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36
				RETURN [[キャラ:파이몬]], 36
			CASE IS < 25
				;15%で요정나쟈Lv36
				RETURN [[キャラ:나쟈]], 36
			CASE IS < 40
				;15%で야크시니Lv34
				RETURN [[キャラ:야크시니]], 37
			CASE IS < 45
				;5%で마수타마모Lv38
				RETURN [[キャラ:타마모]], 38
			CASE IS < 65
				;20%で좀비쨩Lv4　랭크11
				RETURN [[キャラ:좀비쨩]], 37
			CASE IS < 75
				;10％で외도오시치Lv35　랭크1
				RETURN [[キャラ:오시치]], 38
			CASE IS < 95
				;20%で좀비군Lv7　랭크10
				RETURN [[キャラ:좀비군]], 37
			CASE IS < 100
				;5%で타천사오세Lv36
				RETURN [[キャラ:오세]], 36
		ENDSELECT
	CASE 2
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36
				RETURN [[キャラ:파이몬]], 36
			CASE IS < 25
				;15%で요정나쟈Lv36
				RETURN [[キャラ:나쟈]], 36
			CASE IS < 40
				;15%で야크시니Lv34
				RETURN [[キャラ:야크시니]], 37
			CASE IS < 45
				;5%で마수타마모Lv38
				RETURN [[キャラ:타마모]], 38
			CASE IS < 65
				;20%で좀비쨩Lv4　랭크11
				RETURN [[キャラ:좀비쨩]], 37
			CASE IS < 75
				;10％で외도오시치Lv35　랭크1
				RETURN [[キャラ:오시치]], 38
			CASE IS < 95
				;20%で좀비군Lv7　랭크10
				RETURN [[キャラ:좀비군]], 37
			CASE IS < 100
				;5%で타천사오세Lv36
				RETURN [[キャラ:오세]], 36
		ENDSELECT
	CASE 3
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36
				RETURN [[キャラ:파이몬]], 36
			CASE IS < 25
				;15%で요정나쟈Lv36
				RETURN [[キャラ:나쟈]], 36
			CASE IS < 40
				;15%で야크시니Lv34
				RETURN [[キャラ:야크시니]], 37
			CASE IS < 45
				;5%で마수타마모Lv38
				RETURN [[キャラ:타마모]], 38
			CASE IS < 65
				;20%で좀비쨩Lv4　랭크11
				RETURN [[キャラ:좀비쨩]], 37
			CASE IS < 75
				;10％で외도오시치Lv35　랭크1
				RETURN [[キャラ:오시치]], 38
			CASE IS < 95
				;20%で좀비군Lv7　랭크10
				RETURN [[キャラ:좀비군]], 37
			CASE IS < 100
				;5%で타천사오세Lv36
				RETURN [[キャラ:오세]], 36
		ENDSELECT
	;二階	
	CASE 4
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36　랭크1
				RETURN [[キャラ:파이몬]], 39
			CASE IS < 20
				;10%で요정나쟈Lv36　랭크1
				RETURN [[キャラ:나쟈]], 39
			CASE IS < 35
				;15%で야크시니Lv34　랭크2
				RETURN [[キャラ:야크시니]], 40
			CASE IS < 40
				;5%で마수타마모Lv38　랭크1
				RETURN [[キャラ:타마모]], 41
			CASE IS < 55
				;15%で좀비쨩Lv4　랭크11
				RETURN [[キャラ:좀비쨩]], 37
			CASE IS < 65
				;10％で외도오시치Lv35　랭크2
				RETURN [[キャラ:오시치]], 41
			CASE IS < 80
				;15%で외도쿠치사케
				RETURN [[キャラ:쿠치사케]], 42
			CASE IS < 90
				;10%　용왕미즈치LV33(38)
				RETURN [[キャラ:미즈치]], 38
			CASE IS < 100
				;10%で타천사오세Lv36　랭크1
				RETURN [[キャラ:오세]], 39
		ENDSELECT
	CASE 5
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36　랭크1
				RETURN [[キャラ:파이몬]], 39
			CASE IS < 20
				;10%で요정나쟈Lv36　랭크1
				RETURN [[キャラ:나쟈]], 39
			CASE IS < 35
				;15%で야크시니Lv34　랭크2
				RETURN [[キャラ:야크시니]], 40
			CASE IS < 40
				;5%で마수타마모Lv38　랭크1
				RETURN [[キャラ:타마모]], 41
			CASE IS < 55
				;15%で좀비쨩Lv4　랭크11
				RETURN [[キャラ:좀비쨩]], 37
			CASE IS < 65
				;10％で외도오시치Lv35　랭크2
				RETURN [[キャラ:오시치]], 41
			CASE IS < 80
				;15%で외도쿠치사케
				RETURN [[キャラ:쿠치사케]], 42
			CASE IS < 90
				;10%　용왕미즈치LV33(38)
				RETURN [[キャラ:미즈치]], 38
			CASE IS < 100
				;10%で타천사오세Lv36　랭크1
				RETURN [[キャラ:오세]], 39
		ENDSELECT
	CASE 6
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36　랭크1
				RETURN [[キャラ:파이몬]], 39
			CASE IS < 20
				;10%で요정나쟈Lv36　랭크1
				RETURN [[キャラ:나쟈]], 39
			CASE IS < 35
				;15%で야크시니Lv34　랭크2
				RETURN [[キャラ:야크시니]], 40
			CASE IS < 40
				;5%で마수타마모Lv38　랭크1
				RETURN [[キャラ:타마모]], 41
			CASE IS < 55
				;15%で좀비쨩Lv4　랭크11
				RETURN [[キャラ:좀비쨩]], 37
			CASE IS < 65
				;10％で외도오시치Lv35　랭크2
				RETURN [[キャラ:오시치]], 41
			CASE IS < 80
				;15%で외도쿠치사케
				RETURN [[キャラ:쿠치사케]], 42
			CASE IS < 90
				;10%　용왕미즈치LV33(38)
				RETURN [[キャラ:미즈치]], 38
			CASE IS < 100
				;10%で타천사오세Lv36　랭크1
				RETURN [[キャラ:오세]], 39
		ENDSELECT
	CASE 7
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36　랭크1
				RETURN [[キャラ:파이몬]], 39
			CASE IS < 20
				;10%で요정나쟈Lv36　랭크1
				RETURN [[キャラ:나쟈]], 39
			CASE IS < 35
				;15%で야크시니Lv34　랭크2
				RETURN [[キャラ:야크시니]], 40
			CASE IS < 40
				;5%で마수타마모Lv38　랭크1
				RETURN [[キャラ:타마모]], 41
			CASE IS < 55
				;15%で좀비쨩Lv4　랭크11
				RETURN [[キャラ:좀비쨩]], 37
			CASE IS < 65
				;10％で외도오시치Lv35　랭크2
				RETURN [[キャラ:오시치]], 41
			CASE IS < 80
				;15%で외도쿠치사케
				RETURN [[キャラ:쿠치사케]], 42
			CASE IS < 90
				;10%　용왕미즈치LV33(38)
				RETURN [[キャラ:미즈치]], 38
			CASE IS < 100
				;10%で타천사오세Lv36　랭크1
				RETURN [[キャラ:오세]], 39
		ENDSELECT
	;一階
	CASE 8
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36　랭크2
				RETURN [[キャラ:파이몬]], 42
			CASE IS < 25
				;15％で요마서큐버스Lv44
				RETURN [[キャラ:서큐버스]], 44
			CASE IS < 40
				;15%で요정비비안Lv42
				RETURN [[キャラ:비비안]], 42
			CASE IS < 55
				;15%で아마존Lv43
				RETURN [[キャラ:아마존]], 43
			CASE IS < 70
				;15%で마수타마모Lv38　랭크2
				RETURN [[キャラ:타마모]], 44
			CASE IS < 85
				;15%で외도쿠치사케Lv42
				RETURN [[キャラ:쿠치사케]], 42
			CASE IS < 95
				;10%で타천사오세Lv36　랭크2
				RETURN [[キャラ:오세]], 42
			CASE IS < 100
				;5%で마수달기Lv47
				RETURN [[キャラ:달기]], 47
		ENDSELECT
	CASE 9
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36　랭크2
				RETURN [[キャラ:파이몬]], 42
			CASE IS < 25
				;15％で요마서큐버스Lv44
				RETURN [[キャラ:서큐버스]], 44
			CASE IS < 40
				;15%で요정비비안Lv42
				RETURN [[キャラ:비비안]], 42
			CASE IS < 55
				;15%で아마존Lv43
				RETURN [[キャラ:아마존]], 43
			CASE IS < 70
				;15%で마수타마모Lv38　랭크2
				RETURN [[キャラ:타마모]], 44
			CASE IS < 85
				;15%で외도쿠치사케Lv42
				RETURN [[キャラ:쿠치사케]], 42
			CASE IS < 95
				;10%で타천사오세Lv36　랭크2
				RETURN [[キャラ:오세]], 42
			CASE IS < 100
				;5%で마수달기Lv47
				RETURN [[キャラ:달기]], 47
		ENDSELECT
	CASE 10
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36　랭크2
				RETURN [[キャラ:파이몬]], 42
			CASE IS < 25
				;15％で요마서큐버스Lv44
				RETURN [[キャラ:서큐버스]], 44
			CASE IS < 40
				;15%で요정비비안Lv42
				RETURN [[キャラ:비비안]], 42
			CASE IS < 55
				;15%で아마존Lv43
				RETURN [[キャラ:아마존]], 43
			CASE IS < 70
				;15%で마수타마모Lv38　랭크2
				RETURN [[キャラ:타마모]], 44
			CASE IS < 85
				;15%で외도쿠치사케Lv42
				RETURN [[キャラ:쿠치사케]], 42
			CASE IS < 95
				;10%で타천사오세Lv36　랭크2
				RETURN [[キャラ:오세]], 42
			CASE IS < 100
				;5%で마수달기Lv47
				RETURN [[キャラ:달기]], 47
		ENDSELECT
	CASE 11
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で마왕파이몬Lv36　랭크2
				RETURN [[キャラ:파이몬]], 42
			CASE IS < 25
				;15％で요마서큐버스Lv44
				RETURN [[キャラ:서큐버스]], 44
			CASE IS < 40
				;15%で요정비비안Lv42
				RETURN [[キャラ:비비안]], 42
			CASE IS < 55
				;15%で아마존Lv43
				RETURN [[キャラ:아마존]], 43
			CASE IS < 70
				;15%で마수타마모Lv38　랭크2
				RETURN [[キャラ:타마모]], 44
			CASE IS < 85
				;15%で외도쿠치사케Lv42
				RETURN [[キャラ:쿠치사케]], 42
			CASE IS < 95
				;10%で타천사오세Lv36　랭크2
				RETURN [[キャラ:오세]], 42
			CASE IS < 100
				;5%で마수달기Lv47
				RETURN [[キャラ:달기]], 47
		ENDSELECT
	;地下一階
	CASE 12
		SELECTCASE RAND:100
			CASE IS < 20
				;20%で마수타마모Lv38　랭크3
				RETURN [[キャラ:타마모]], 47
			CASE IS < 35
				;15％で요마서큐버스Lv44　랭크1
				RETURN [[キャラ:서큐버스]], 47
			CASE IS < 55
				;20%で요정비비안Lv42　랭크1
				RETURN [[キャラ:비비안]], 45
			CASE IS < 70
				;15%で아마존Lv43　랭크1
				RETURN [[キャラ:아마존]], 46
			CASE IS < 85
				;15%で외도쿠치사케Lv42　랭크2
				RETURN [[キャラ:쿠치사케]], 48
			CASE IS < 90
				;5%で요조모리안Lv49
				RETURN [[キャラ:모리안]], 49
			CASE IS < 95
				;5%で마수달기Lv47　랭크1
				RETURN [[キャラ:달기]], 50
			CASE IS < 100
				;5%で외도도플갱어Lv55
				RETURN [[キャラ:도플갱어]], 55
		ENDSELECT
	CASEELSE
		SELECTCASE RAND:100
			CASE IS < 20
				;20%で마수타마모Lv38　랭크4
				RETURN [[キャラ:타마모]], 50
			CASE IS < 30
				;10%で요정티타니아Lv51
				RETURN [[キャラ:티타니아]], 51
			CASE IS < 45
				;15％で요마서큐버스Lv44　랭크2
				RETURN [[キャラ:서큐버스]], 50
			CASE IS < 60
				;15%で요귀다키니Lv46　랭크2
				RETURN [[キャラ:다키니]], 52
			CASE IS < 70
				;10%で타천사아가레스Lv54
				RETURN [[キャラ:아가레스]], 54
			CASE IS < 80
				;10%で요조모리안Lv49　랭크1
				RETURN [[キャラ:모리안]], 52
			CASE IS < 90
				;10%で마수달기Lv47　랭크2
				RETURN [[キャラ:달기]], 53
			CASE IS < 100
				;10%で외도도플갱어Lv55
				RETURN [[キャラ:도플갱어]], 55
		ENDSELECT
ENDSELECT
;=================================
;사고패턴
;=================================


@SET_ACTION_810,ARG
;1more
IF CFLAG:ARG:１more플래그 > 0
;	IF 던전플래그:43:1 < 2
;		CALL CHECK_ACTIONABLE,ARG,904
;		SIF RESULT == 0
;			GOTO DECIDE_ACTION
;		CFLAG:ARG:입력행동 = 904
;		CALL RANDOM_TARGET,ARG,904
;		RETURN 1
;	ELSE
		IF RAND:3 == 0
			;절대영도
			CALL CHECK_ACTIONABLE,ARG,810
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 810
			CALL RANDOM_TARGET,ARG,810
			RETURN 1
		ELSEIF RAND:2 == 0
			;방전
			CALL CHECK_ACTIONABLE,ARG,910
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 910
			CALL RANDOM_TARGET,ARG,910
			RETURN 1
		ELSE
			IF RAND:2 == 0
				;○かじり
				CALL CHECK_ACTIONABLE,ARG,326
				SIF RESULT == 0
					GOTO DECIDE_ACTION
				CFLAG:ARG:입력행동 = 326
				CALL RANDOM_TARGET,ARG,326
				RETURN 1
			ELSE
				IF 던전플래그:43:1 == 2
					CALL CHECK_ACTIONABLE,ARG,1212
					SIF RESULT == 0
						GOTO DECIDE_ACTION
					CFLAG:ARG:입력행동 = 1212
					CALL RANDOM_TARGET,ARG,1212
					RETURN 1
				ELSE
					;무드온
					CALL CHECK_ACTIONABLE,ARG,1403
					SIF RESULT == 0
						GOTO DECIDE_ACTION
					CFLAG:ARG:입력행동 = 1403
					CALL RANDOM_TARGET,ARG,1403
					RETURN 1
				ENDIF
			ENDIF
		ENDIF
;	ENDIF
;ＨＰ30％以下　最終形態のみ
ELSEIF 현HP비율(ARG) < 30 && 던전플래그:43:1 >= 9 && CFLAG:ARG:행동한횟수 == 0
	CALL CHECK_ACTIONABLE,ARG,603
	SIF RESULT == 0
		GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = 603
	CALL RANDOM_TARGET,ARG,603
	RETURN 1

ELSEIF CFLAG:ARG:행동한횟수 == 0
	IF 던전플래그:43:1 == 2
		IF RAND:2 == 0
			CALL CHECK_ACTIONABLE,ARG,511
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 511
			CALL RANDOM_TARGET,ARG,511
			RETURN 1
		ELSE
			CALL CHECK_ACTIONABLE,ARG,1212
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 1212
			CALL RANDOM_TARGET,ARG,1212
			RETURN 1
		ENDIF
	ELSEIF 던전플래그:43:1 >= 3 && 던전플래그:43:1 < 9
		CALL CHECK_ACTIONABLE,ARG,511
		SIF RESULT == 0
			GOTO DECIDE_ACTION
		CFLAG:ARG:입력행동 = 511
		CALL RANDOM_TARGET,ARG,511
		RETURN 1
	ELSEIF 던전플래그:43:1 >= 9
		IF RAND:3 == 0
			CALL CHECK_ACTIONABLE,ARG,603
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 603
			CALL RANDOM_TARGET,ARG,603
			RETURN 1
		ELSEIF RAND:2 == 0
			CALL CHECK_ACTIONABLE,ARG,810
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 810
			CALL RANDOM_TARGET,ARG,810
			RETURN 1
		ELSE
			CALL CHECK_ACTIONABLE,ARG,1403
			SIF RESULT == 0
				GOTO DECIDE_ACTION
			CFLAG:ARG:입력행동 = 1403
			CALL RANDOM_TARGET,ARG,1403
			RETURN 1
		ENDIF
	ENDIF
ELSEIF CFLAG:ARG:행동한횟수 == 1 && 던전플래그:43:1 >= 3 && 던전플래그:43:1 < 9
	CALL CHECK_ACTIONABLE,ARG,326
	SIF RESULT == 0
		GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = 326
	CALL RANDOM_TARGET,ARG,326
	RETURN 1

ELSEIF 던전플래그:43:1 >= 9
	IF RAND:4 == 0
		CALL CHECK_ACTIONABLE,ARG,326
		SIF RESULT == 0
			GOTO DECIDE_ACTION
		CFLAG:ARG:입력행동 = 326
		CALL RANDOM_TARGET,ARG,326
		RETURN 1
	ELSEIF RAND:3 == 0
		CALL CHECK_ACTIONABLE,ARG,810
		SIF RESULT == 0
			GOTO DECIDE_ACTION
		CFLAG:ARG:입력행동 = 810
		CALL RANDOM_TARGET,ARG,810
		RETURN 1
	ELSEIF RAND:2 == 0
		CALL CHECK_ACTIONABLE,ARG,910
		SIF RESULT == 0
			GOTO DECIDE_ACTION
		CFLAG:ARG:입력행동 = 910
		CALL RANDOM_TARGET,ARG,910
		RETURN 1
	ELSE
		CALL CHECK_ACTIONABLE,ARG,1403
		SIF RESULT == 0
			GOTO DECIDE_ACTION
		CFLAG:ARG:입력행동 = 1403
		CALL RANDOM_TARGET,ARG,1403
		RETURN 1
	ENDIF
ELSE
	$DECIDE_ACTION
	CALL SEARCH_ACT,ARG
	IF RESULT == 0
		CFLAG:ARG:입력행동 = -1
		CFLAG:ARG:방어플래그 = 1
		RETURN 0
	ENDIF
;	PRINTFORML [{CFLAG:ARG:5}]の스킬数 {RESULT}
	LOCAL = RAND:RESULT
	;스킬번호決定
	LOCAL:1 = S:(10+LOCAL)
;	PRINTFORML [{CFLAG:ARG:5}]の스킬 {LOCAL:1}
	$TARGET_LOOP
	
	CALL RANDOM_TARGET,ARG,LOCAL:1
	CALLFORM SKILL_TARGET_{LOCAL:1}
	;ここで스킬번호を行動内容に代入
	SIF CFLAG:ARG:타겟 == -1
		GOTO DECIDE_ACTION
	CFLAG:ARG:입력행동 = LOCAL:1
ENDIF
;========
;宝の処理
;========
@TREASURE_43
	SELECTCASE FLAG:현M
		CASE 0
		CASE 1
			;雷牙
			SIF FLAG:현X == 5 && FLAG:현Y == 6
				CALL GET_TREASURE,2039,1,FLAG:현던전,19
			;首狩り
			SIF FLAG:현X == 7 && FLAG:현Y == 8
				CALL GET_TREASURE,2042,1,FLAG:현던전,20
		CASE 8
			;1012,마력의향,10000,
			SIF FLAG:현X == 1 && FLAG:현Y == 13
				CALL GET_TREASURE,1012,1,FLAG:현던전,22
		CASE 9
			;운の
			SIF FLAG:현X == 13 && FLAG:현Y == 9
				CALL GET_TREASURE,1015,1,FLAG:현던전,23
		
		CASE 10
			;인내력
			SIF FLAG:현X == 8 && FLAG:현Y == 3 && 던전플래그:43:21 == 0
				CALL DUNGEON_TRAP_MP,40
				CALL GET_TREASURE,1013,1,FLAG:현던전,21
		CASE 11
			;속도
			SIF FLAG:현X == 18 && FLAG:현Y == 11
				CALL GET_TREASURE,1014,1,FLAG:현던전,24
			;마반경
			SIF FLAG:현X == 5 && FLAG:현Y == 9
				CALL GET_TREASURE,1036,1,FLAG:현던전,25
		CASE 14
			;
			IF FLAG:현X == 9 && FLAG:현Y == 4
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE,1026,1,FLAG:현던전,26
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,26
				ENDIF
			ELSEIF FLAG:현X == 9 && FLAG:현Y == 6
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE,1040,1,FLAG:현던전,27
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,27
				ENDIF
			ELSEIF FLAG:현X == 9 && FLAG:현Y == 8
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE,1016,1,FLAG:현던전,28
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,28
				ENDIF
			ELSEIF FLAG:현X == 9 && FLAG:현Y == 10
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE,1017,1,FLAG:현던전,29
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,29
				ENDIF
			ELSEIF FLAG:현X == 9 && FLAG:현Y == 12
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE,1004,1,FLAG:현던전,30
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,30
				ENDIF
			ELSEIF FLAG:현X == 9 && FLAG:현Y == 14
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE,1006,1,FLAG:현던전,31
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,31
				ENDIF
			ENDIF
		CASE 15
			IF FLAG:현X == 3 && FLAG:현Y == 5
				;무명의도
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE_KITUNE,2449,1,FLAG:현던전,32
				ELSE
					CALL GET_TREASURE,2000,1,FLAG:현던전,32
				ENDIF
			ELSEIF FLAG:현X == 5 && FLAG:현Y == 5
				IF 던전플래그:43:0 == 0
					IF TALENT:MASTER:140 == 1
						;야크트글러브
						CALL GET_TREASURE_KITUNE,4013,1,FLAG:현던전,33
					ELSE
						;슈트룸글러브
						CALL GET_TREASURE_KITUNE,4014,1,FLAG:현던전,33
					ENDIF
				ELSE
					CALL GET_TREASURE,4000,1,FLAG:현던전,33
				ENDIF
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 7
				IF 던전플래그:43:0 == 0
					IF TALENT:MASTER:140 == 1
						;야크트레그
						CALL GET_TREASURE_KITUNE,4513,1,FLAG:현던전,34
					ELSE
						;슈트룸레그
						CALL GET_TREASURE_KITUNE,4514,1,FLAG:현던전,34
					ENDIF
				ELSE
					CALL GET_TREASURE,4500,1,FLAG:현던전,34
				ENDIF
			ELSEIF FLAG:현X == 5 && FLAG:현Y == 7
				IF 던전플래그:43:0 == 0
					IF TALENT:MASTER:140 == 1
						;야크트아머
						CALL GET_TREASURE_KITUNE,3513,1,FLAG:현던전,35
					ELSE
						;슈트룸수트
						CALL GET_TREASURE_KITUNE,3514,1,FLAG:현던전,35
					ENDIF
				ELSE
					CALL GET_TREASURE,3502,1,FLAG:현던전,35
				ENDIF
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 9
				IF 던전플래그:43:0 == 0
					IF TALENT:MASTER:140 == 1
						;야크트헬름
						CALL GET_TREASURE_KITUNE,3013,1,FLAG:현던전,36
					ELSE
						;슈트룸헬름
						CALL GET_TREASURE_KITUNE,3014,1,FLAG:현던전,36
					ENDIF
				ELSE
					CALL GET_TREASURE,3000,1,FLAG:현던전,36
				ENDIF
			ELSEIF FLAG:현X == 5 && FLAG:현Y == 9
				;사신콜트
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE_KITUNE,2510,1,FLAG:현던전,37
				ELSE
					CALL GET_TREASURE,2500,1,FLAG:현던전,37
				ENDIF
			ELSEIF FLAG:현X == 3 && FLAG:현Y == 11
				;카론의노
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE_KITUNE,2040,1,FLAG:현던전,38
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,38
				ENDIF
			ELSEIF FLAG:현X == 5 && FLAG:현Y == 11
				;마탄타슬람
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE_KITUNE,5512,20,FLAG:현던전,39
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,39
				ENDIF
			ENDIF
		CASE 16
			IF FLAG:현X == 3 && FLAG:현Y == 5
				;매직링
				IF 던전플래그:43:0 == 0
					CALL GET_TREASURE_KITUNE,5006,1,FLAG:현던전,40
				ELSE
					CALL GET_TREASURE,1002,1,FLAG:현던전,40
				ENDIF
			ENDIF
	ENDSELECT

;=====================================================================
;宝箱発見処理
;=====================================================================
@GET_TREASURE_KITUNE,ARG,ARG:1,ARG:2,ARG:3,ARG:4 = -1
PRINT 상자가 놓여 있다。 
PRINTBUTTON "[0]연다",0
PRINT  
PRINTBUTTON "[1]열지 않는다",1
PRINTL
$INPUT_LOOP
ONEINPUT
IF RESULT == 0
	CALL CHECK_ITEMMAX,ARG
	IF RESULT == 0
		던전플래그:43:1 += 1
		PRINTFORMW %ITEMNAME:ARG%을(를) {ARG:1}개 손에 넣었다
		CALL GET_ITEM,ARG,ARG:1
		DA:(FLAG:현X):(FLAG:현Y) = 1
		IF ARG:4 >= 0
			SETBIT 던전플래그:(ARG:2):(ARG:3), ARG:4
		ELSE
			던전플래그:(ARG:2):(ARG:3) = 1
		ENDIF
		RETURN 1
	ELSE
		PRINTFORMW %ITEMNAME:ARG%을(를) {ARG:1}개 찾아냈지만 가질 수 없었다
		RETURN 0
	ENDIF
ELSEIF RESULT == 1
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF


;=======================================================================
;윤간참가악마
;=======================================================================
@DUNGEON_RAPE_DEVIL_43
;랜덤にどの악마が出るか決定
;RETURN CSV번호 , 人数 , 레벨
SELECTCASE RAND:3
	CASE 0
		RETURN [[キャラ:아가레스]] , 3 + RAND:10 , CSVBASE([[キャラ:아가레스]] , GETNUM(BASE , "LV") , 0) + RAND:3
	CASE 1
		RETURN [[キャラ:좀비군]] , 3 + RAND:10 , CSVBASE([[キャラ:좀비군]] , GETNUM(BASE , "LV") , 0) + RAND:3
	CASE 2
		RETURN [[キャラ:오세]] , 3 + RAND:10 , CSVBASE([[キャラ:오세]] , GETNUM(BASE , "LV") , 0) + RAND:3
ENDSELECT
