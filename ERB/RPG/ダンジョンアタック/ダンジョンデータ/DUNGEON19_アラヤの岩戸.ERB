;=======================================================================
;아라야의동굴
;
;던전ナンバー19
;=======================================================================
;던전フラグ:19:0 = 同行者(1:에리 2:아야세 3:マキ)
;던전フラグ:19:1 = 0:岩戸未クリア 1:接触성공 2:마키接触실패
;던전フラグ:19:2 = 페르소나成長이벤트
;던전フラグ:19:3 = 鏡장비取得이벤트

;=======================================================================
;攻略조건
;=======================================================================
@PREREQUISITE_DUNGEON_19
;미혹의숲クリアかつ마키が存在してること
IF 던전フラグ:12:1 == 1 && 던전フラグ:19:1 == 0 && GETCHARA([[キャラ:마키]]) >= 0
	RETURN 1
ELSE
	RETURN 0
ENDIF

;=======================================================================
;던전名
;=======================================================================
@GET_DUNGEON_NAME_19
RESULTS = 아라야의동굴


;=======================================================================
;フ로어名표시
;=======================================================================
@FLOORNAME_19
PRINT 아라야의동굴

;=======================================================================
;特殊タイル표시
;=======================================================================
@TILE_MARK_19_1_3_7
RESULTS = Ｔ
@TILE_MARK_19_7_14_1
RESULTS = Ｔ


;=======================================================================
;スタート地点입력
;=======================================================================
@START_DUNGEON_19,ARG
FLAG:現M = 0
FLAG:現X = 5
FLAG:現Y = 18
;CALL AUTOMAP

;=======================================================================
;スタート時이벤트
;=======================================================================
@EVENT_DUNGEON_START_19
CALL SHOW_PICTURE, "NONFLOORD", @"%CALLNAME:MASTER%のアジト"
CALL MESSAGE_WINDOW, "", "＞소노무라 마키의 심상 세계에서의 탐색은 계속된다/＞미궁의 숲에서 접촉했던 마키에게 건네받은 콤팩트에는/＞신사가 비춰지고 있다/＞심상 세계내에 신사는 하나, 아라야 신사 밖에 없다", , "로그를 남기지 않는다/버튼을 이용한다/재이용하지 않는다", "CENTER", 72, 4
CALL MESSAGE_WINDOW, "", "＞무언가 실마리라도 있을까、/＞탐색해 보니 뒷마당의 큰 바위 뒤에서/＞동굴과 같은 곳에 들어갈 수 있다는 걸 알아냈다", , "로그를 남기지 않는다/버튼을 이용한다/재이용하지 않는다", "CENTER", 72, 4
CALL MESSAGE_WINDOW, "", "＞이곳은 아라야의 동굴、개인의 심상 세계와 사람이라는 종 전체가/＞공유하는 종합 무의식의 접점이다/＞사람이 아닌 악마라면 어떻게든 되겠지만、/＞사람의 몸으로 여기에 들어갈 자는 제한된다", , "로그를 남기지 않는다/버튼을 이용한다/재이용하지 않는다", "CENTER", 72, 4
CALL MESSAGE_WINDOW, "", "………………/…………/……", , "로그를 남기지 않는다/버튼을 이용한다/재이용하지 않는다", "CENTER", 72, 4
CALL SHOW_PICTURE, "EMPTY"

;=======================================================================
;指定したマスに進入可能か
;=======================================================================
@CAN_ENTER_19,ARG,ARG:1
CALL CAN_ENTER,ARG,ARG:1
RETURN RESULT

;=======================================================================
;フ로어데이터
;=======================================================================
@MAKE_FLOOR_19
SELECTCASE FLAG:現M
	CASE 0
		
		FLAG:최대X = 19
		FLAG:최대Y = 19
		CALL MAKE_FLOOR_LINE, 0,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 2,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 3,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 4,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 5,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 6,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 7,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 8,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 9,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,10,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,11,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,12,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,13,"0000006000000000000"
		CALL MAKE_FLOOR_LINE,14,"0000011000000000000"
		CALL MAKE_FLOOR_LINE,15,"0000010000000000000"
		CALL MAKE_FLOOR_LINE,16,"0000040000000000000"
		CALL MAKE_FLOOR_LINE,17,"000T111000000000000"
		CALL MAKE_FLOOR_LINE,18,"0000080000000000000"

	CASE 1
		FLAG:최대X = 19
		FLAG:최대Y = 19
		CALL MAKE_FLOOR_LINE, 0,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 2,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 3,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 4,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 5,"0000000111000000000"
		CALL MAKE_FLOOR_LINE, 6,"0000000001000000000"
		CALL MAKE_FLOOR_LINE, 7,"0009000001011000000"
		CALL MAKE_FLOOR_LINE, 8,"0002000001010000000"
		CALL MAKE_FLOOR_LINE, 9,"0111001111110000000"
		CALL MAKE_FLOOR_LINE,10,"0100006000010000000"
		CALL MAKE_FLOOR_LINE,11,"0111000001111100000"
		CALL MAKE_FLOOR_LINE,12,"0001000001000100000"
		CALL MAKE_FLOOR_LINE,13,"0001007001000100000"
		CALL MAKE_FLOOR_LINE,14,"0001111111000000000"
		CALL MAKE_FLOOR_LINE,15,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,16,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,17,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,18,"0000000000000000000"
	
	CASE 2
		FLAG:최대X = 19
		FLAG:최대Y = 19
		CALL MAKE_FLOOR_LINE, 0,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 2,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 3,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 4,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 5,"0001111111600000000"
		CALL MAKE_FLOOR_LINE, 6,"0001000000000000000"
		CALL MAKE_FLOOR_LINE, 7,"0001000000000000000"
		CALL MAKE_FLOOR_LINE, 8,"0001000000000000000"
		CALL MAKE_FLOOR_LINE, 9,"0001111100000000000"
		CALL MAKE_FLOOR_LINE,10,"0000107000000000000"
		CALL MAKE_FLOOR_LINE,11,"0000100000000000000"
		CALL MAKE_FLOOR_LINE,12,"0000100000000000000"
		CALL MAKE_FLOOR_LINE,13,"0000111000110000000"
		CALL MAKE_FLOOR_LINE,14,"0000001112110000000"
		CALL MAKE_FLOOR_LINE,15,"0000111000110000000"
		CALL MAKE_FLOOR_LINE,16,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,17,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,18,"0000000000000000000"
	
	CASE 3
		FLAG:최대X = 19
		FLAG:최대Y = 19
		CALL MAKE_FLOOR_LINE, 0,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 2,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 3,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 4,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 5,"0000111111700000000"
		CALL MAKE_FLOOR_LINE, 6,"0011100100000000000"
		CALL MAKE_FLOOR_LINE, 7,"0010000100000000000"
		CALL MAKE_FLOOR_LINE, 8,"0010000110000000000"
		CALL MAKE_FLOOR_LINE, 9,"0010000010000000000"
		CALL MAKE_FLOOR_LINE,10,"0020000010000000000"
		CALL MAKE_FLOOR_LINE,11,"0111000020000000000"
		CALL MAKE_FLOOR_LINE,12,"0111000060000000000"
		CALL MAKE_FLOOR_LINE,13,"0111000000000000000"
		CALL MAKE_FLOOR_LINE,14,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,15,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,16,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,17,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,18,"0000000000000000000"
	

	CASE 4
		FLAG:최대X = 19
		FLAG:최대Y = 19
		CALL MAKE_FLOOR_LINE, 0,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 2,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 3,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 4,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 5,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 6,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 7,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 8,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 9,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,10,"0600000111100000000"
		CALL MAKE_FLOOR_LINE,11,"0100000010101100000"
		CALL MAKE_FLOOR_LINE,12,"0100000070121100000"
		CALL MAKE_FLOOR_LINE,13,"0101000000101100000"
		CALL MAKE_FLOOR_LINE,14,"0111000000100000000"
		CALL MAKE_FLOOR_LINE,15,"0101111011111100000"
		CALL MAKE_FLOOR_LINE,16,"0100001110000100000"
		CALL MAKE_FLOOR_LINE,17,"0100111011100100000"
		CALL MAKE_FLOOR_LINE,18,"0000000000000000000"
	

	CASE 5
		FLAG:최대X = 19
		FLAG:최대Y = 19
		CALL MAKE_FLOOR_LINE, 0,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 2,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 3,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 4,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 5,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 6,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 7,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 8,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 9,"0111111111111110000"
		CALL MAKE_FLOOR_LINE,10,"0700000000000011000"
		CALL MAKE_FLOOR_LINE,11,"0000000000000001000"
		CALL MAKE_FLOOR_LINE,12,"0111000116000001110"
		CALL MAKE_FLOOR_LINE,13,"0111000100000001010"
		CALL MAKE_FLOOR_LINE,14,"0020000100000000010"
		CALL MAKE_FLOOR_LINE,15,"0111111100010000110"
		CALL MAKE_FLOOR_LINE,16,"0000000100010001100"
		CALL MAKE_FLOOR_LINE,17,"0000011111111111000"
		CALL MAKE_FLOOR_LINE,18,"0000000000000000000"
	
	CASE 6
		FLAG:최대X = 19
		FLAG:최대Y = 19
		CALL MAKE_FLOOR_LINE, 0,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 2,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 3,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 4,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 5,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 6,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 7,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 8,"0000000000061000000"
		CALL MAKE_FLOOR_LINE, 9,"0000000000001000000"
		CALL MAKE_FLOOR_LINE,10,"0001111111001000000"
		CALL MAKE_FLOOR_LINE,11,"0001000001001000000"
		CALL MAKE_FLOOR_LINE,12,"0001000007001111000"
		CALL MAKE_FLOOR_LINE,13,"0001000000000100000"
		CALL MAKE_FLOOR_LINE,14,"0001000000111111000"
		CALL MAKE_FLOOR_LINE,15,"0001111100100000000"
		CALL MAKE_FLOOR_LINE,16,"0000000111100000000"
		CALL MAKE_FLOOR_LINE,17,"0000000000000000000"
		CALL MAKE_FLOOR_LINE,18,"0000000000000000000"
	
	CASE 7
		FLAG:최대X = 19
		FLAG:최대Y = 19
		CALL MAKE_FLOOR_LINE, 0,"0000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"0111110010010090010"
		CALL MAKE_FLOOR_LINE, 2,"0100000010010020020"
		CALL MAKE_FLOOR_LINE, 3,"0100111011110011110"
		CALL MAKE_FLOOR_LINE, 4,"0111101110011110010"
		CALL MAKE_FLOOR_LINE, 5,"0100000000000000010"
		CALL MAKE_FLOOR_LINE, 6,"0111111110000110010"
		CALL MAKE_FLOOR_LINE, 7,"0000000011110011110"
		CALL MAKE_FLOOR_LINE, 8,"0000100000070000100"
		CALL MAKE_FLOOR_LINE, 9,"0000100000000000100"
		CALL MAKE_FLOOR_LINE,10,"0000100000011111110"
		CALL MAKE_FLOOR_LINE,11,"0011111000000000010"
		CALL MAKE_FLOOR_LINE,12,"0010001100001110010"
		CALL MAKE_FLOOR_LINE,13,"0111100101111010010"
		CALL MAKE_FLOOR_LINE,14,"0100100101000011110"
		CALL MAKE_FLOOR_LINE,15,"0011100111011110010"
		CALL MAKE_FLOOR_LINE,16,"0010000101002000010"
		CALL MAKE_FLOOR_LINE,17,"0011210101001000110"
		CALL MAKE_FLOOR_LINE,18,"0000000000000000000"
	
		;이벤트の設置
		CALL SET_TILE,5,17,던전フラグ:(FLAG:現던전):1,0,4
		CALL SET_TILE,12,17,던전フラグ:(FLAG:現던전):2,0,4
		CALL SET_TILE,17,1,던전フラグ:(FLAG:現던전):3,0,4

	CASEELSE
ENDSELECT



;=======================================================================
;[5]調べる　実行時の이벤트
;=======================================================================
@EVENT_CHECK_DUNGEON_19

;==========
;出입の処理
;==========
IF DA:(FLAG:現X):(FLAG:現Y) == 8
	CALL DUNGEON_EXIT
	RETURN 1
;=======
;階段
;=======
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 6
	SELECTCASE FLAG:現M
		CASE 0
			CALL DUNGEON_UPSTAIRS,1,(FLAG:現X),(FLAG:現Y)
		CASE 1
			CALL DUNGEON_UPSTAIRS,2,(FLAG:現X),(FLAG:現Y)
		CASE 2
			CALL DUNGEON_UPSTAIRS,3,(FLAG:現X),(FLAG:現Y)
		CASE 3
			CALL DUNGEON_UPSTAIRS,4,(FLAG:現X),(FLAG:現Y)
		CASE 4
			CALL DUNGEON_UPSTAIRS,5,(FLAG:現X),(FLAG:現Y)
		CASE 5
			CALL DUNGEON_UPSTAIRS,6,(FLAG:現X),(FLAG:現Y)
		CASE 6
			CALL DUNGEON_UPSTAIRS,7,(FLAG:現X),(FLAG:現Y)
		CASEELSE
	ENDSELECT
	RETURN 1

ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 7
	SELECTCASE FLAG:現M
		CASE 1
			CALL DUNGEON_DOWNSTAIRS,0,(FLAG:現X),(FLAG:現Y)
		CASE 2
			CALL DUNGEON_DOWNSTAIRS,1,(FLAG:現X),(FLAG:現Y)
		CASE 3
			CALL DUNGEON_DOWNSTAIRS,2,(FLAG:現X),(FLAG:現Y)
		CASE 4
			CALL DUNGEON_DOWNSTAIRS,3,(FLAG:現X),(FLAG:現Y)
		CASE 5
			CALL DUNGEON_DOWNSTAIRS,4,(FLAG:現X),(FLAG:現Y)
		CASE 6
			CALL DUNGEON_DOWNSTAIRS,5,(FLAG:現X),(FLAG:現Y)
		CASE 7
			CALL DUNGEON_DOWNSTAIRS,6,(FLAG:現X),(FLAG:現Y)
		CASEELSE
	ENDSELECT
RETURN 1

;========
;이벤트の処理
;========
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 4
	SELECTCASE FLAG:現M
		CASE 7
			SIF FLAG:現X == 12 && FLAG:現Y == 17
				CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "……아직도 무슨 용무가 있어? /언제까지나 이런 곳에 있으면 안된다고……"
	ENDSELECT
	RETURN 1
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 9
	CALL DUNGEON_TERMINAL
	RETURN 1
ELSE
	PRINTW 아무 것도 없는 것 같다
	RETURN 0
ENDIF

;=======================================================================
;タイル進入時の이벤트
;=======================================================================
@EVENT_ENTER_DUNGEON_19,ARG
#LOCALSIZE 2
#LOCALSSIZE 1
;ARG = 進入時の向き　0の場合ワープなど
;==========
;出입の処理
;==========
IF DA:(FLAG:現X):(FLAG:現Y) == 8
	CALL DUNGEON_EXIT
	RETURN 1
;=======
;階段
;=======
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 6
	SELECTCASE FLAG:現M
		CASE 0
			CALL DUNGEON_UPSTAIRS,1,(FLAG:現X),(FLAG:現Y)
		CASE 1
			CALL DUNGEON_UPSTAIRS,2,(FLAG:現X),(FLAG:現Y)
		CASE 2
			CALL DUNGEON_UPSTAIRS,3,(FLAG:現X),(FLAG:現Y)
		CASE 3
			CALL DUNGEON_UPSTAIRS,4,(FLAG:現X),(FLAG:現Y)
		CASE 4
			CALL DUNGEON_UPSTAIRS,5,(FLAG:現X),(FLAG:現Y)
		CASE 5
			CALL DUNGEON_UPSTAIRS,6,(FLAG:現X),(FLAG:現Y)
		CASE 6
			CALL DUNGEON_UPSTAIRS,7,(FLAG:現X),(FLAG:現Y)
		CASEELSE
	ENDSELECT
	RETURN 1

ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 7
	SELECTCASE FLAG:現M
		CASE 1
			CALL DUNGEON_DOWNSTAIRS,0,(FLAG:現X),(FLAG:現Y)
		CASE 2
			CALL DUNGEON_DOWNSTAIRS,1,(FLAG:現X),(FLAG:現Y)
		CASE 3
			CALL DUNGEON_DOWNSTAIRS,2,(FLAG:現X),(FLAG:現Y)
		CASE 4
			CALL DUNGEON_DOWNSTAIRS,3,(FLAG:現X),(FLAG:現Y)
		CASE 5
			CALL DUNGEON_DOWNSTAIRS,4,(FLAG:現X),(FLAG:現Y)
		CASE 6
			CALL DUNGEON_DOWNSTAIRS,5,(FLAG:現X),(FLAG:現Y)
		CASE 7
			CALL DUNGEON_DOWNSTAIRS,6,(FLAG:現X),(FLAG:現Y)
		CASEELSE
	ENDSELECT
	RETURN 1

;========
;이벤트の処理
;========
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 4
	IF FLAG:現M == 0
		LOCAL:1 = 0
		;PT内に異聞録女キャラが一人だけいるときに通過可能
		FOR LOCAL, 1, 7
			;空き포지션は勘定外
			SIF POS(LOCAL) < 0
				CONTINUE
			;主人は勘定外
			SIF POS(LOCAL) == MASTER
				CONTINUE
			;인간以外は勘定外
			SIF ABL:POS(LOCAL):종족
				CONTINUE
			;人数カウント
			LOCAL:1++
			;조건を満たす인간の数をカウント
			SELECTCASE NO:POS(LOCAL)
				CASE [[キャラ:에리]]
					던전フラグ:(FLAG:現던전):0 = 1
				CASE [[キャラ:아야세]]
					던전フラグ:(FLAG:現던전):0 = 2
				CASE [[キャラ:마키]]
					던전フラグ:(FLAG:現던전):0 = 3
			;	CASE [[キャラ:유키노상]]
			;		던전フラグ:(FLAG:現던전):0 = 4
				CASEELSE
					;4人以外の인간がいる場合は추가で人数加算することで強制的に定員オーバー
					LOCAL:1 += 100
			ENDSELECT
		NEXT
		;人数カウントが1以外の時
		IF LOCAL:1 != 1
			CALL SHOW_FORCEMOVE, "D", "D", , , "＞알 수 없는 힘으로 되밀렸다"
			CALL MESSAGE_WINDOW_D, "", @"＞여기에 들어갈 자격을 가진 인간이 없어서 그런가,/＞혹은 사람이 너무 많아 거부되는 건가……/＞자격을 가진 인간과%CALLNAME:MASTER% 둘 뿐이라면 갈 수 있을지 모른다"
		ENDIF
	ELSEIF FLAG:現M == 7
		IF FLAG:現X == 5 && FLAG:現Y == 17
			CALL SHOW_PICTURE, "D"
			CALL MESSAGE_WINDOW_D, "", "＞그곳은 마치 밤하늘같이/＞끝없이 보이는 허공이 펼쳐져/＞그곳에 무수한 별들이 반짝이고 있다……"
			IF 던전フラグ:(FLAG:現던전):0 == 1
				CALL MESSAGE_WINDOW_D, "에리", "Really！？/믿을 수 있어? /저 빛 하나 하나가……"
			ELSEIF 던전フラグ:(FLAG:現던전):0 == 2
				CALL MESSAGE_WINDOW_D, "아야세", @"굉장해！/%ANATANAME(, "！！/")%봐요, 저 별, 저거……"
			ELSEIF 던전フラグ:(FLAG:現던전):0 == 3
				CALL MESSAGE_WINDOW_D, "마키", "……저 별,  저 빛 하나 하나가……"
				CALL MESSAGE_WINDOW_D, "", "＞마키는 잠시 멍하니 그걸 올려다 보다가/＞어딘가 먼 곳을 보는 것 같은 눈으로 조용히 중얼거렸다"
			ENDIF
			CALL MESSAGE_WINDOW_D, "", "＞사람의 의식이라는 거라고/＞사람의 마음으로 통하는 장소에/＞지금 우리가 있는 거라고 그녀는 말했다"
			CALL MESSAGE_WINDOW_D, "", "＞……그리고 이곳에 찾고 있는 것이 있다는 것은 틀림없다"
			CALL MESSAGE_WINDOW_D, "", "………………/…………/……"
			CALL MESSAGE_WINDOW_D, "", "＞허공 안에서 찾고 있는 것의 빛을 발견하는 것은,/＞그리 어려운 건 아니었다"
			CALL MESSAGE_WINDOW_D, "", "＞허나,  찾아낸 「진짜」 소노무라 마키의 의식은/＞여기저기 벌레먹은 것 같이 결여된 끔찍한 모습이었다/그 말소리도 귀를 가라앉히지 않으면/＞알아 들을 수 없을 정도로 갸냘프다"
			IF 던전フラグ:(FLAG:現던전):0 == 3
				CALL MESSAGE_WINDOW_D, "", @"＞%플레이어가()% 데려 온 마키는 필사적으로,/＞그리고 격하게 자신의 「본체」에게 말을 걸어 호소했다"
				CALL MESSAGE_WINDOW_D, "", "＞거기에 무언가 느낀 게 있던 걸까? /＞「소노무라 마키」는 또 한 사람의  자신에게/＞자신의 목에 달려 있던 컴팩트를 건넸다"
				CALL MESSAGE_WINDOW_D, "", "＞컴팩트를 손에 넣었다"
				ITEM:컴팩트 = 1
				CALL MESSAGE_WINDOW_D, "마키", "이게 아마,  열쇠라고 생각해/……이걸로 필요한 것은 갖추어졌군요"
				CALL MESSAGE_WINDOW_D, "", @"＞마키는 그것을 확인하듯이 중얼거리며、/＞%CALLNAME:MASTER%에게 눈을 돌렸다"
				CALL MESSAGE_WINDOW_D, "마키", "부탁해,  조금만 더 도와줘"
				던전フラグ:(FLAG:現던전):1 = 1
				FLAG:탈출 = 1
			ELSE
				IF 던전フラグ:(FLAG:現던전):0 == 1
					CALL MESSAGE_WINDOW_D, "", "＞에리는 필사적으로 「소노무라 마키」에게 호소했다"
				ELSEIF 던전フラグ:(FLAG:現던전):0 == 2
					CALL MESSAGE_WINDOW_D, "", "＞아야세는 필사적으로 「소노무라 마키」에게 호소했다"
				ENDIF
				CALL MESSAGE_WINDOW_D, "", @"＞허나、「소노무라 마키」는 관심을 나타내지 않는다/＞이윽고 이야기가 중단되자、/＞「소노무라 마키」는%CALLNAME:MASTER%쪽을 향한다"
				CALL MESSAGE_WINDOW_D, "소노무라 마키", "저기, 당신은 어째서 이런 곳까지 온 거야? /나같은 건 내버려두는 것이 좋았던 게 아닌 거야？"
				CALL INPUT_SELECT_D, "[0] 그럴지도 모른다/[1] 마키를 구할수 있으니까/[2] 구하고 싶으니까"
				LOCAL = RESULT
				SELECTCASE LOCAL
					CASE 0
						CALL MESSAGE_WINDOW_D, "소노무라 마키", "……그래. 그럼 빨리 돌아가……"
						CALL MESSAGE_WINDOW_D, "", @"＞「소노무라 마키」는 그렇게 말한 뒤 입을 다물고/＞두 번 다시 %CALLNAME:MASTER%의 말에 대답하지 않았다"
						CALL MESSAGE_WINDOW_D, "", "＞안타깝지만,  대화는 실패했다/＞「소노무라 마키」의 협력을 얻을 수 없었던 이상/＞자력 해결의 길은 막혔다"
						CALL MESSAGE_WINDOW_D, "", @"＞%조사처리(CALLNAME:MASTER,"는")% 팬텀에게 보고해/＞뒷일를 맡기기로 하고/＞아라야의 동굴을 뒤로 하기로 했다"
						CALL MESSAGE_WINDOW_D, "", "………………/…………/……"
						CALL SHOW_PICTURE, "EMPTY"
						CALL SHOW_PICTURE, "NONFLOORD"
						CALL MESSAGE_WINDOW_D, "", @"＞……나중에,  팬텀으로부터 DEVA 시스템의 조사에 의해 얻을 수 있던 기술에 대한 자료가 왔다/＞마키가 사라지게는 하지 않을 즈음 ,/＞DEVA 시스템은 정지하지 않은 거지"
						CALL MESSAGE_WINDOW_D, "", "허나, 팬텀이 시스템을 어떻게 한 건가,  진짜「소노무라 마키」가 어떻게 되었는가에 대해、%플레이어가()% 아는 일은 없었다……"
						CALL MESSAGE_WINDOW_D, "", "＞이 건의 보수로서 ￥50000이 지급되었다"
						;速やかに報告しなかったペナルティで報酬が減っている
						던전フラグ:(FLAG:現던전):1 = 2
						던전フラグ:11:7 = 1
						CALL INCREASE_LD,-5
						FLAG:탈출 = 1
						MONEY += 50000
					CASE 1
						CALL MESSAGE_WINDOW_D, "", "＞수고에 걸맞는가 아닌가는 제쳐두고,/＞숫처녀라고 하는 것만으로 확보해 둘 가치는 있다"
						CALL MESSAGE_WINDOW_D, "", @"＞%CALLNAME:MASTER%의 뇌리를 스쳐간 「메리트」의 내용을 알아차린 걸까、/＞「소노무라 마키」는 무서운 걸 본 것처럼, 한 걸음 물러섰다"
						CALL MESSAGE_WINDOW_D, "소노무라 마키", "……돌아가, 지금 당장……"
						CALL INPUT_YN_D
						IF RESULT == 0
							CALL MESSAGE_WINDOW_D, "", "＞안타깝지만,  대화는 실패했다/＞「소노무라 마키」의 협력을 얻을 수 없었던 이상/＞자력 해결의 길은 막혔다"
							CALL MESSAGE_WINDOW_D, "", @"＞%조사처리(CALLNAME:MASTER,"는")% 팬텀에게 보고해/＞뒷일를 맡기기로 하고/＞아라야의 동굴을 뒤로 하기로 했다"
							CALL MESSAGE_WINDOW_D, "", "………………/…………/……"
							CALL SHOW_PICTURE, "EMPTY"
							CALL SHOW_PICTURE, "NONFLOORD"
							CALL MESSAGE_WINDOW_D, "", @"＞……나중에,  팬텀으로부터 DEVA 시스템의 조사에 의해 얻을 수 있던 기술에 대한 자료가 왔다/＞마키가 사라지게는 하지 않을 즈음 ,/＞DEVA 시스템은 정지하지 않은 거지"
							CALL MESSAGE_WINDOW_D, "", "허나, 팬텀이 시스템을 어떻게 한 건가,  진짜「소노무라 마키」가 어떻게 되었는가에 대해、%플레이어가()% 아는 일은 없었다……"
							CALL MESSAGE_WINDOW_D, "", "＞이 건의 보수로서 ￥50000이 지급되었다"
							;速やかに報告しなかったペナルティで報酬が減っている
							CALL INCREASE_LD,-10
							던전フラグ:(FLAG:現던전):1 = 2
							던전フラグ:11:7 = 1
							FLAG:탈출 = 1
							MONEY += 50000
						ELSE
							;ボス戦
							CALL MESSAGE_WINDOW_D, "소노무라 마키", "……돌아가라곳……！"
							CALL MESSAGE_WINDOW_D, "", @"＞「소노무라 마키」의 절규와 함께,  가슴에 달려 있던 콤팩트가 빛을 발해,/＞가면같은 것이%CALLNAME:MASTER%들을 둘러쌌다"
							FLAG:도주불가フラグ = 1
							FLAG:회화불능フラグ = 1
							FLAG:선제기습취소 = 1
							CALL MESSAGE_WINDOW_D, "", "＞업마가 6체 나왔다"
							CALL SET_ENEMY,7,1020,45,0,1
							CALL SET_ENEMY,8,1021,47,0,1
							CALL SET_ENEMY,9,1022,49,0,1
							CALL SET_ENEMY,10,1023,50,0,1
							CALL SET_ENEMY,11,1024,52,0,1
							CALL SET_ENEMY,12,1025,55,0,1
							CALL BATTLE_START
							FLAG:도주불가フラグ = 0
							FLAG:회화불능フラグ = 0
							FLAG:선제기습취소 = 0
							CALL SHOW_PICTURE, "D"
							CALL MESSAGE_WINDOW_D, "소노무라 마키", "아아……아……"
							CALL MESSAGE_WINDOW_D, "", "＞무서워하는「소노무라 마키」가 애지중지하며 안고 있는 콤팩트를 강탈했다/＞……아마도 이게 열쇠일 거라고 생각한다"
							CALL MESSAGE_WINDOW_D, "", "＞컴팩트를 손에 넣었다"
							ITEM:컴팩트 = 1
							IF 던전フラグ:(FLAG:現던전):0 == 1
								CALL MESSAGE_WINDOW_D, "", @"＞에리는、%플레이어를()% 눈썹을 찌푸린 채로 노려보고 있다/＞마키를 돕기 위해서라고 해도/＞납득이 가지 않는 것 같다"
								CALL MESSAGE_WINDOW_D, "에리", "（이렇게 하지 않으면、Maki는 살아나지 않을 지도 모릅니다만……）"
								BASE:GETCHARA([[キャラ:에리]]):충성도 -= 500
							ELSE
								CALL MESSAGE_WINDOW_D, "", @"＞아야세는、%플레이어를()% 눈썹을 찌푸린 채로 노려보고 있다/＞마키를 돕기 위해서라고 해도/＞납득이 가지 않는 것 같다"
								CALL MESSAGE_WINDOW_D, "아야세", "（……이보라구……이건 심한 게 아닐까……）"
								BASE:GETCHARA([[キャラ:아야세]]):충성도 -= 500
							ENDIF
							CALL MESSAGE_WINDOW_D, "", @"＞%조사처리(CALLNAME:MASTER,"는")% 비난의 시선을 무시하고 아라야의 동굴을 뒤로 했다"
							CALL INCREASE_LD,-10
							던전フラグ:(FLAG:現던전):1 = 1
							FLAG:탈출 = 1
						ENDIF
					CASE 2
						;話し合い성공？
						CALL MESSAGE_WINDOW_D, "소노무라 마키", "……어째서……당신에게 그런 이유……"
						IF 던전フラグ:(FLAG:現던전):0 == 1
							CALL MESSAGE_WINDOW_D, "에리", "어머, 이유가 없으면 손을 내밀면 안 되는 거야？"
						ELSE
							CALL MESSAGE_WINDOW_D, "아야세", "이유가 뭔지 일일이 생각하지 않아도 좋잖아？"
						ENDIF
						CALL MESSAGE_WINDOW_D, "소노무라 마키", "＞그 말에 무언가 느낀 게 있던 걸까?/＞「소노무라 마키」는 허무한 미소를 지으며、/＞목에 달려 있던 콤팩트를 전해 주었다"
						CALL MESSAGE_WINDOW_D, "", "＞컴팩트를 손에 넣었다"
						ITEM:컴팩트 = 1
						CALL INCREASE_LD,+10
						던전フラグ:(FLAG:現던전):1 = 1
						FLAG:탈출 = 1
				ENDSELECT
			ENDIF
		ELSEIF FLAG:現X == 12 && FLAG:現Y == 17
			;最強封神具
			IF 던전フラグ:(FLAG:現던전):2 == 0
				IF 던전フラグ:(FLAG:現던전):3 == 0
					CALL MESSAGE_WINDOW_D, "", @"＞그곳에는 한 명의 인간이 있다/＞그 인간의 얼굴은 안개가 낀 것 같이 뚜렷이 보이지 않지만/옷부터 하나부터 열까지%플레이어를()% 빼닮았다……"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "……이런 곳까지 왔다는 건가、수고했구만? /그렇지만, 이런 일을 할 형편인가? /팬텀으로부터의 할당량은 달성한 거야？"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "네 녀석의 엉덩이에 불이 붙지 않은 건가? /땡전 한 푼 받지 못하는 일을 해서 좋은 건가/……어째서 그런 걸 알고 있는 거라고? /나도 너니까"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "성격도 다르면, 능력도 달라, 모조리 다른 건지도 모르겠지만, 그래도 나는 너의 인격 중 하나인 거라"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "……무의식의 바닥에서, 너의 행동을 바라보는 위치가 고작인,/작은 인격이지만"
					CALL MESSAGE_WINDOW_D, "", @"＞크큭하고 %ANATANAME("당신과 닮은 인영", "？")%는 불쾌한 미소를 띄웠다"
				ELSE
					CALL MESSAGE_WINDOW_D, "", @"＞아까 만났던、%플레이어를()% 빼닮은 인영이 있다/＞변함 없이, 얼굴은 안개가 낀 것처럼 보이지 않는다"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "너의 얼굴을 또 볼 줄이야……"
				ENDIF
				LOCAL = 0
				IF 던전フラグ:(FLAG:現던전):0 == 1
					LOCALS = 에리
					LOCAL = 4514
				ELSEIF 던전フラグ:(FLAG:現던전):0 == 2
					LOCALS = 아야세
					LOCAL = 4515
				ELSE
					LOCALS = 마키
					LOCAL = 4519
				ENDIF
				IF LOCAL
					CALL MESSAGE_WINDOW_D, "" , @"＞심상치 않은 분위기를 느낀 건가、%LOCALS%가/＞%CALLNAME:MASTER%에게 슬며시 다가붙는다"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "……흐~응, 뭐 좋아/아무튼, 너에게는 여기서 얻을 수 있는 것이라곤 아무것도 없어/허나, 저 누나들은 그에 해당하지 않지……"
					LOCAL = GETCHARA(LOCAL)
					CALL MESSAGE_WINDOW_D, "", @"＞%ANATANAME("당신과 닮은 인영", "？")%는, 주머니에서 무언가를 꺼내,/＞그걸 소녀에게 강요하듯이 전했다"
					IF 던전フラグ:(FLAG:現던전):0 == 1
						CALL MESSAGE_WINDOW_D, "", "＞에리가 받은 것은 1권의 책 같다/＞그것을 받은 순간,/＞에리의 배후에서, 그녀의 페르소나「니케」가 나타난다"
						CALL MESSAGE_WINDOW_D, "", "＞책은 불타는 것같이 빛을 발해,/＞니케에게 빨려 들여가듯이 사라진다/＞에리의 초기 페르소나가 성장했다！"
						ABL:LOCAL:초기페르소나 = 3902
					ELSEIF 던전フラグ:(FLAG:現던전):0 == 2
						CALL MESSAGE_WINDOW_D, "", "＞아야세가 받은 건……사슴의 박제……인가? /＞그것을 받은 순간, 아야세의 배후에서,/＞그녀의 페르소나「랴난시」가 나타난다"
						CALL MESSAGE_WINDOW_D, "", "＞박제는 불타는 것같이 빛을 발해,/＞랴난시에 빨려 들여가듯이 사라진다/＞아야세의 초기 페르소나가 성장했다！"
						ABL:LOCAL:초기페르소나 = 3903
					ELSE
						CALL MESSAGE_WINDOW_D, "", "＞마키가 받은 건 보석의 장식물처럼 보인다/＞그것을 받은 순간, 마키의 배후에서,/＞그녀의 페르소나 「아메노우즈메」가 나타난다"
						CALL MESSAGE_WINDOW_D, "", "＞보석은 불타는 것같이 빛을 발해,/＞아메노우즈메에 빨려 들여가듯이 사라진다/＞마키의 초기 페르소나가 성장했다！"
						ABL:LOCAL:초기페르소나 = [[キャラ:베르단디(페르소나)]]
					ENDIF
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "……그럼 안녕이다"
					CALL SYNC_STATUS, LOCAL
					던전フラグ:(FLAG:現던전):2 = 1
				ENDIF
			ELSE
				CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "이제,  이곳에는 용무가 없겠지? /그렇다면 빨리 나가라/너무 오래 머물 수 있는 장소가 아니야……"
				CALL MESSAGE_WINDOW_D, , @"%ANATANAME("당신과 닮은 인영", "？")%은 그렇게 말하고는 등을 돌려、지우개로 낙서를 지운 것처럼 사라졌다"
			ENDIF
		ELSEIF FLAG:現X == 17 && FLAG:現Y == 1
			;鏡장비
			IF 던전フラグ:(FLAG:現던전):3 == 0
				IF 던전フラグ:(FLAG:現던전):2 == 0
					;最強페르소나이벤트見てない
					CALL MESSAGE_WINDOW_D, "", @"＞그곳에는 한 명의 인간이 있다/＞그 인간의 얼굴은 안개가 낀 것 같이 뚜렷이 보이지 않지만/옷부터 하나부터 열까지%플레이어를()% 빼닮았다……"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "……이런 곳까지 왔다는 건가、수고했구만? /그렇지만, 이런 일을 할 형편인가? /팬텀으로부터의 할당량은 달성한 거야？"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "네 녀석의 엉덩이에 불이 붙지 않은 건가? /땡전 한 푼 받지 못하는 일을 해서 좋은 건가/……어째서 그런 걸 알고 있는 거라고? /나도 너니까"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "성격도 다르면, 능력도 달라, 모조리 다른 건지도 모르겠지만, 그래도 나는 너의 인격 중 하나인 거라"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "……무의식의 바닥에서, 너의 행동을 바라보는 위치가 고작인,/작은 인격이지만"
					CALL MESSAGE_WINDOW_D, "", @"＞크큭하고 %ANATANAME("당신과 닮은 인영", "？")% 그 녀석은 불쾌한 미소를 띄웠다"
				ELSE
					CALL MESSAGE_WINDOW_D, "", @"＞아까 만났던、%플레이어를()% 빼닮은 인영이 있다/＞변함 없이, 얼굴은 안개가 낀 것처럼 보이지 않는다"
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "너의 얼굴을 또 볼 줄이야……"
				ENDIF
				CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "뭐, 여기까지 온 이상 이것을 건네주지 않으면"
				CALL MESSAGE_WINDOW_D, "", @"＞%ANATANAME("당신과 닮은 인영", "？")%은(는) 매우 짜증나는 얼굴로  주머니를 부스럭 부스럭 뒤적이기 시작했다"
				LOCAL = 0
				IF 던전フラグ:(FLAG:現던전):0 == 1
					LOCAL = 4514
					LOCALS = 에리
				ELSEIF 던전フラグ:(FLAG:現던전):0 == 2
					LOCAL = 4515
					LOCALS = 아야세
				ELSE
					LOCAL = 4519
					LOCALS = 마키
				ENDIF
				IF LOCAL
					LOCAL:1 = 0
					LOCAL = GETCHARA(LOCAL)
					IF 함락(LOCAL) >= 2
						CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "거기의 여자……/제법 사이가 좋아 보이지 않는가……"
						CALL MESSAGE_WINDOW_D, "", @"＞%ANATANAME("당신과 닮은	인영", "？")%의 말에/＞%LOCALS%는 뺨을 붉힌다/＞%ANATANAME("당신과 닮은 인영", "？")%은(는) 콧방귀를 끼며,/＞주머니에서 거울의 파편을 꺼내 건넸다"
						CALL MESSAGE_WINDOW_D, "", @"＞거울의 파편은、%CALLNAME:MASTER%의 수중에서 한 자루의 검으로 바뀌었다/＞슈피겔 블레이드를 손에 넣었다"
						LOCAL:1 += 1
						ITEM:슈피겔블레이드 += 1
					ENDIF
					IF 던전フラグ:12:2 == 1 || 던전フラグ:12:3 == 1
						CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "너를 상당히 의지하고 있는 녀석도 있는 것 같아, 기특한 일이다"
					CALL MESSAGE_WINDOW_D, "", @"＞%ANATANAME("당신과 닮은 인영", "？")%의 말에/＞%LOCALS%는 뺨을 붉힌다/＞%ANATANAME("당신과 닮은 인영", "？")%은(는) 콧방귀를 끼며,/＞주머니에서 거울의 파편을 꺼내 건넸다"
					CALL MESSAGE_WINDOW_D, "", @"＞거울의 파편은、%CALLNAME:MASTER%의 수중에서 한 장의 가면으로 바뀌었다/＞슈피겔 마스크를 손에 넣었다"
						LOCAL:1 += 1
						ITEM:슈피겔마스크 += 1
					ENDIF
					;P1ヒロイン全員保有
					IF FINDCHARA_B(4519,0) != -1 && FINDCHARA_B(4514,0) != -1 && FINDCHARA_B(4515,0) != -1 && FINDCHARA_B(4535,0) != -1
						CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "훌륭한 아군을 늘렸구나？"
						CALL MESSAGE_WINDOW_D, "", @"＞%ANATANAME("당신과 닮은 인영", "？")%의 말에/＞%LOCALS%는 뺨을 붉힌다/＞%ANATANAME("당신과 닮은 인영", "？")%은(는) 콧방귀를 끼며,/＞주머니에서 거울의 파편을 꺼내 건넸다"
						CALL MESSAGE_WINDOW_D, "", @"＞거울의 파편은、%CALLNAME:MASTER%의 수중에서 갑옷으로 바뀌었다/＞슈피겔 메일을 입수했다"
						LOCAL:1 += 1
						ITEM:슈피겔메일 += 1
					ENDIF
					CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "……그럼 안녕이다"
					CALL SYNC_STATUS, LOCAL
					던전フラグ:(FLAG:現던전):3 = 1
				ENDIF
			ELSE
				CALL MESSAGE_WINDOW_D, ANATANAME("당신과 닮은 인영", "？"), "이제,  이곳에는 용무가 없겠지? /그렇다면 빨리 나가라/너무 오래 머물 수 있는 장소가 아니야……"
				CALL MESSAGE_WINDOW_D, , @"%ANATANAME("당신과 닮은 인영", "？")%은 그렇게 말하고는 등을 돌려、지우개로 낙서를 지운 것처럼 사라졌다"
			ENDIF
		ENDIF
	ENDIF
;==========
;扉の処理
;==========
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 2
	CALL DUNGEON_DOOR,ARG
	RETURN 1
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 9
	CALL DUNGEON_TERMINAL
	RETURN 1
ENDIF

RETURN 0

;=======================================================================
;필요레벨눈安
;권장LV 雑물고기최저LV 雑물고기最高LV ボスLV 
;=======================================================================
@GET_DUNGEON_LV_19
RETURN 48, 45, 55, 0
;=======================================================================
;エンカウント率
;=======================================================================
@ENCOUNT_RATE_19
FLAG:エンカウント率 = MAX((FLAG:未遭遇歩数 - 5) * 5, 0)
;=======================================================================
;エンカウント処理
;=======================================================================
@CHECK_ENCOUNT_19
IF RAND:100 < FLAG:エンカウント率
	CALL ENEMY_TABLE
	RETURN 1
ELSE
	FLAG:未遭遇歩数 += 1
	RETURN 0
ENDIF
;=======================================================================
;적の종족の종류数
;=======================================================================
@CLASS_NUM_19
RETURN CLASS_NUM_COMMON("上級")
;=======================================================================
;적の総数
;ARGは出現する적の종류です
;=======================================================================
@ENEMY_NUM_19, ARG
RETURN ENEMY_NUM_COMMON("上級", ARG)
;=======================================================================
;적の종류
;=======================================================================
@ENEMY_19, ARG
SELECTCASE RAND:100
	CASE IS < 20
		RETURN [[キャラ:옵신]], 45
	CASE IS < 40
		RETURN [[キャラ:그리드]], 47
	CASE IS < 60
		RETURN [[キャラ:질러시]], 49
	CASE IS < 80
		RETURN [[キャラ:벨리커시티]], 50
	CASE IS < 90
		RETURN [[キャラ:레이지니스]], 52
	CASE IS < 100
		RETURN [[キャラ:앨러건스]], 55
ENDSELECT

