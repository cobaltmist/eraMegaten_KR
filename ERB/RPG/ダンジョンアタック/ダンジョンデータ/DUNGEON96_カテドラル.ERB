;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	Module		:DUNGEON96_카테드랄.ERB
;
;	Licence		:本体に準ずる
;
;	Modification Data:
;
;	Edit	Date			Author					Reason
;	001		2019/09/10		空気					新規作成
;	002		2020/08/20		Jガン					作られたいたものを多少アレンジして配布
;	003		2020/12/23		名無し					フツオ戦を実装
;	004		2021/02/28		NEO						フツオを強化。全員1回行動であるならこの程度は……
;	005		2021/03/01		003						フツオ戦を再修正(ボスフラグ、HP補正削除）
;	006		2021/07/11		Jガン					罠の表示がおかしくなっていたのを修正、ミカエルが常闇を使用していたのを修正
;	007		2021/09/07		JK好き					エンディング達成後に脱出するように修正
;	008		2022/02/19		JK好き					雑魚戦闘時に敵が配置されない場合がある問題を応急処置
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;=======================================================================
;=======================================================================
;카테드랄
;던전ナンバー1　ＭＡＰ0~16
;フラグ
;던전플래그:96:1  クリアフラグ


;仮置き아이템を수정すべし

;던전플래그:96:10 ルート판정 1.ロウ　2.カオス　3.Ｎ

;TDLや시나가와で友好フラグを立てていれば협력できる。そうした場合はLC軸固定
;どちらとも敵対した場合はLC軸のみN固定、팬텀への카테드랄引き渡しを拒否したら極Nエンド、引き渡したらD-Nエンド
;LD軸がDなら引き渡しで確定、Lなら引き渡し拒否で確定？
;아마테라스ルートでも合体したり売り飛ばしたりして彼女が仲間にいない場合、普通に極Nエンドに行く。ちょっと텍스트변화？

;아마테라스と협력していて、かつ彼女が仲間に残っている場合は全部強制전투、팬텀とも敵対してL-Nルートへ
;COMPに入ってなくても계약を元に降臨してくるとかそんな感じで


;던전플래그:[[던전:시나가와]]:2 == 1　시나가와友好フラグ
;던전플래그:[[던전:T.D.L.]]:2 = 1　TDL友好フラグ

;던전플래그:96:11 아수라왕撃破フラグ		1.会った　2.아이템貰った　3.殺害
;던전플래그:96:12 카오스히어로撃破フラグ	
;던전플래그:96:13 아리오크撃破フラグ
;던전플래그:96:14 아스타로트撃破フラグ
;던전플래그:96:15 수르트撃破フラグ

;던전플래그:96:16 우리엘撃破フラグ
;던전플래그:96:17 가브리엘撃破フラグ
;던전플래그:96:18 라파엘撃破フラグ
;던전플래그:96:19 로우히어로撃破フラグ
;시나가와で하니엘を倒しておらずロウ陣営と敵対した場合、하니엘も一緒に出てくる
;던전플래그:96:20 미카엘撃破フラグ

;던전플래그:96:21 カオス街（1F北）門番회화フラグ
;던전플래그:96:22 ロウ街(1F南)門番회화フラグ

;던전플래그:96:23 카테드랄中心部通行可能フラグ
;도청が아마테라스이벤트になってるので카테드랄内の이벤트で開けるように

;던전플래그:96:24 巡回템플나이트用フラグ
;던전플래그:96:25 巡回템플나이트とロウ街で会った횟수
;던전플래그:96:26 巡回템플나이트とB3Fで会った
;던전플래그:96:27 巡回템플나이트とB1Fで会った
;던전플래그:96:28 巡回템플나이트と2Fで会った

;던전플래그:96:30 루이・サイファー회화フラグ

;던전플래그:96:31 ラーマ이벤트플래그　　　1.扉개방　2.의뢰受け　3.殺害
;던전플래그:96:32 라바나이벤트플래그　

;던전플래그:96:33 마사카도이벤트플래그　
;両者殺害か의뢰完了報告で던전플래그:96:23が立って中心部に行けるように

;던전플래그:96:40 ザ・ヒーロー戦
;0:未戦闘、1:戦闘済み

;던전플래그:96:71 Ｂ７Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:72 Ｂ６Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:73 Ｂ５Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:74 Ｂ４Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:75 Ｂ３Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:76 Ｂ２Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:77 Ｂ１Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:78 １Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:79 ２Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:80 ３Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:81 ４Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:82 ５Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:83 ６Ｆの宝箱管理用変数（ビット演算）
;던전플래그:96:84 ７Ｆの宝箱管理用変数（ビット演算）
;=======================================================================

;=======================================================================
;攻略조건
;=======================================================================
@PREREQUISITE_DUNGEON_96
#LOCALSIZE 1
;;긴자대지하도の扉を開けている＆50日以内
SIF FLAG:DEBUG
	RETURN 1
;50日でザ・ヒーローによる카테드랄争奪戦の終結이벤트発生
IF DAY > 50
	FOR LOCAL,11,21
		던전플래그:96:LOCAL = 3
	NEXT
	던전플래그:96:31 = 3
	던전플래그:96:32 = 3
	SETBIT 던전플래그:96:75, 2
	SETBIT 던전플래그:96:76, 0
	SETBIT 던전플래그:96:79, 2
	SETBIT 던전플래그:96:80, 1
ENDIF
SIF 던전플래그:[[던전:시나가와]]:2 == 1
	RETURN 1
SIF 던전플래그:[[던전:T.D.L.]]:2 == 1
	RETURN 1
SIF 던전플래그:20:0 & 16
	RETURN 1
RETURN 0


;=======================================================================
;던전名
;=======================================================================
@GET_DUNGEON_NAME_96
RESULTS = 카테드랄


;=======================================================================
;플로어名표시
;=======================================================================
@FLOORNAME_96
PRINT 카테드랄
SELECTCASE FLAG:현M
	CASE 0
		PRINTL Ｂ８Ｆ
	CASE 1
		PRINTL Ｂ７Ｆ
	CASE 2
		PRINTL Ｂ６Ｆ
	CASE 3
		PRINTL Ｂ５Ｆ
	CASE 4
		PRINTL Ｂ４Ｆ
	CASE 5
		PRINTL Ｂ３Ｆ
	CASE 6
		PRINTL Ｂ２Ｆ
	CASE 7
		PRINTL Ｂ１Ｆ
	CASE 8
		PRINTL １Ｆ
	CASE 9
		PRINTL ２Ｆ
	CASE 10
		PRINTL ３Ｆ
	CASE 11
		PRINTL ４Ｆ
	CASE 12
		PRINTL ５Ｆ
	CASE 13
		PRINTL ６Ｆ
	CASE 14
		PRINTL ７Ｆ
	CASE 15
		PRINTL ８Ｆ
	CASE 16
		PRINTL 外周部
	CASE 17
		PRINTL 西の塔
	CASE 18
		PRINTL 東の塔
	CASEELSE
		PRINTL
ENDSELECT

;=======================================================================
;스타ト地点입력
;=======================================================================
@START_DUNGEON_96,ARG
IF 던전플래그:[[던전:시나가와]]:2 == 1
	FLAG:현M = 16
	FLAG:현X = 29
	FLAG:현Y = 57
ELSEIF 던전플래그:[[던전:T.D.L.]]:2 == 1
	FLAG:현M = 16
	FLAG:현X = 30
	FLAG:현Y = 2
ELSE
	FLAG:현M = 7
	FLAG:현X = 1
	FLAG:현Y = 25
ENDIF
;CALL AUTOMAP
;CALL START_DUNGEON_96

;=======================================================================
;攻略開始時の이벤트
;=======================================================================
@EVENT_DUNGEON_START_96
;;外周部は真Iの野外マップの仕様に従いオートマップを埋めておく
;#DIM D96X
;#DIM D96Y
;FOR D96X, 0, 60
;	FOR D96Y, 0, 60
;		SETBIT 던전96:16:(D96X):(D96Y) , 1
;	NEXT
;NEXT
;変数指定が異常なためコメントアウト

IF 던전플래그:96:10 < 1
	IF 던전플래그:[[던전:시나가와]]:2 == 1
		던전플래그:96:10 = 1
		;ナレーション
		;ヨシオが出てきてラーマに会ってきてと言う
		CALL MESSAGE_WINDOW_D, SAVESTR:로우히어로CALLNAME , "당신에게 부탁이 하나 있습니다/서쪽 탑에 있는 라마님을 만나러 가주시지 않겠습니까?/"
		CALL MESSAGE_WINDOW_D, SAVESTR:로우히어로CALLNAME , "저는 할 일이 있어서 라마님께는 못 가요//"
		CALL MESSAGE_WINDOW_D, SAVESTR:로우히어로CALLNAME , "당신만이 의지가 됩니다 부탁드립니다//"
		던전플래그:96:31 = 1
	ELSEIF 던전플래그:[[던전:T.D.L.]]:2 == 1
		던전플래그:96:10 = 2
		;ナレーション
		CALL MESSAGE_WINDOW_D, SAVESTR:카오스히어로CALLNAME , @"%CALLNAME:MASTER%　드디어 여기까지 왔구나...//"
		CALL MESSAGE_WINDOW_D, SAVESTR:카오스히어로CALLNAME , "하마터면 위험할 뻔했네/조금 있으면 카테드랄이 완성될 뻔했어/하지만 놈들의 생각대로는 되진 않을거다"
		CALL MESSAGE_WINDOW_D, SAVESTR:카오스히어로CALLNAME , "안에는 이미 많은 악마가 틀어박혀 있어/이런 상태로 있는 곳에/신을 불러올 수는 없잖아"
		CALL MESSAGE_WINDOW_D, SAVESTR:카오스히어로CALLNAME , "나머지는 발악하고 있어/신의 앞잡이들을 다 치우면/카테드랄은 카오스의 성이 되는 셈이다"
		;ワルオが出てきて라바나に会って来いと言う
		CALL MESSAGE_WINDOW_D, SAVESTR:카오스히어로CALLNAME , "…그런데 한가지 부탁 좀 들어줄 수 있어?/동쪽 탑에 있는 라바나를 만나러 가줘/"
		CALL MESSAGE_WINDOW_D, SAVESTR:카오스히어로CALLNAME , "나는 할 일이 있어서…/부탁한다/"
		던전플래그:96:32 = 1
	ELSE
		던전플래그:96:10 = 3
		CALL MESSAGE_WINDOW_D, "", "＞도쿄만에 떠 있는 메시아교의 거대시설『카테드랄』/＞유일신을 맞이하기 위해 쌓았다는 그것을 가이아교가 방치할 리도 없고/＞지금은 양대 세력에 의한 항쟁의 최전선이 되고 있다"
		CALL MESSAGE_WINDOW_D, "", "＞팬텀 소사이어티에서는 전체 구성원을 대상으로/＞양 세력을 격파하고 카테드랄을 점거하라는 명령이 나와 있다/＞" + CALLNAME:MASTER + "이(가) 문의 봉인을 풀었기에、이미 수완의 다크서머너들이 침입해 있을 것이다"
		CALL MESSAGE_WINDOW_D, "", "＞어떻게 굴러가든、이곳에서의 전투 결과에 따라 이면 사회의 엄청난 판도가 뒤바뀔 것이 틀림없다/＞" + CALLNAME:MASTER + "은(는) 어떻게 처신해야 할지 궁리하면서 카테드랄에 발을 디뎠다"
	ENDIF
ENDIF


;=======================================================================
;탈출時の이벤트
;=======================================================================
@EVENT_DUNGEON_END_96
;던전탈출時、クリアフラグが立っておらず、도우만を撃破済みならクリアフラグを立てて賞金と名声を得ます。
;また、同時にターミナルに立ち寄った事にしておきます
;IF !던전플래그:(FLAG:현던전):1 && 던전플래그:(FLAG:현던전):11
;	CALL SHOW_PICTURE, "D"
;	CALL MESSAGE_WINDOW_D, "", @"＞賞金首・초인 도우만を討伐したことにより、입座に￥25000が支払われ、名声20を得た%\@던전플래그:(FLAG:현던전):12?#/＞ターミナルが개방され、封鎖された신주쿠위생병원に行けるようになった\@%"
;	MONEY += 25000
;	FLAG:명성 += 20
;	던전플래그:(FLAG:현던전):1 = 1
;	던전플래그:(FLAG:현던전):12 = 1
;ENDIF
;=======================================================================
;指定したマスに進入可能か
;=======================================================================
@CAN_ENTER_96,ARG,ARG:1
;ARG、ARG:1はそれぞれ대상のマスのX、Y座標を表しています。
;この던전ではエレベーターの扉が一度右側から開けておかないと左側からは開けられない、という処理に사용しています。
;どのマップでも座標(2,7)がエレベータの扉。던전플래그:(FLAG:현던전):13 ＝ エレベータフラグ管理用変数の{現在のマップ番号}番눈のビットが立っていなければ開けられるかどうかの판정を行う

SELECTCASE DA:ARG:(ARG:1)
	;ミ
	CASE 39
		RETURN 0
	;이벤트扉
	CASE 12
		IF 0
		;12カオス
		ELSEIF FLAG:현M == 1 && (던전플래그:(FLAG:현던전):12 == 3 || 던전플래그:96:10 == 2)
			RETURN 1
		;13아리오크
		ELSEIF FLAG:현M == 4 && (던전플래그:(FLAG:현던전):13 == 3 || 던전플래그:96:10 == 2)
			RETURN 1
		;14아스타로트
		ELSEIF FLAG:현M == 5 && (던전플래그:(FLAG:현던전):14 == 3 || 던전플래그:96:10 == 2)
			RETURN 1
		;15수르트
		ELSEIF FLAG:현M == 6 && (던전플래그:(FLAG:현던전):15 == 3 || 던전플래그:96:10 == 2)
			RETURN 1
		;:16우리엘
		ELSEIF FLAG:현M == 9 && (던전플래그:(FLAG:현던전):16 == 3 || 던전플래그:96:10 == 1)
			RETURN 1
		;:17가브리엘
		ELSEIF FLAG:현M == 10 && (던전플래그:(FLAG:현던전):17 == 3 || 던전플래그:96:10 == 1)
			RETURN 1
		;:18라파엘
		ELSEIF FLAG:현M == 11 && (던전플래그:(FLAG:현던전):18 == 3 || 던전플래그:96:10 == 1)
			RETURN 1
		;:19ロウ
		ELSEIF FLAG:현M == 14 && (던전플래그:(FLAG:현던전):19 == 3 || 던전플래그:96:10 == 1)
			RETURN 1
		ELSEIF FLAG:현M == 7 && 던전플래그:(FLAG:현던전):23
			RETURN 1
		ELSEIF FLAG:현M == 19 && 던전플래그:(FLAG:현던전):33
			RETURN 1
		ELSE
			CALL MESSAGE_WINDOW_D, "", "/＞扉は不思議な力で閉ざされている/" , , , , , , , , , "CENTER"
			RETURN 0
		ENDIF
	;↑
	CASE 22
		RETURN ARG:1 < FLAG:현Y
	;↓
	CASE 32
		RETURN ARG:1 > FLAG:현Y
	;→
	CASE 42
		RETURN ARG > FLAG:현X
	;←
	CASE 52
		RETURN ARG < FLAG:현X
	;ロ
	CASE 102
		SIF 던전플래그:96:31 < 2
			RETURN 0
	;カ
	CASE 112
		SIF 던전플래그:96:32 < 2
			RETURN 0
ENDSELECT

CALL CAN_ENTER,ARG,ARG:1
RETURN RESULT

;=======================================================================
;플로어데이터
;=======================================================================
@MAKE_FLOOR_96
SELECTCASE FLAG:현M

	CASE 0
	;Ｂ８階
		FLAG:최대X = 9
		FLAG:최대Y = 9
;								           
;								  012345678
		CALL MAKE_FLOOR_LINE,0,  "         "
		CALL MAKE_FLOOR_LINE,1,  " 1 6 111 "
		CALL MAKE_FLOOR_LINE,2,  " 2 2 2   "
		CALL MAKE_FLOOR_LINE,3,  " 1111111 "
		CALL MAKE_FLOOR_LINE,4,  " 2 1 2 1 "
		CALL MAKE_FLOOR_LINE,5,  " 1 9 1 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 2 1 2 "
		CALL MAKE_FLOOR_LINE,7,  " 1 9 1 1 "
		CALL MAKE_FLOOR_LINE,8,  "         "
		
		;CALL SET_TILE, 3 , 7 , 던전플래그:(FLAG:현던전):11 , 0 , 0004
		
		;9이벤트
		;000 아수라王前
		;001 아수라王
		
	CASE 1
	;Ｂ７階
		FLAG:최대X = 17
		FLAG:최대Y = 17
;								            1      
;								  01234567890123456
		CALL MAKE_FLOOR_LINE,0,  "                 "
		CALL MAKE_FLOOR_LINE,1,  " 11111 11121 111 "
		CALL MAKE_FLOOR_LINE,2,  " 1 2   1   1 1   "
		CALL MAKE_FLOOR_LINE,3,  " 1 111 1 111 1 6 "
		CALL MAKE_FLOOR_LINE,4,  " 1   1 2 1   1 2 "
		CALL MAKE_FLOOR_LINE,5,  " 1 3 1 7 1 11111 "
		CALL MAKE_FLOOR_LINE,6,  " 1 2 1   1     1 "
		CALL MAKE_FLOOR_LINE,7,  " 111 1 1 111 1 1 "
		CALL MAKE_FLOOR_LINE,8,  " 1   1 1   1 1 1 "
		CALL MAKE_FLOOR_LINE,9,  " 1 111 11121 1 1 "
		CALL MAKE_FLOOR_LINE,10, " 1 2 1   1   1 2 "
		CALL MAKE_FLOOR_LINE,11, " 1 1 123 1 3 111 "
		CALL MAKE_FLOOR_LINE,12, " 2 1     1 2 1   "
		CALL MAKE_FLOOR_LINE,13, " 1 929G111 1 1 1 "
		CALL MAKE_FLOOR_LINE,14, " 1         1 2 1 "
		CALL MAKE_FLOOR_LINE,15, " 111111121111111 "
		CALL MAKE_FLOOR_LINE,16, "                 "
		
		;CALL SET_TILE, 5 , 13 , 던전플래그:(FLAG:현던전):12 , 0 , 0014
		
		;宝
		;100 염주
		;101 소마
		;102 혼돈의돌
		
		;9이벤트
		;100 カオスヒーロ前
		;101 カオスヒーロ
	CASE 2
	;Ｂ６階
		FLAG:최대X = 17
		FLAG:최대Y = 17
;								            1      
;								  01234567890123456
		CALL MAKE_FLOOR_LINE,0,  "                 "
		CALL MAKE_FLOOR_LINE,1,  " 11111112111 111 "
		CALL MAKE_FLOOR_LINE,2,  "   111   111 1 1 "
		CALL MAKE_FLOOR_LINE,3,  " 3 11L LLL11 9 7 "
		CALL MAKE_FLOOR_LINE,4,  " 2 11L 111   1   "
		CALL MAKE_FLOOR_LINE,5,  " 11LLL 111 11111 "
		CALL MAKE_FLOOR_LINE,6,  " 11LLL 2   1   1 "
		CALL MAKE_FLOOR_LINE,7,  " LLLLL L 11123 1 "
		CALL MAKE_FLOOR_LINE,8,  " L111L L 1     2 "
		CALL MAKE_FLOOR_LINE,9,  " L111L L 1 L1111 "
		CALL MAKE_FLOOR_LINE,10, " L 2 L 1 2 L1111 "
		CALL MAKE_FLOOR_LINE,11, " L 6 L 1111LLLLL "
		CALL MAKE_FLOOR_LINE,12, " L   L     11LLL "
		CALL MAKE_FLOOR_LINE,13, " LLLLLLLLL 11LLL "
		CALL MAKE_FLOOR_LINE,14, " LLLLL1111   L11 "
		CALL MAKE_FLOOR_LINE,15, " LLLLL111123 L11 "
		CALL MAKE_FLOOR_LINE,16, "                 "
		
		;CALL SET_TILE, 13 , 3 , 던전플래그:(FLAG:현던전):30 , 0 , 0024
		
		;200 반혼향
		;201 눈속임의구슬
		;202 비공침
		
		;9이벤트
		;200 閣下がいるかもしれない
		
	CASE 3
	;Ｂ５階
		FLAG:최대X = 17
		FLAG:최대Y = 17
;								            1      
;								  01234567890123456
		CALL MAKE_FLOOR_LINE,0,  "                 "
		CALL MAKE_FLOOR_LINE,1,  " 11123 111111121 "
		CALL MAKE_FLOOR_LINE,2,  " 1     1   1   1 "
		CALL MAKE_FLOOR_LINE,3,  " 1 11121 1 1 1 1 "
		CALL MAKE_FLOOR_LINE,4,  " 2 1     1 2 1   "
		CALL MAKE_FLOOR_LINE,5,  " 111 11111111111 "
		CALL MAKE_FLOOR_LINE,6,  " 1   2         1 "
		CALL MAKE_FLOOR_LINE,7,  " 121 3 1111111 1 "
		CALL MAKE_FLOOR_LINE,8,  "   1     1 2 1 2 "
		CALL MAKE_FLOOR_LINE,9,  " 111 111 1 1 111 "
		CALL MAKE_FLOOR_LINE,10, " 1   2 1 1 1   1 "
		CALL MAKE_FLOOR_LINE,11, " 1 7 6 1 1 123 L "
		CALL MAKE_FLOOR_LINE,12, " 1 2   1 1     1 "
		CALL MAKE_FLOOR_LINE,13, " 1 1 111 1155511 "
		CALL MAKE_FLOOR_LINE,14, " 1 1 2   1     1 "
		CALL MAKE_FLOOR_LINE,15, " 121 11111211121 "
		CALL MAKE_FLOOR_LINE,16, "                 "
		
		;宝
		;300 챠이캄TNT*3
		;301 비공침
		;302 데미지罠


	CASE 4
	;Ｂ４階
		FLAG:최대X = 25
		FLAG:최대Y = 25
;								            1         2    
;								  0123456789012345678901234
		CALL MAKE_FLOOR_LINE,0,  "                         "
		CALL MAKE_FLOOR_LINE,1,  " 11111112111111111 11111 "
		CALL MAKE_FLOOR_LINE,2,  " 1         1       2   1 "
		CALL MAKE_FLOOR_LINE,3,  " 1 DDD2DDD 12DDDDDDDDD 1 "
		CALL MAKE_FLOOR_LINE,4,  " 1 D   1 2   D     D   1 "
		CALL MAKE_FLOOR_LINE,5,  " 1 D DDD DDD D DDD D D 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 D     D     2 D D 2 1 "
		CALL MAKE_FLOOR_LINE,7,  " 1 DDD2D D DDD D D DDD 1 "
		CALL MAKE_FLOOR_LINE,8,  " 1 D   D     D   D   D 2 "
		CALL MAKE_FLOOR_LINE,9,  " 1 D DDD DDD2DDDDDDD D 3 "
		CALL MAKE_FLOOR_LINE,10, " 1 D D   D       D   D   "
		CALL MAKE_FLOOR_LINE,11, " 12D D D D DDDDD D2D D21 "
		CALL MAKE_FLOOR_LINE,12, "     D 2 D D   D   D D 1 "
		CALL MAKE_FLOOR_LINE,13, " 1 DDDDDDD D 6 DDDDD D 1 "
		CALL MAKE_FLOOR_LINE,14, " 2 D   D   D 2       D 1 "
		CALL MAKE_FLOOR_LINE,15, " 1 D 9 D DDD D DDDDDDD 1 "
		CALL MAKE_FLOOR_LINE,16, " 1 D 2   D   D     D 2 1 "
		CALL MAKE_FLOOR_LINE,17, " 1 D 9 7 D 1 DDDDD D D 1 "
		CALL MAKE_FLOOR_LINE,18, " 1 2 1 G D 1   2 D     1 "
		CALL MAKE_FLOOR_LINE,19, " 1 1 1 1 D 12D D D 11111 "
		CALL MAKE_FLOOR_LINE,20, " 1 1 1 1 2 1 D   D 1   2 "
		CALL MAKE_FLOOR_LINE,21, " 1 1 121 1 1 DDDDD 1 3 1 "
		CALL MAKE_FLOOR_LINE,22, " 2 1 1   1 1       1 2 1 "
		CALL MAKE_FLOOR_LINE,23, " 111 11111 111112111 111 "
		CALL MAKE_FLOOR_LINE,24, "                         "
		
		;CALL SET_TILE, 5 , 15 , 던전플래그:(FLAG:현던전):13 , 0 , 0034
		;宝
		;400 저주의탄환*20
		;401 터키석の代わりに何か→
		
		;9이벤트
		;400 아리오크？
		;401 아리오크前の扉


	CASE 5
	;Ｂ３階
		FLAG:최대X = 33
		FLAG:최대Y = 33
;								            1         2         3   
;								  012345678901234567890123456789012
		CALL MAKE_FLOOR_LINE,0,  "                                 "
		CALL MAKE_FLOOR_LINE,1,  " 111112111111111 32111111111 111 "
		CALL MAKE_FLOOR_LINE,2,  " 1       2     1           2   1 "
		CALL MAKE_FLOOR_LINE,3,  " 121 111 11111 1 11121 11111 121 "
		CALL MAKE_FLOOR_LINE,4,  " 1 1 2 2 2   1 1 1   1 2     1 1 "
		CALL MAKE_FLOOR_LINE,5,  " 1 1 1 1 1 121 1 1 11111112111 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 2 1 1   1   1 2             1 "
		CALL MAKE_FLOOR_LINE,7,  " 1 111 1 121 1 111 111 111111111 "
		CALL MAKE_FLOOR_LINE,8,  " 1 2   2 1   1 111 2 1 2       1 "
		CALL MAKE_FLOOR_LINE,9,  " 1 1 111 11121 111 1 1 111 121 1 "
		CALL MAKE_FLOOR_LINE,10, " 1   2   2         1 1   2 1 1 1 "
		CALL MAKE_FLOOR_LINE,11, " 1 1111111111121 121 1 1 111 1 1 "
		CALL MAKE_FLOOR_LINE,12, " 1             1 1 1 1 1     1 1 "
		CALL MAKE_FLOOR_LINE,13, " 1111111111123 1 1 9 1 1111121 1 "
		CALL MAKE_FLOOR_LINE,14, "               1 1 2 1   2     2 "
		CALL MAKE_FLOOR_LINE,15, " 6 121 11111 121 1 9 111111121 1 "
		CALL MAKE_FLOOR_LINE,16, " 2 1 1 1   1 1 1 G               "
		CALL MAKE_FLOOR_LINE,17, " 1 1 1 1 121 1 1 7 1 32111111111 "
		CALL MAKE_FLOOR_LINE,18, " 1 1 1 1 1   2     1     V     V "
		CALL MAKE_FLOOR_LINE,19, " 1 1 1 1 11111 1 1111111 11121 1 "
		CALL MAKE_FLOOR_LINE,20, " 2 1 1 2 1   1 1 1     2 1   1 2 "
		CALL MAKE_FLOOR_LINE,21, " 111 111 1 121 1<1 3211111 1 111 "
		CALL MAKE_FLOOR_LINE,22, " 111           1 1       2 1   1 "
		CALL MAKE_FLOOR_LINE,23, " 111111111111111 11111111111 1 1 "
		CALL MAKE_FLOOR_LINE,24, "                             1 2 "
		CALL MAKE_FLOOR_LINE,25, " 1 111<1111123 1>111111111 1 1 1 "
		CALL MAKE_FLOOR_LINE,26, " 1 1     1     1 1     2 1 1 2 1 "
		CALL MAKE_FLOOR_LINE,27, " 121 121 1 11111 1 111 1 1 11111 "
		CALL MAKE_FLOOR_LINE,28, " 1   1 1   2   1 1 1 2 1 1     1 "
		CALL MAKE_FLOOR_LINE,29, " 1 111 1 11111 1 1 1 1 1 111 121 "
		CALL MAKE_FLOOR_LINE,30, " 2 1   1     1   1 1 1     2 1   "
		CALL MAKE_FLOOR_LINE,31, " 111 11111112111 121 11121111111 "
		CALL MAKE_FLOOR_LINE,32, "                                 "
		
		;CALL SET_TILE, 19 , 15 , 던전플래그:(FLAG:현던전):14 , 0 , 0044
		;CALL SET_TILE, 11 , 21 , 던전플래그:(FLAG:현던전):26 , 0 , 5014
		;宝
		;500 루비
		;501 오팔
		;502 피스메이커
		;503 오닉스→
		;504 사파이어
		
		;9이벤트
		;501 아스타로트？ ;ケテル城に居るべき
		;500 아스타로트前の扉

	CASE 6
	;Ｂ２階
		FLAG:최대X = 33
		FLAG:최대Y = 33
;								            1         2         3   
;								  012345678901234567890123456789012
		CALL MAKE_FLOOR_LINE,0,  "                                 "
		CALL MAKE_FLOOR_LINE,1,  " 1111111111111111111111111111111 "
		CALL MAKE_FLOOR_LINE,2,  " 1                             1 "
		CALL MAKE_FLOOR_LINE,3,  " 1 11111 w112111 11111 1111111 1 "
		CALL MAKE_FLOOR_LINE,4,  " 1     1   1   1 1 A 1 1     1 1 "
		CALL MAKE_FLOOR_LINE,5,  " 1 11w 111 111 121<1>121 111>1 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 1     2 1       V 1 2     1 1 "
		CALL MAKE_FLOOR_LINE,7,  " 1 1 11w 111 111 1 w 1 1111111 1 "
		CALL MAKE_FLOOR_LINE,8,  " 1 1     1   1   1 V 1 2 1     1 "
		CALL MAKE_FLOOR_LINE,9,  " 1 11111 12111 111 w 1 1 1 11111 "
		CALL MAKE_FLOOR_LINE,10, " 1   2         1 2   1 1   1   1 "
		CALL MAKE_FLOOR_LINE,11, " 11111 111211111 11111 1 w 1 6 1 "
		CALL MAKE_FLOOR_LINE,12, "       1   1           1 1 1 2 1 "
		CALL MAKE_FLOOR_LINE,13, " 1111121 1 1 1>w>w 11111 1 11111 "
		CALL MAKE_FLOOR_LINE,14, " G     1 2 1 V     2       11111 "
		CALL MAKE_FLOOR_LINE,15, " 7 92911 111 1 11111111111111111 "
		CALL MAKE_FLOOR_LINE,16, "             1 1                 "
		CALL MAKE_FLOOR_LINE,17, " 1111111 11111 1 32CCCCC1w       "
		CALL MAKE_FLOOR_LINE,18, " 1 A     1 2 1 1             P   "
		CALL MAKE_FLOOR_LINE,19, " 1<1>w>w w 3 1 1            P1P  "
		CALL MAKE_FLOOR_LINE,20, " 1           1 1   PPPPPPPPPP1P  "
		CALL MAKE_FLOOR_LINE,21, " 1211111111121 1  P11111111111P  "
		CALL MAKE_FLOOR_LINE,22, " 1             1   PPPPPPPPPP1P  "
		CALL MAKE_FLOOR_LINE,23, " 111111111111111            P1P  "
		CALL MAKE_FLOOR_LINE,24, "                   PPPPPPPPPP1P  "
		CALL MAKE_FLOOR_LINE,25, "                  P11111111111P  "
		CALL MAKE_FLOOR_LINE,26, "   P           P  P1PPPPPPPPP1P  "
		CALL MAKE_FLOOR_LINE,27, "  P1P         PwP P1P       P1P  "
		CALL MAKE_FLOOR_LINE,28, "  P1PPPPPPPPPPPAPPP1P       P1P  "
		CALL MAKE_FLOOR_LINE,29, "  P11111111111111111P       P1P  "
		CALL MAKE_FLOOR_LINE,30, "   PPPPPPPPPPPPPPPPP         P   "
		CALL MAKE_FLOOR_LINE,31, "                                 "
		CALL MAKE_FLOOR_LINE,32, "                                 "
		
		;CALL SET_TILE, 3 , 15 , 던전플래그:(FLAG:현던전):15 , 0 , 0054
		;600 쿠리카라의검…ですが、아수라王or비로샤나or부동명왕のドロップor수태に使いたいので何か別のを
		;601 토파즈
		
		;9이벤트
		;600 수르트？
		;601 수르트前の扉


;카테드랄の落とし穴ゾーンは原作だとCOMP사용불가なんだけど、そこ再現しても面白くなさそうなのでカット
;탐색面は原作より易しいはず

	CASE 7
	;Ｂ１階
		FLAG:최대X = 49
		FLAG:최대Y = 49
;								            1         2         3         4         
;								  0123456789012345678901234567890123456789012345678 
		CALL MAKE_FLOOR_LINE,0,  "                                                 "
		CALL MAKE_FLOOR_LINE,1,  " 12111 1111121 1 11111 11121 111111111 1 1111111 "
		CALL MAKE_FLOOR_LINE,2,  " 1     2     1 1 1   1     1 1     1   1 1     1 "
		CALL MAKE_FLOOR_LINE,3,  " 1 1 1111111 121 1 321111111 1 111 12111 1 621 1 "
		CALL MAKE_FLOOR_LINE,4,  " 1 1 2     2 1 1 1   1       1 1 2 1   1 1   1 1 "
		CALL MAKE_FLOOR_LINE,5,  " 121 1 1 111 1 1 11111 1111121 1 111 1 1 1111121 "
		CALL MAKE_FLOOR_LINE,6,  " 1 1 1 1     2 1 1     1       1 1   1 1 1   1 1 "
		CALL MAKE_FLOOR_LINE,7,  " 1 121 1 11111 1 1211111 11121 1 1 111 1 1 121 1 "
		CALL MAKE_FLOOR_LINE,8,  "   1   1   2             1   1   1 1 2 1       2 "
		CALL MAKE_FLOOR_LINE,9,  " 1 1 621 1 11111 1 11111 1 1112111 1 3 1 1211111 "
		CALL MAKE_FLOOR_LINE,10, " 1 1   1 1     2 2 1   1 1         1   1 1     1 "
		CALL MAKE_FLOOR_LINE,11, " 121 1 121 111 1 111 1 1 1 111 111211111 11111 1 "
		CALL MAKE_FLOOR_LINE,12, " 1   1 1   2   1 1   1 1 1 1 2 1       1     2 1 "
		CALL MAKE_FLOOR_LINE,13, " 1 121 1 1111121 1 6 1 1 121 1 1 11111 11111 1 1 "
		CALL MAKE_FLOOR_LINE,14, " 2 1 1 2       1 1 2 1 1 1   1 1   1 2 1 2 1   1 "
		CALL MAKE_FLOOR_LINE,15, " 1 1 1 11111 1 1 1 111 1 111 121 621 111 1 111 1 "
		CALL MAKE_FLOOR_LINE,16, " 1 1 2     1 1 1 1   1 1                 1     1 "
		CALL MAKE_FLOOR_LINE,17, " 121 11111 121 1 121 1 121 1111121 11111 1 11111 "
		CALL MAKE_FLOOR_LINE,18, "       2 2   1 1 1   1   1 1   1 1 1 2 1 1 2     "
		CALL MAKE_FLOOR_LINE,19, " 1111111 111 1 1 1111121 1 1 1 1 1 1 7 1 1 1 6 1 "
		CALL MAKE_FLOOR_LINE,20, "           2 1 1 1       1 1 2 1 1 1   1 1 1 2 1 "
		CALL MAKE_FLOOR_LINE,21, " 12111211111 121 1 1111111<1 111 1 11111 1 11111 "
		CALL MAKE_FLOOR_LINE,22, " 1       2     2 2 1     1   1   1   2   1     1 "
		CALL MAKE_FLOOR_LINE,23, " 1211111 6 11111 1 1 4   1 1 1 121111111 1111121 "
		CALL MAKE_FLOOR_LINE,24, "                 2   1   G 1 2                   "
		CALL MAKE_FLOOR_LINE,25, " 82111111111111111111111G1>11111111121 1 111 111 "
		CALL MAKE_FLOOR_LINE,26, "                 2   1   G           1 2 1   2 1 "
		CALL MAKE_FLOOR_LINE,27, " 1 111 111111121 1 1 4   1 1111111 11111 121 1 1 "
		CALL MAKE_FLOOR_LINE,28, " 1   1 1 2       2 1     1 V     1 1 2 1 1   1 1 "
		CALL MAKE_FLOOR_LINE,29, " 1 121 1 1111111 1 11111111111 1 1 1 6 1 1 6 1 1 "
		CALL MAKE_FLOOR_LINE,30, " 1   1 1       2 1       1     1 2 1   1 1 2 1 2 "
		CALL MAKE_FLOOR_LINE,31, " 11111 11111 111 111111121 11111 1111111 1 111 1 "
		CALL MAKE_FLOOR_LINE,32, " 1 2 1 1   1 1           1 2   1         2     1 "
		CALL MAKE_FLOOR_LINE,33, " 1 6 1 1 3 1 126 1211111 1 111 1 111111111111111 "
		CALL MAKE_FLOOR_LINE,34, " 1     1 2 1     1     1 1 1 2 1 2 1             "
		CALL MAKE_FLOOR_LINE,35, " 11111 1 111 111111111 1 1 1 6 1 1 1 12111 11111 "
		CALL MAKE_FLOOR_LINE,36, " 1   1 1     1         1 1     1   1 1 1       1 "
		CALL MAKE_FLOOR_LINE,37, " 1 1 1 111111121111111 1 121 1 1 111 1 1 1111121 "
		CALL MAKE_FLOOR_LINE,38, " 1 2 1             1   2 1   1 1 1   1 1 1   1 1 "
		CALL MAKE_FLOOR_LINE,39, " 1 111 11111111111 121 1 1111121 1 111 1 126 1 1 "
		CALL MAKE_FLOOR_LINE,40, " 2       2     2 1   1 1         1 1   1 1   1 1 "
		CALL MAKE_FLOOR_LINE,41, " 1111111 1 121 6 1 111 111111111 1 1 3 1211111 1 "
		CALL MAKE_FLOOR_LINE,42, " 1     1   1 1   1 2 1     1 2 1 1 1 2 1       1 "
		CALL MAKE_FLOOR_LINE,43, " 1 11121 111 11111 1 111 3 1 1 1 1 1 1 11111 111 "
		CALL MAKE_FLOOR_LINE,44, " 1 2 1   1   1     1   1 2   1 1 1 2 1       2   "
		CALL MAKE_FLOOR_LINE,45, " 1 3 111 1 1 1 12111 1 11111 1 1 1 111111121 111 "
		CALL MAKE_FLOOR_LINE,46, " 1       1 2 1       1       1 1 1             1 "
		CALL MAKE_FLOOR_LINE,47, " 111111121 1111111211111111111 1 111112111111121 "
		CALL MAKE_FLOOR_LINE,48, "                                                 "
		
		;CALL SET_TILE, 11 , 45 , 던전플래그:(FLAG:현던전):27 , 0 , 5014
		;700 ��
		;701 MAG
		;702 코어실드
		;703 MAG
		;704 ��
		;705 화염의곡옥
		
	CASE 8
	;１階
		FLAG:최대X = 49
		FLAG:최대Y = 49
;								            1         2         3         4         
;								  0123456789012345678901234567890123456789012345678 
		CALL MAKE_FLOOR_LINE,0,  "                                                 "
		CALL MAKE_FLOOR_LINE,1,  " 121 11111111111 114 4 4   11421 1111111111111 1 "
		CALL MAKE_FLOOR_LINE,2,  "   1 1     1   1 1   2 1 g 1   1 1       1     1 "
		CALL MAKE_FLOOR_LINE,3,  " 111 1 3 1 1 321 1241111111124 1 1 11111 127 111 "
		CALL MAKE_FLOOR_LINE,4,  " 1   1 2 1 1     1     2 1     1 1   A 1 1     1 "
		CALL MAKE_FLOOR_LINE,5,  " 121 111 1 11111 11111 4 1 1 111 1 111 1 111<1 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 1     1   1 2 2 1 2   1 2 1 2 1 1   1     1 1 "
		CALL MAKE_FLOOR_LINE,7,  " 1 11111 111 1 1 4 4 T 421 411 4 1 1 1 11111 1 1 "
		CALL MAKE_FLOOR_LINE,8,  " 1     1   1 1 1         1       1 1 1   1   1 1 "
		CALL MAKE_FLOOR_LINE,9,  " 1 127 111 1 1 11111 111 1 11111 1 1 111 1 111 1 "
		CALL MAKE_FLOOR_LINE,10, " 1 1   1 2 1 2       1 2 1 1   1 V 1   1 V 1   1 "
		CALL MAKE_FLOOR_LINE,11, " 1 111 1 1 11111111111 1 4 123 1 1 111 11111 111 "
		CALL MAKE_FLOOR_LINE,12, " 1   1   1 1     1 2 1   2     1 1   1         1 "
		CALL MAKE_FLOOR_LINE,13, " 111 11111 1 111 1 7 111 1 11111 111 111111111<1 "
		CALL MAKE_FLOOR_LINE,14, "   1       1 2 1     1   1 2       1           1 "
		CALL MAKE_FLOOR_LINE,15, " 1211111111111 11111 1211111<11127 1111111>11111 "
		CALL MAKE_FLOOR_LINE,16, "                                                 "
		CALL MAKE_FLOOR_LINE,17, " 111111111111111                 1111111 11111 1 "
		CALL MAKE_FLOOR_LINE,18, " 1   2         1                 1     1 1   2 2 "
		CALL MAKE_FLOOR_LINE,19, " 1 1 11111111121                 121 6 1 1 1 7 1 "
		CALL MAKE_FLOOR_LINE,20, " 1 1 1       1 1                 1   2 1 1 2   1 "
		CALL MAKE_FLOOR_LINE,21, " 1 1 1 11111 1 1                 111 111 1 11111 "
		CALL MAKE_FLOOR_LINE,22, " 1 1 1 1   1 1 1                   1     1 1   1 "
		CALL MAKE_FLOOR_LINE,23, " 1 1 121 7 121 1                 1 11111 1 1 1 1 "
		CALL MAKE_FLOOR_LINE,24, " 1 1 1 1 2 1 1 1                 1     1 1 1 1 1 "
		CALL MAKE_FLOOR_LINE,25, " 1 1 1 11111 1 1                 11111 1 121 1 1 "
		CALL MAKE_FLOOR_LINE,26, "   1 1       1 1                 1   1 2     1 1 "
		CALL MAKE_FLOOR_LINE,27, " 111211111 111 1                 121 111 11111 1 "
		CALL MAKE_FLOOR_LINE,28, " 1           2 1                 1 1   1 1 2   1 "
		CALL MAKE_FLOOR_LINE,29, " 1 11111111111 1                 1 1 7 1 1 7 1 1 "
		CALL MAKE_FLOOR_LINE,30, " 1   1         1                 2 1 2 1 1   2 1 "
		CALL MAKE_FLOOR_LINE,31, " 11121 111111111                 1 111 1 1111111 "
		CALL MAKE_FLOOR_LINE,32, " 1   1 1                                         "
		CALL MAKE_FLOOR_LINE,33, " 1 7 1 1 1>111 72111>11111111111 1111111 1111111 "
		CALL MAKE_FLOOR_LINE,34, "   2 1 1 1 1         2 1   1   1 1     1   1   1 "
		CALL MAKE_FLOOR_LINE,35, " 111 1 1 1 1 111 121 1 1 1 1 7 1 1 123 11121 1 1 "
		CALL MAKE_FLOOR_LINE,36, " 1   1 1 1 1   1 1 1 1 2 1 1 2 1 1 1   1   1 1 2 "
		CALL MAKE_FLOOR_LINE,37, " 1 111 1 1 111>1 1 1 1 4 1 111 121 111 1 111 1 3 "
		CALL MAKE_FLOOR_LINE,38, " 1   2 1 1     1 1   1 1 1     1   1   1     1   "
		CALL MAKE_FLOOR_LINE,39, " 1111111 111 111 11121 1 1111111 111 11111 72111 "
		CALL MAKE_FLOOR_LINE,40, "           A V         1         1   1   1     1 "
		CALL MAKE_FLOOR_LINE,41, " 111111111 1 1 7 4 4 4 11111112T 1 111 1 1 11121 "
		CALL MAKE_FLOOR_LINE,42, " 1       1 1 1 2 2 2 2 1 2 2 1   1     1 2   1 1 "
		CALL MAKE_FLOOR_LINE,43, " 1 11111 1 1 111 1111111 4 4 124 12111111111 1 1 "
		CALL MAKE_FLOOR_LINE,44, " 1     1 V 1   1 1   111     1   1     1       1 "
		CALL MAKE_FLOOR_LINE,45, " 11111 1111111 1 4 421111124 124 11123 1 11111 1 "
		CALL MAKE_FLOOR_LINE,46, " 1 A           1 2   1 g 1   1   1     1 1   2 1 "
		CALL MAKE_FLOOR_LINE,47, " 1 1111111111111 1 421   124 124 1 1111121 11111 "
		CALL MAKE_FLOOR_LINE,48, "                                                 "
		
		;カオス街이벤트
		;CALL SET_TILE, 27 , 5 , 0 , 0 , 0114
		;ロウ街이벤트
		;CALL SET_TILE, 17 , 47 , 0 , 0 , 0124
		;ラーマ이벤트(L)
		;CALL SET_TILE, 13 , 45 , 0 , 0 , 0134
		;라바나이벤트(C)
		;CALL SET_TILE, 45 , 3 , 0 , 0 , 0144
		;宝
		;800 소마
		;801 ��
		;802 MAG
		;803 눈속임의구슬
		;804 ��
		;805 MAG
		
	CASE 9
	;２階
		FLAG:최대X = 33
		FLAG:최대Y = 33
;								            1         2         3   
;								  012345678901234567890123456789012 
		CALL MAKE_FLOOR_LINE,0,  "                                 "
		CALL MAKE_FLOOR_LINE,1,  " 1111111211111 121 111 121111111 "
		CALL MAKE_FLOOR_LINE,2,  " 1           1 1 1   2 1 1     1 "
		CALL MAKE_FLOOR_LINE,3,  " 1 11111 121 1 1 1111111 1 1>1 1 "
		CALL MAKE_FLOOR_LINE,4,  " 1 1   1   1 2 1       1 1 A V 1 "
		CALL MAKE_FLOOR_LINE,5,  " 1 121 121 11111 11111 1 1 1 1>1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 1     1       1 2 1   V A     "
		CALL MAKE_FLOOR_LINE,7,  " 1 11111 111111121 1 111 1111111 "
		CALL MAKE_FLOOR_LINE,8,  " 2     2               2       2 "
		CALL MAKE_FLOOR_LINE,9,  " 1111111 1111111 1111111 1111111 "
		CALL MAKE_FLOOR_LINE,10, " 1 2 1   1     1 1       1   2 1 "
		CALL MAKE_FLOOR_LINE,11, " 1 1 1 1 1 111 1 1>11111>121 7 1 "
		CALL MAKE_FLOOR_LINE,12, " 2 1 2 1 1 2 1 1 1       1 1   1 "
		CALL MAKE_FLOOR_LINE,13, " 1 1 111 1 3 1 1>1111121 1 111 1 "
		CALL MAKE_FLOOR_LINE,14, "   1   1 1   V 1 1       1     1 "
		CALL MAKE_FLOOR_LINE,15, " 12111 1 111111C 1<11111<1111111 "
		CALL MAKE_FLOOR_LINE,16, "     2 2 1111111                 "
		CALL MAKE_FLOOR_LINE,17, " 1111111 C11111111111111 1111111 "
		CALL MAKE_FLOOR_LINE,18, " 1     1 1     111     1 1   A 1 "
		CALL MAKE_FLOOR_LINE,19, " 1 111 1 1 111 111 123 1 1 3 1 1 "
		CALL MAKE_FLOOR_LINE,20, " 1 1 2 1 1 2 1 111 1   1 1 2 1 1 "
		CALL MAKE_FLOOR_LINE,21, " 1 1 111 1 1 1 111 111>1 1 111 1 "
		CALL MAKE_FLOOR_LINE,22, " 1   1 2 1   V 111     1 1     1 "
		CALL MAKE_FLOOR_LINE,23, " 111 1 1 111111C11111C11<11C1111 "
		CALL MAKE_FLOOR_LINE,24, " 1       111111111111111         "
		CALL MAKE_FLOOR_LINE,25, " 1 11111 C1111111111111111111111 "
		CALL MAKE_FLOOR_LINE,26, " 1 1   1 1     111     111     1 "
		CALL MAKE_FLOOR_LINE,27, " 121 6G1 1 111 111 111 C11<111 1 "
		CALL MAKE_FLOOR_LINE,28, " 1     1 1 2 1 111 1 2 111   1 1 "
		CALL MAKE_FLOOR_LINE,29, " 1 92911 1 1 1 111 1 1 111 321 1 "
		CALL MAKE_FLOOR_LINE,30, " 1       1   V 111 V   111     1 "
		CALL MAKE_FLOOR_LINE,31, " 1111111 11C11111C11111111111111 "
		CALL MAKE_FLOOR_LINE,32, "                                 "
		
		;CALL SET_TILE, 3 , 29 , 던전플래그:(FLAG:현던전):16 , 0 , 0064
		;CALL SET_TILE, 23 , 13 , 던전플래그:(FLAG:현던전):28 , 0 , 5014
		
		;宝
		;900다이아몬드
		;901아쿠아마린
		;902 天の御검
		;903 아메지스트
		
		;9이벤트
		;900 우리엘？ ;메기도アーク城に居るべきか
		;901 우리엘前の扉

	CASE 10
	;３階
		FLAG:최대X = 33
		FLAG:최대Y = 33
;								            1         2         3   
;								  012345678901234567890123456789012
		CALL MAKE_FLOOR_LINE,0,  "                                 "
		CALL MAKE_FLOOR_LINE,1,  " 111111111111121111111 11111 111 "
		CALL MAKE_FLOOR_LINE,2,  " 1         2   1       2   2 2 1 "
		CALL MAKE_FLOOR_LINE,3,  " 12111 1 1111111 11121 111 3 1 1 "
		CALL MAKE_FLOOR_LINE,4,  "     1 1 1     2 1   1   1   1 1 "
		CALL MAKE_FLOOR_LINE,5,  " 121 121 1 111 111 11111 11111 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 1 1 1 2   1   2 1   1   2   1 "
		CALL MAKE_FLOOR_LINE,7,  " 1 1 1 11111211111 1 6 11111 111 "
		CALL MAKE_FLOOR_LINE,8,  " 1 1 2           1 1 G   1     1 "
		CALL MAKE_FLOOR_LINE,9,  " 1 111 1       3 1 1 1 9 1 11121 "
		CALL MAKE_FLOOR_LINE,10, " 1     1   P   1 1   1 2 1   1 1 "
		CALL MAKE_FLOOR_LINE,11, " 1111111  P1P  L 111 1 9 123 1 1 "
		CALL MAKE_FLOOR_LINE,12, " 1     1  P1P  L     2 1     1 1 "
		CALL MAKE_FLOOR_LINE,13, " 121 1 1  P1P  L 1211111 1 111 1 "
		CALL MAKE_FLOOR_LINE,14, " 1 1 2 1  P1P  1 1       1 2   1 "
		CALL MAKE_FLOOR_LINE,15, " 1 111 1  P1P  w 1111111111111 1 "
		CALL MAKE_FLOOR_LINE,16, "     1 1  P1P                    "
		CALL MAKE_FLOOR_LINE,17, " 123 1 1  P1P                    "
		CALL MAKE_FLOOR_LINE,18, " 1   1    P1PPPPPPPPPPPP   PPP   "
		CALL MAKE_FLOOR_LINE,19, " 1 111 1  P1111111111111P P111P  "
		CALL MAKE_FLOOR_LINE,20, " 1   1 1  P1PPPPPPPPPPP1P P1PP   "
		CALL MAKE_FLOOR_LINE,21, " 111 121  P1P         P1P P1P    "
		CALL MAKE_FLOOR_LINE,22, " 2 1   1  P1P      P  P1P P1P    "
		CALL MAKE_FLOOR_LINE,23, " 1 11111  P1P     PwP P1P P1P    "
		CALL MAKE_FLOOR_LINE,24, " 1        P1PPPPPPP1P P1PPP1PP   "
		CALL MAKE_FLOOR_LINE,25, " 1 11111  P111111111P P1111111P  "
		CALL MAKE_FLOOR_LINE,26, " 1 1   1   PPPPPPPP1P  PPPPPPP   "
		CALL MAKE_FLOOR_LINE,27, " 1 127 1          P1P            "
		CALL MAKE_FLOOR_LINE,28, " 1 1       PPPPPPPP1PPPPPPPPPP   "
		CALL MAKE_FLOOR_LINE,29, " 1 11111  P1111111111111111111P  "
		CALL MAKE_FLOOR_LINE,30, " 1     2   PPPPPPPPPPPPPPPPPPP   "
		CALL MAKE_FLOOR_LINE,31, " 1111111                         "
		CALL MAKE_FLOOR_LINE,32, "                                 "
		
		;CALL SET_TILE, 23 , 9 , 던전플래그:(FLAG:현던전):17 , 0 , 0074
		;宝
		;1000 에메랄드
		;1001 메기도파이어の代わりの何か총
		;1002 진주
		;1003가넷
		
		;9이벤트
		;1000 가브리엘？
		;1001 가브리엘前の扉
		
	CASE 11
	;４階
		FLAG:최대X = 25
		FLAG:최대Y = 25
;								            1         2    
;								  0123456789012345678901234
		CALL MAKE_FLOOR_LINE,0,  "                         "
		CALL MAKE_FLOOR_LINE,1,  " CCC 11w 1 9 g 1111C 1 1 "
		CALL MAKE_FLOOR_LINE,2,  " 111     1 2 1 1 2 C 1 1 "
		CALL MAKE_FLOOR_LINE,3,  " 111111111 9 G 1 7 C w 1 "
		CALL MAKE_FLOOR_LINE,4,  " 1   1   1 1 1 1   1   1 "
		CALL MAKE_FLOOR_LINE,5,  " 1 w C 1 1 121 111111111 "
		CALL MAKE_FLOOR_LINE,6,  " 1 1 C 1 1 1   1111111   "
		CALL MAKE_FLOOR_LINE,7,  " 1 1 C w 1 1 1111C1111 1 "
		CALL MAKE_FLOOR_LINE,8,  " 1   1   1 1 1 A C A 1 1 "
		CALL MAKE_FLOOR_LINE,9,  " 111111111 1 1 1 C 1 1 w "
		CALL MAKE_FLOOR_LINE,10, "       111 2 1 1 1 1 1   "
		CALL MAKE_FLOOR_LINE,11, " g1111 C111111 1 1 1 111 "
		CALL MAKE_FLOOR_LINE,12, "     1 C     1   1 1     "
		CALL MAKE_FLOOR_LINE,13, " 111 1 C 11w 12w 1 1111g "
		CALL MAKE_FLOOR_LINE,14, " A 1 1 1     1   1       "
		CALL MAKE_FLOOR_LINE,15, " 1 1 1 11111111111111CCC "
		CALL MAKE_FLOOR_LINE,16, " 1 1 V 111   1     1   1 "
		CALL MAKE_FLOOR_LINE,17, " w 1111111 6 1<111 1 1 1 "
		CALL MAKE_FLOOR_LINE,18, "   1     1 2 1     1 1 1 "
		CALL MAKE_FLOOR_LINE,19, " w11 11w 1 1 11CCC11 w 1 "
		CALL MAKE_FLOOR_LINE,20, "   1     1 1 1     1   2 "
		CALL MAKE_FLOOR_LINE,21, " w 11CCC11 1 1 w1w 11w 3 "
		CALL MAKE_FLOOR_LINE,22, " 1 1     1 1 1     1     "
		CALL MAKE_FLOOR_LINE,23, " 1 1 11w 1 g 1111111 11w "
		CALL MAKE_FLOOR_LINE,24, "                         "
		;CALL SET_TILE, 11 , 1 , 던전플래그:(FLAG:현던전):18 , 0 , 0084
		;宝
		;1100 聖なるの탄환*20
		
		;이벤트
		;1100 라파엘？　;메기도アークに居ると思うので別の人に
		;1101 라파엘前の扉
		
		
	CASE 12
	;５階
		FLAG:최대X = 17
		FLAG:최대Y = 17
;								            1      
;								  01234567890123456
		CALL MAKE_FLOOR_LINE,0,  "                 "
		CALL MAKE_FLOOR_LINE,1,  " 111111111111111 "
		CALL MAKE_FLOOR_LINE,2,  " 1         2   1 "
		CALL MAKE_FLOOR_LINE,3,  " 121 121111115 1 "
		CALL MAKE_FLOOR_LINE,4,  " 1 1 1       1 1 "
		CALL MAKE_FLOOR_LINE,5,  " 1 5 1111111 1 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 1       1 1 1 "
		CALL MAKE_FLOOR_LINE,7,  " 1 1 11111 1 121 "
		CALL MAKE_FLOOR_LINE,8,  " 2 1 2   1 1   1 "
		CALL MAKE_FLOOR_LINE,9,  " 3 11111 12123 1 "
		CALL MAKE_FLOOR_LINE,10, "   1       1   1 "
		CALL MAKE_FLOOR_LINE,11, " 121 11111 1 121 "
		CALL MAKE_FLOOR_LINE,12, " 1   1 2 1 1   1 "
		CALL MAKE_FLOOR_LINE,13, " 1 6 1 7 C 123 1 "
		CALL MAKE_FLOOR_LINE,14, " 1 2 1   1     1 "
		CALL MAKE_FLOOR_LINE,15, " 111 11111111111 "
		CALL MAKE_FLOOR_LINE,16, "                 "
		;宝
		;1200 격뢰의곡옥
		;1201 열화의곡옥
		;1202 데미지罠
		
	CASE 13
	;６階
		FLAG:최대X = 17
		FLAG:최대Y = 17
;								            1      
;								  01234567890123456
		CALL MAKE_FLOOR_LINE,0,  "                 "
		CALL MAKE_FLOOR_LINE,1,  " 32CCC111C11111C "
		CALL MAKE_FLOOR_LINE,2,  "   CCC111C11111C "
		CALL MAKE_FLOOR_LINE,3,  " CCCCC111CCCCCCC "
		CALL MAKE_FLOOR_LINE,4,  " C111C111C111C 2 "
		CALL MAKE_FLOOR_LINE,5,  " C111CCCCC111C 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1111CCC11C11C 1 "
		CALL MAKE_FLOOR_LINE,7,  " 1111CCC111CCC 1 "
		CALL MAKE_FLOOR_LINE,8,  " 1 2 CCC111CCC 1 "
		CALL MAKE_FLOOR_LINE,9,  " C 1 CCCCCCCCC 1 "
		CALL MAKE_FLOOR_LINE,10, " C 1   11CCC   1 "
		CALL MAKE_FLOOR_LINE,11, " C 111211CCC 111 "
		CALL MAKE_FLOOR_LINE,12, " C 2   1C11C   1 "
		CALL MAKE_FLOOR_LINE,13, " C 7 32C111C 621 "
		CALL MAKE_FLOOR_LINE,14, " 1     C111C     "
		CALL MAKE_FLOOR_LINE,15, " 11CCCCC111CCC23 "
		CALL MAKE_FLOOR_LINE,16, "                 "
		;宝
		;1300 반혼향
		;1301 극한의곡옥
		;1302 파마화살

	CASE 14
	;７階
		FLAG:최대X = 17
		FLAG:최대Y = 17
;								            1      
;								  01234567890123456
		CALL MAKE_FLOOR_LINE,0,  "                 "
		CALL MAKE_FLOOR_LINE,1,  " 3 1111111 11111 "
		CALL MAKE_FLOOR_LINE,2,  " 2 1   9   2   1 "
		CALL MAKE_FLOOR_LINE,3,  " 1 121 2 111 121 "
		CALL MAKE_FLOOR_LINE,4,  " 1   1 9 1   1 1 "
		CALL MAKE_FLOOR_LINE,5,  " 1 3 1 G 1 321 1 "
		CALL MAKE_FLOOR_LINE,6,  " 1 2 1 1 1     1 "
		CALL MAKE_FLOOR_LINE,7,  " 1 1 1 1 11121 1 "
		CALL MAKE_FLOOR_LINE,8,  " 1 1 2 1     1 1 "
		CALL MAKE_FLOOR_LINE,9,  " 1 111 1 11111 1 "
		CALL MAKE_FLOOR_LINE,10, " 1 1   1 1     1 "
		CALL MAKE_FLOOR_LINE,11, " 1 1 621 1 11111 "
		CALL MAKE_FLOOR_LINE,12, " 1 1     1 1   1 "
		CALL MAKE_FLOOR_LINE,13, " 1 1111111 127 1 "
		CALL MAKE_FLOOR_LINE,14, " 1         1   1 "
		CALL MAKE_FLOOR_LINE,15, " 111111111111111 "
		CALL MAKE_FLOOR_LINE,16, "                 "
		
		;CALL SET_TILE, 7 , 3 , 던전플래그:(FLAG:현던전):19 , 0 , 0094
		;宝
		;1400 로자리오
		;1401 소마
		;1402 질서의돌

	CASE 15
	;８階
		FLAG:최대X = 9
		FLAG:최대Y = 9
;								           
;								  012345678
		CALL MAKE_FLOOR_LINE,0,  "         "
		CALL MAKE_FLOOR_LINE,1,  " 1111111 "
		CALL MAKE_FLOOR_LINE,2,  " 1   1   "
		CALL MAKE_FLOOR_LINE,3,  " 1 1 1 9 "
		CALL MAKE_FLOOR_LINE,4,  " 1 2 1 2 "
		CALL MAKE_FLOOR_LINE,5,  " 11111 9 "
		CALL MAKE_FLOOR_LINE,6,  " 1   2 1 "
		CALL MAKE_FLOOR_LINE,7,  " 127 111 "
		CALL MAKE_FLOOR_LINE,8,  "         "
		
		;CALL SET_TILE, 7 , 3 , 던전플래그:(FLAG:현던전):20 , 0 , 0104

		
	CASE 16
	;外周部
		FLAG:최대X = 60
		FLAG:최대Y = 60
;								            1         2         3         4         5
;								  012345678901234567890123456789012345678901234567890123456789
		CALL MAKE_FLOOR_LINE,0,  "sssssssssssssssssssssssssssss00sssssssssssssssssssssssssssss"
		CALL MAKE_FLOOR_LINE,1,  "ssssssssssssssssssss11111111188111111111ssssssssssssssssssss"
		CALL MAKE_FLOOR_LINE,2,  "sssssssssssssssssss1111111111111111111111sssssssssssssssssss"
		CALL MAKE_FLOOR_LINE,3,  "ssssssssssssssssss111111111111111111111111ssssssssssssssssss"
		CALL MAKE_FLOOR_LINE,4,  "sssssssssssssssss11111111111111111111111111sssssssssssssssss"
		CALL MAKE_FLOOR_LINE,5,  "ssssssssssssssss11111111111   11111111111111ssssssssssssssss"
		CALL MAKE_FLOOR_LINE,6,  "sssssssssssssss1111111111ss   111ss1111111111sssssssssssssss"
		CALL MAKE_FLOOR_LINE,7,  "ssssssssssssss1111111111sss   111sss1111111111ssssssssssssss"
		CALL MAKE_FLOOR_LINE,8,  "sssssssssssss1111111111ssss g 111ssss1111111111sssssssssssss"
		CALL MAKE_FLOOR_LINE,9,  "ssssssssssss1111111111sssss111111sssss1111111111ssssssssssss"
		CALL MAKE_FLOOR_LINE,10, "sssssssssss1111111111ssssss111111ssssss1111111111sssssssssss"
		CALL MAKE_FLOOR_LINE,11, "ssssssssss1111111111sssssss111111sssssss1111111111ssssssssss"
		CALL MAKE_FLOOR_LINE,12, "sssssssss1111111111ssssssss1    1ssssssss1111111111sssssssss"
		CALL MAKE_FLOOR_LINE,13, "ssssssss1111111111sssssss11      11sssssss1111111111ssssssss"
		CALL MAKE_FLOOR_LINE,14, "sssssss111111111111sssss11  1111  11sssss111111111111sssssss"
		CALL MAKE_FLOOR_LINE,15, "ssssss11111111111111sss11  111111  11sss11111111111111ssssss"
		CALL MAKE_FLOOR_LINE,16, "sssss1111111111111111s11  111   11  11s1111111111111111sssss"
		CALL MAKE_FLOOR_LINE,17, "ssss1111111111111111111  1111   111  1111111111111111111ssss"
		CALL MAKE_FLOOR_LINE,18, "sss1111111111s11111111  11111   1111  11111111s1111111111sss"
		CALL MAKE_FLOOR_LINE,19, "ss11111   11sss111111  111111 g 11111  111111sss11   11111ss"
		CALL MAKE_FLOOR_LINE,20, "s111111   1sssss1111  1111111111111111  1111sssss1   111111s"
		CALL MAKE_FLOOR_LINE,21, "s111111   sssssss11  111            111  11sssssss   111111s"
		CALL MAKE_FLOOR_LINE,22, "s111111   ssssss11  111              111  11ssssss   111111s"
		CALL MAKE_FLOOR_LINE,23, "s111111   sssss11  111                111  11sssss   111111s"
		CALL MAKE_FLOOR_LINE,24, "s111111   ssss11  111                  111  11ssss   111111s"
		CALL MAKE_FLOOR_LINE,25, "s11111s   sss11  1111                  1111  11sss   s11111s"
		CALL MAKE_FLOOR_LINE,26, "s11111s   sss1  11111                  11111  1sss   s11111s"
		CALL MAKE_FLOOR_LINE,27, "s111111   111  111111                  111111  111   111111s"
		CALL MAKE_FLOOR_LINE,28, "s111111   11  111   1                  1   111  11   111111s"
		CALL MAKE_FLOOR_LINE,29, "s111111   11  111   1                  1   111  11 9 111111s"
		CALL MAKE_FLOOR_LINE,30, "s111111 9 11  111   1                  1   111  11111111111s"
		CALL MAKE_FLOOR_LINE,31, "s11111111111  111 g 1                  1 g 111  11111111111s"
		CALL MAKE_FLOOR_LINE,32, "s111111111111  111111                  111111  111111111111s"
		CALL MAKE_FLOOR_LINE,33, "s1111ssssssss1  11111                  11111  1sssssss11111s"
		CALL MAKE_FLOOR_LINE,34, "s1111ssssssss11  11111                11111  11sssssss11111s"
		CALL MAKE_FLOOR_LINE,35, "s111111sssssss11  11111              11111  11sssssss111111s"
		CALL MAKE_FLOOR_LINE,36, "s1111111sssssss11  11111            11111  11sssssss1111111s"
		CALL MAKE_FLOOR_LINE,37, "s11111111sssssss11  11111111111111111111  11sssssss11111111s"
		CALL MAKE_FLOOR_LINE,38, "s111111111sssssss11  1111111   11111111  11sssssss111111111s"
		CALL MAKE_FLOOR_LINE,39, "s1111111111sssss1111  111111   1111111  1111sssss1111111111s"
		CALL MAKE_FLOOR_LINE,40, "ss1111111111sss111111  11111   111111  111111sss1111111111ss"
		CALL MAKE_FLOOR_LINE,41, "sss1111111111s11111111  1111 g 11111  11111111s1111111111sss"
		CALL MAKE_FLOOR_LINE,42, "ssss1111111111111111111  1111111111  1111111111111111111ssss"
		CALL MAKE_FLOOR_LINE,43, "sssss1111111111111111s11  11111111  11s1111111111111111sssss"
		CALL MAKE_FLOOR_LINE,44, "ssssss11111111111111sss11  111111  11sss11111111111111ssssss"
		CALL MAKE_FLOOR_LINE,45, "sssssss111111111111sssss11  1111  11sssss111111111111sssssss"
		CALL MAKE_FLOOR_LINE,46, "ssssssss1111111111sssssss11      11sssssss1111111111ssssssss"
		CALL MAKE_FLOOR_LINE,47, "sssssssss1111111111ssssssss1    1ssssssss1111111111sssssssss"
		CALL MAKE_FLOOR_LINE,48, "ssssssssss1111111111sssssss111111sssssss1111111111ssssssssss"
		CALL MAKE_FLOOR_LINE,49, "sssssssssss1111111111ssssss111111ssssss1111111111sssssssssss"
		CALL MAKE_FLOOR_LINE,50, "ssssssssssss1111111111sssss111111sssss1111111111ssssssssssss"
		CALL MAKE_FLOOR_LINE,51, "sssssssssssss1111111111ssss111   ssss1111111111sssssssssssss"
		CALL MAKE_FLOOR_LINE,52, "ssssssssssssss1111111111sss111   sss1111111111ssssssssssssss"
		CALL MAKE_FLOOR_LINE,53, "sssssssssssssss1111111111ss111   ss1111111111sssssssssssssss"
		CALL MAKE_FLOOR_LINE,54, "ssssssssssssssss11111111111111 g 11111111111ssssssssssssssss"
		CALL MAKE_FLOOR_LINE,55, "sssssssssssssssss11111111111111111111111111sssssssssssssssss"
		CALL MAKE_FLOOR_LINE,56, "ssssssssssssssssss111111111111111111111111ssssssssssssssssss"
		CALL MAKE_FLOOR_LINE,57, "sssssssssssssssssss1111111111111111111111sssssssssssssssssss"
		CALL MAKE_FLOOR_LINE,58, "ssssssssssssssssssss11111111188111111111ssssssssssssssssssss"
		CALL MAKE_FLOOR_LINE,59, "sssssssssssssssssssssssssssss00sssssssssssssssssssssssssssss"
		
		;던전플래그:96:40 == 0の場合、X == 29,Y == 45にイベントを設置
		SIF 던전플래그:96:40 == 0
			CALL SET_TILE, 29 , 45 , 던전플래그:96:40 , 0 , 4
	
		IF 던전플래그:96:20 ||던전플래그:96:11
			CALL MAKE_FLOOR_LINE,2,  "ssss111ssssssssssss1111111111111111111111sssssssssssssssssss"
			CALL MAKE_FLOOR_LINE,3,  "sss11011ssssssssss111111111111111111111111ssssssssssssssssss"
			CALL MAKE_FLOOR_LINE,4,  "sss1000111111111111111111111111111111111111sssssssssssssssss"
			CALL MAKE_FLOOR_LINE,5,  "sss11091ssssssss11111111111   11111111111111ssssssssssssssss"
			CALL MAKE_FLOOR_LINE,6,  "ssss1111sssssss1111111111ss   111ss1111111111sssssssssssssss"
		ENDIF
		
;原作版を予備に
;		CALL MAKE_FLOOR_LINE,0,  "ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,1,  "ssssssssssssssssssss11111111111111111111ssssssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,2,  "sssssssssssssssssss1111111111111111111111sssssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,3,  "ssssssssssssssssss111111111111111111111111ssssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,4,  "sssssssssssssssss11111111111111111111111111sssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,5,  "ssssssssssssssss11111111111   11111111111111ssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,6,  "sssssssssssssss1111111111ss   111ss1111111111sssssssssssssss"
;		CALL MAKE_FLOOR_LINE,7,  "ssssssssssssss1111111111sss   111sss1111111111ssssssssssssss"
;		CALL MAKE_FLOOR_LINE,8,  "sssssssssssss1111111111ssss g 111ssss1111111111sssssssssssss"
;		CALL MAKE_FLOOR_LINE,9,  "ssssssssssss1111111111sssss111111sssss1111111111ssssssssssss"
;		CALL MAKE_FLOOR_LINE,10, "sssssssssss1111111111ssssss111111ssssss1111111111sssssssssss"
;		CALL MAKE_FLOOR_LINE,11, "ssssssssss1111111111sssssss111111sssssss1111111111ssssssssss"
;		CALL MAKE_FLOOR_LINE,12, "sssssssss1111111111ssssssss1    1ssssssss1111111111sssssssss"
;		CALL MAKE_FLOOR_LINE,13, "ssssssss1111111111sssssss11      11sssssss1111111111ssssssss"
;		CALL MAKE_FLOOR_LINE,14, "sssssss111111111111sssss11  1111  11sssss111111111111sssssss"
;		CALL MAKE_FLOOR_LINE,15, "ssssss11111111111111sss11  111111  11sss11111111111111ssssss"
;		CALL MAKE_FLOOR_LINE,16, "sssss1111111111111111s11  111   11  11s1111111111111111sssss"
;		CALL MAKE_FLOOR_LINE,17, "ssss1111111111111111111  1111   111  1111111111111111111ssss"
;		CALL MAKE_FLOOR_LINE,18, "sss1111111111s11111111  11111   1111  11111111s1111111111sss"
;		CALL MAKE_FLOOR_LINE,19, "ss1111111111sss111111  111111 g 11111  111111sss1111111111ss"
;		CALL MAKE_FLOOR_LINE,20, "s1111111111sssss1111  1111111111111111  1111sssss1111111111s"
;		CALL MAKE_FLOOR_LINE,21, "s111111111sssssss11  111            111  11sssssss111111111s"
;		CALL MAKE_FLOOR_LINE,22, "s11111111sssssss11  111              111  11sssssss11111111s"
;		CALL MAKE_FLOOR_LINE,23, "s1111111sssssss11  111                111  11sssssss1111111s"
;		CALL MAKE_FLOOR_LINE,24, "s111111sssssss11  111                  111  11sssssss111111s"
;		CALL MAKE_FLOOR_LINE,25, "s11111sssssss11  1111                  1111  11sssssss11111s"
;		CALL MAKE_FLOOR_LINE,26, "s11111sssssss1  11111                  11111  1sssssss11111s"
;		CALL MAKE_FLOOR_LINE,27, "s111111111111  111111                  111111  111111111111s"
;		CALL MAKE_FLOOR_LINE,28, "s11111111111  111   1                  1   111  11111111111s"
;		CALL MAKE_FLOOR_LINE,29, "s11111111111  111   1                  1   111  11111111111s"
;		CALL MAKE_FLOOR_LINE,30, "s11111111111  111   1                  1   111  11111111111s"
;		CALL MAKE_FLOOR_LINE,31, "s11111111111  111 g 1                  1 g 111  11111111111s"
;		CALL MAKE_FLOOR_LINE,32, "s111111111111  111111                  111111  111111111111s"
;		CALL MAKE_FLOOR_LINE,33, "s11111sssssss1  11111                  11111  1sssssss11111s"
;		CALL MAKE_FLOOR_LINE,34, "s11111sssssss11  11111                11111  11sssssss11111s"
;		CALL MAKE_FLOOR_LINE,35, "s111111sssssss11  11111              11111  11sssssss111111s"
;		CALL MAKE_FLOOR_LINE,36, "s1111111sssssss11  11111            11111  11sssssss1111111s"
;		CALL MAKE_FLOOR_LINE,37, "s11111111sssssss11  11111111111111111111  11sssssss11111111s"
;		CALL MAKE_FLOOR_LINE,38, "s111111111sssssss11  1111111   11111111  11sssssss111111111s"
;		CALL MAKE_FLOOR_LINE,39, "s1111111111sssss1111  111111   1111111  1111sssss1111111111s"
;		CALL MAKE_FLOOR_LINE,40, "ss1111111111sss111111  11111   111111  111111sss1111111111ss"
;		CALL MAKE_FLOOR_LINE,41, "sss1111111111s11111111  1111 g 11111  11111111s1111111111sss"
;		CALL MAKE_FLOOR_LINE,42, "ssss1111111111111111111  1111111111  1111111111111111111ssss"
;		CALL MAKE_FLOOR_LINE,43, "sssss1111111111111111s11  11111111  11s1111111111111111sssss"
;		CALL MAKE_FLOOR_LINE,44, "ssssss11111111111111sss11  111111  11sss11111111111111ssssss"
;		CALL MAKE_FLOOR_LINE,45, "sssssss111111111111sssss11  1111  11sssss111111111111sssssss"
;		CALL MAKE_FLOOR_LINE,46, "ssssssss1111111111sssssss11      11sssssss1111111111ssssssss"
;		CALL MAKE_FLOOR_LINE,47, "sssssssss1111111111ssssssss1    1ssssssss1111111111sssssssss"
;		CALL MAKE_FLOOR_LINE,48, "ssssssssss1111111111sssssss111111sssssss1111111111ssssssssss"
;		CALL MAKE_FLOOR_LINE,49, "sssssssssss1111111111ssssss111111ssssss1111111111sssssssssss"
;		CALL MAKE_FLOOR_LINE,50, "ssssssssssss1111111111sssss111111sssss1111111111ssssssssssss"
;		CALL MAKE_FLOOR_LINE,51, "sssssssssssss1111111111ssss111   ssss1111111111sssssssssssss"
;		CALL MAKE_FLOOR_LINE,52, "ssssssssssssss1111111111sss111   sss1111111111ssssssssssssss"
;		CALL MAKE_FLOOR_LINE,53, "sssssssssssssss1111111111ss111   ss1111111111sssssssssssssss"
;		CALL MAKE_FLOOR_LINE,54, "ssssssssssssssss11111111111111 g 11111111111ssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,55, "sssssssssssssssss11111111111111111111111111sssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,56, "ssssssssssssssssss111111111111111111111111ssssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,57, "sssssssssssssssssss1111111111111111111111sssssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,58, "ssssssssssssssssssss11111111111111111111ssssssssssssssssssss"
;		CALL MAKE_FLOOR_LINE,59, "ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss"
		
;雰囲気だけ再現。これが限界です……

	CASE 17
	;西の塔
		FLAG:최대X = 21
		FLAG:최대Y = 20
;								           1         2         3         4         5
;								 012345678901234567890123456789012345678901234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"000000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"011111101090101111110"
		CALL MAKE_FLOOR_LINE, 2,"010100101020101010010"
		CALL MAKE_FLOOR_LINE, 3,"010100101090101010010"
		CALL MAKE_FLOOR_LINE, 4,"010100101011101010010"
		CALL MAKE_FLOOR_LINE, 5,"010100111110001000010"
		CALL MAKE_FLOOR_LINE, 6,"0100000000ﾛ0001000010"
		CALL MAKE_FLOOR_LINE, 7,"010011111111111001110"
		CALL MAKE_FLOOR_LINE, 8,"0100100000ﾛ0000001000"
		CALL MAKE_FLOOR_LINE, 9,"0100100100ﾛ0000001000"
		CALL MAKE_FLOOR_LINE,10,"011110011111111111010"
		CALL MAKE_FLOOR_LINE,11,"0010000100ﾛ0000000010"
		CALL MAKE_FLOOR_LINE,12,"001001111111111111110"
		CALL MAKE_FLOOR_LINE,13,"0000000000ﾛ0000001000"
		CALL MAKE_FLOOR_LINE,14,"010011101111111111010"
		CALL MAKE_FLOOR_LINE,15,"0100101010ﾛ0000000010"
		CALL MAKE_FLOOR_LINE,16,"010010101111111111110"
		CALL MAKE_FLOOR_LINE,17,"0100101000ﾛ0000000010"
		CALL MAKE_FLOOR_LINE,18,"011110111111111111110"
		CALL MAKE_FLOOR_LINE,19,"000000000090000000000"
		
	CASE 18
	;東の塔
		FLAG:최대X = 21
		FLAG:최대Y = 20
		
		CALL MAKE_FLOOR_LINE, 0,"000000000000000000000"
		CALL MAKE_FLOOR_LINE, 1,"011111101090101111110"
		CALL MAKE_FLOOR_LINE, 2,"010010101020101001010"
		CALL MAKE_FLOOR_LINE, 3,"010010101090101001010"
		CALL MAKE_FLOOR_LINE, 4,"010010101110101001010"
		CALL MAKE_FLOOR_LINE, 5,"010000100011111001010"
		CALL MAKE_FLOOR_LINE, 6,"0100001000ｶ0000000010"
		CALL MAKE_FLOOR_LINE, 7,"011100111111111110010"
		CALL MAKE_FLOOR_LINE, 8,"0001000000ｶ0000010010"
		CALL MAKE_FLOOR_LINE, 9,"0001000000ｶ0010010010"
		CALL MAKE_FLOOR_LINE,10,"010111111111110011110"
		CALL MAKE_FLOOR_LINE,11,"0100000000ｶ0010000100"
		CALL MAKE_FLOOR_LINE,12,"011111111111111100100"
		CALL MAKE_FLOOR_LINE,13,"0001000000ｶ0000000000"
		CALL MAKE_FLOOR_LINE,14,"010111111111101110010"
		CALL MAKE_FLOOR_LINE,15,"0100000000ｶ0101010010"
		CALL MAKE_FLOOR_LINE,16,"011111111111101010010"
		CALL MAKE_FLOOR_LINE,17,"0100000000ｶ0001010010"
		CALL MAKE_FLOOR_LINE,18,"011111111111111011110"
		CALL MAKE_FLOOR_LINE,19,"000000000090000000000"
		
	CASE 19
	;謎の島
		FLAG:최대X = 15
		FLAG:최대Y = 21
		
		CALL MAKE_FLOOR_LINE, 0,"090000000000000"
		CALL MAKE_FLOOR_LINE, 1,"01<111111111110"
		CALL MAKE_FLOOR_LINE, 2,"01010G0G0G0G010"
		CALL MAKE_FLOOR_LINE, 3,"0C01030303030L0"
		CALL MAKE_FLOOR_LINE, 4,"010200000000010"
		CALL MAKE_FLOOR_LINE, 5,"0L01111111110C0"
		CALL MAKE_FLOOR_LINE, 6,"010100000001010"
		CALL MAKE_FLOOR_LINE, 7,"0501090D<D01050"
		CALL MAKE_FLOOR_LINE, 8,"0101020D0D01010"
		CALL MAKE_FLOOR_LINE, 9,"0C01<D<D0D010L0"
		CALL MAKE_FLOOR_LINE,10,"01010V000A01010"
		CALL MAKE_FLOOR_LINE,11,"0L010D<D0D010C0"
		CALL MAKE_FLOOR_LINE,12,"0101<D0D<D01010"
		CALL MAKE_FLOOR_LINE,13,"05010V0A0A01050"
		CALL MAKE_FLOOR_LINE,14,"01010D<D>D01010"
		CALL MAKE_FLOOR_LINE,15,"0C01<D0D0D010L0"
		CALL MAKE_FLOOR_LINE,16,"0101000A0V01010"
		CALL MAKE_FLOOR_LINE,17,"0L01111111110C0"
		CALL MAKE_FLOOR_LINE,18,"010000000000010"
		CALL MAKE_FLOOR_LINE,19,"051C1L151C1L150"
		CALL MAKE_FLOOR_LINE,20,"000000000000000"
		
		
		
		
		
		
		
		

ENDSELECT

;=======================================================================
;タイル調整
;=======================================================================
;ARG:1、ARG:2はそれぞれX座標とY座標
;ARGはその座標に現在代入されている番号
;0：壁　1：床또는通路　2：扉　3：宝箱　4：이벤트　5：罠　6：上り階段 7：下り階段　8：出口　9：그외特殊処理等
;これらの内、3～9が代入されているマスに、個別の番号を与える処理を実行します。
;この処理を行った後、これらのマスには 「マップ番号*1000 + そのマスがそのマップで左上から数えて何個눈のARG타입のマスか*10 + ARG」が代入されます
;例えば 2003 であった場合、「2番のマップ＝３Ｆで、左上から数えて0個눈の3＝宝箱である」という事を意味しています
;尚、0～2はどのマップにも大量に設置されるので、ここでは기본的に個別の番号を与えません。
;
;何個눈のARG타입のマスなのか、は左上の(0,0)から右まで探し、その後一つ下の段に移って同様に探す、というのを右下まで繰り返して数えます。
@MAKE_FLOOR_LINE_COMMON_96, ARG, ARG:1, ARG:2
#LOCALSIZE 10
;LOCAL:0～9 それぞれ何個눈のARGなのかを記憶しています
;LOCAL:3 宝箱→사용フラグは던전플래그:70~74
;指定された座標が(0,0)である場合、つまり新しいマップを読み込んだ時はLOCALを소거します
SIF ARG:1 == 0 && ARG:2 == 0
	VARSET LOCAL
SELECTCASE ARG
	CASE 3
		;宝箱は多くの場合、開けたフラグが立っていると床を代入します
		;そのマップでどの宝箱を開けたかは、そのマップの宝箱管理用変数の何番눈のビットが立っているかで判断します
		IF GETBIT(던전플래그:(FLAG:현던전):(FLAG:현M+70), LOCAL:3)
			DA:(ARG:1):(ARG:2) = 1
		ELSE
			DA:(ARG:1):(ARG:2) = FLAG:현M *1000 + LOCAL:3 * 10 + 3
		ENDIF
		LOCAL:3++
	CASE 4 TO 9
		DA:(ARG:1):(ARG:2) = FLAG:현M *1000 + LOCAL:ARG * 10 + ARG
		LOCAL:ARG++
	
ENDSELECT

;=======================================================================
;タイル定義
;=======================================================================
@DEFINE_TILES_96, ARGS, ARG, ARG:1
SELECTCASE ARGS
	CASE "G"
		;이벤트扉
		RETURN 12
	CASE "A"
		RETURN 22
	CASE "V"
		RETURN 32
	CASE ">"
		RETURN 42
	CASE "<"
		RETURN 52
	CASE "ﾛ"
		RETURN 102
	CASE "ｶ"
		RETURN 112
	CASE "m"
		;メッセンジャー
		RETURN 14
	CASE "P"
		;落とし穴
		RETURN 15
	CASE "L"
		RETURN 35
		;LとNにHP데미지
		IF ABL:MASTER:속성LC == 3
			RETURN 1
		ELSE
			RETURN 25
		ENDIF
	CASE "C"
		RETURN 45
		;CとNにHP데미지
		IF ABL:MASTER:속성LC == 1
			RETURN 1
		ELSE
			RETURN 25
		ENDIF
	CASE "s"
		;水
		RETURN 39
	CASE "w"
		;ワープゾーン
		RETURN 49
	CASE "g"
		;扉型ワープゾーン
		RETURN 29
ENDSELECT
;=======================================================================
;特殊タイル표시
;TILE_MARK_COMMON_{FLAG:현던전}_X
;=======================================================================
;ARG:1、ARG:2がX座標とY座標
;ARGはそこに代入されている値
;RESULTSに代入した文字がマップに표시されますが、必ず全角1文字分になるようにしてください。そうでないと표시が崩れます。
;@TILE_MARK_COMMON_96_1, ARG, ARG:1, ARG:2
	
@TILE_MARK_COMMON_96_2, ARG, ARG:1, ARG:2
SELECTCASE ARG
	CASE 12
		RESULTS = 扉
	CASE 22
		RESULTS = ↑
	CASE 32
		RESULTS = ↓
	CASE 42
		RESULTS = →
	CASE 52
		RESULTS = ←
	CASE 102
		SETCOLOR COLOR("하늘색")
		IF 던전플래그:96:31 < 2
			RESULTS = ■
		ELSE
			RESULTS = 입
		ENDIF
	CASE 112
		SETCOLOR COLOR("パ赤")
		IF 던전플래그:96:32 < 2
			RESULTS = ■
		ELSE
			RESULTS = 입
		ENDIF
	CASEELSE
		RESULTS = 扉
ENDSELECT

;이벤트タイル特殊표시
;末꼬리の_4は이벤트であることを示す4
@TILE_MARK_COMMON_96_4, ARG , ARG:1 , ARG:2
SELECTCASE ARG
	CASE 14
		;メッセンジャーを緑色で"ｍ"と표시
		SETCOLOR 0x00ff00
		RESULTS = ｍ
	CASEELSE
		;그외이벤트は"！"
		RETURN 1
ENDSELECT

@TILE_MARK_COMMON_96_5, ARG, ARG:1, ARG:2
SELECTCASE ARG
	CASE 15
		RESULTS = 　
	CASE 35
		IF GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2
			RESULTS = 痛
			SETCOLOR COLOR("パ赤")
		ELSE
			RESULTS = □
		ENDIF
	CASE 45
		IF GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2
			RESULTS = 痛
			SETCOLOR COLOR("水色")
		ELSE
			RESULTS = □
		ENDIF
	CASEELSE
		;RESULTS = □
		RETURN 1
		;RESULTS = \@GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2 ?罠#□\@
ENDSELECT
RETURN 0

@TRAP_96
#LOCALSIZE 3
#DIM FALLX
#DIM FALLY
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
	;毒罠
	CASE 0
		CALL DUNGEON_TRAP_POISON, 40
	;落とし穴
	CASE 1
		CALL MESSAGE_WINDOW_D, "", "＞落とし穴だ！"
		TWAIT 1000, 1
		IF FLAG:현X % 2 == 0
			FALLX = FLAG:현X - 1
		ELSE
			FALLX = FLAG:현X
		ENDIF
		IF FLAG:현Y % 2 == 0
			FALLY = FLAG:현Y - 1
		ELSE
			FALLY = FLAG:현Y
		ENDIF
		CALL DUNGEON_WORP_96, FLAG:현M-1, FALLX,  FALLY
	;HP데미지(H)
	CASE 2
		CALL DUNGEON_TRAP_HP, 10 + RAND:11
	;HP데미지(L,N)
	CASE 3
		SIF FLAG:리프트마
			RETURN 1
		LOCAL:1 = 0
		FOR LOCAL,1,7
			IF POS(LOCAL) > -1 && GET_STATE(CFLAG:(POS(LOCAL)):상태이상) != "DYING" && ABL:POS(LOCAL):속성LC != 3
				PRINTFORML %CALLNAME:POS(LOCAL)%は데미지を受けた
				CALL VAR_HP,POS(LOCAL),-MAXBASE:(POS(LOCAL)):ＨＰ*10/100
				LOCAL:1 = 1
			ENDIF
		NEXT
		SIF LOCAL:1
			WAIT
	;HP데미지(C,N)
	CASE 4
		SIF FLAG:리프트마
			RETURN 1
		LOCAL:1 = 0
		FOR LOCAL,1,7
			IF POS(LOCAL) > -1 && GET_STATE(CFLAG:(POS(LOCAL)):상태이상) != "DYING" && ABL:POS(LOCAL):속성LC != 1
				PRINTFORML %CALLNAME:POS(LOCAL)%は데미지を受けた
				CALL VAR_HP,POS(LOCAL),-MAXBASE:(POS(LOCAL)):ＨＰ*10/100
			ENDIF
		NEXT
		SIF LOCAL:1
			WAIT
	;毒罠
	CASEELSE
		CALL DUNGEON_TRAP_POISON, 40
ENDSELECT
RETURN 1


;特殊タイルの표시
;末꼬리の_9は特殊タイルであることを示す9
@TILE_MARK_COMMON_96_9, ARG , ARG:1 , ARG:2
IF FLAG:현X == 0
	RESULTS = □
	RETURN 0
ENDIF
SELECTCASE ARG
	CASE 49
		RESULTS = Ｗ
	CASE 29
		RESULTS = 扉
	CASE 39
		SETCOLOR 0x1010bb
		RESULTS = ミ
	CASEELSE
		;特に설정しない場合、"□"が표시されます
		RESULTS = □
		;RETURN 1
ENDSELECT
SELECTCASE ARG / 10
	CASE 1600,1601,1602,1900
		RESULTS = ↑
	CASE 1,400,501,600,900,1000,1100,1500,1700,1800
		RESULTS = ！
	CASE 1702,1802
		RESULTS = ↓
ENDSELECT

@WARP_96
SELECTCASE FLAG:현M
	CASE 6
		IF FLAG:현X == 9 && FLAG:현Y == 3
			CALL DUNGEON_WORP_96, 6, 13, 13
		ELSEIF FLAG:현X == 5 && FLAG:현Y == 5
			CALL DUNGEON_WORP_96, 6, 5, 19
		ELSEIF FLAG:현X == 7 && FLAG:현Y == 7
			CALL DUNGEON_WORP_96, 6, 15, 13
		ELSEIF FLAG:현X == 19 && FLAG:현Y == 7
			CALL DUNGEON_WORP_96, 6, 3, 27
		ELSEIF FLAG:현X == 19 && FLAG:현Y == 9
			CALL DUNGEON_WORP_96, 6, 25, 5
		ELSEIF FLAG:현X == 25 && FLAG:현Y == 11
			CALL DUNGEON_WORP_96, 6, 5, 7
		ELSEIF FLAG:현X == 15 && FLAG:현Y == 13
			CALL DUNGEON_WORP_96, 6, 3, 19
		ELSEIF FLAG:현X == 17 && FLAG:현Y == 13
			CALL DUNGEON_WORP_96, 6, 25, 5
		ELSEIF FLAG:현X == 25 && FLAG:현Y == 17
			CALL DUNGEON_WORP_96, 6, 15, 27
		ELSEIF FLAG:현X == 5 && FLAG:현Y == 19
			CALL DUNGEON_WORP_96, 6, 19, 5
		ELSEIF FLAG:현X == 7 && FLAG:현Y == 19
			CALL DUNGEON_WORP_96, 6, 19, 7
		ELSEIF FLAG:현X == 9 && FLAG:현Y == 19
			CALL DUNGEON_WORP_96, 6, 25, 13
		ELSEIF FLAG:현X == 15 && FLAG:현Y == 27
			CALL DUNGEON_WORP_96, 6, 25, 17
		ENDIF
	CASE 8
		IF FLAG:현X == 25 && FLAG:현Y == 2
			CALL DUNGEON_WORP_96, 16, 28, 8
		ELSEIF FLAG:현X == 23 && FLAG:현Y == 46
			CALL DUNGEON_WORP_96, 16, 31, 54
		ENDIF
	CASE 10
		IF FLAG:현X == 15 && FLAG:현Y == 15
			CALL DUNGEON_WORP_96, 10, 19, 23
		ELSEIF FLAG:현X == 19 && FLAG:현Y == 23
			CALL DUNGEON_WORP_96, 10, 15, 15
		ENDIF
	CASE 11
		IF FLAG:현X == 7 && FLAG:현Y == 1
			CALL DUNGEON_WORP_96, 11, 21, 17
		ELSEIF FLAG:현X == 21 && FLAG:현Y == 3
			CALL DUNGEON_WORP_96, 11, 5, 23
		ELSEIF FLAG:현X == 3 && FLAG:현Y == 5
			CALL DUNGEON_WORP_96, 11, 15, 11
		ELSEIF FLAG:현X == 23 && FLAG:현Y == 9
			CALL DUNGEON_WORP_96, 11, 3, 7
		ELSEIF FLAG:현X == 11 && FLAG:현Y == 13
			CALL DUNGEON_WORP_96, 11, 17, 17
		ELSEIF FLAG:현X == 15 && FLAG:현Y == 13
			CALL DUNGEON_WORP_96, 11, 23, 7
		ELSEIF FLAG:현X == 1 && FLAG:현Y == 17
			CALL DUNGEON_WORP_96, 11, 17, 21
		ELSEIF FLAG:현X == 1 && FLAG:현Y == 19
			CALL DUNGEON_WORP_96, 11, 21, 1
		ELSEIF FLAG:현X == 7 && FLAG:현Y == 19
			CALL DUNGEON_WORP_96, 11, 15, 21
		ELSEIF FLAG:현X == 21 && FLAG:현Y == 19
			CALL DUNGEON_WORP_96, 11, 7, 5
		ELSEIF FLAG:현X == 1 && FLAG:현Y == 21
			CALL DUNGEON_WORP_96, 11, 21, 23
		ELSEIF FLAG:현X == 15 && FLAG:현Y == 21
			CALL DUNGEON_WORP_96, 11, 1, 23
		ELSEIF FLAG:현X == 17 && FLAG:현Y == 21
			CALL DUNGEON_WORP_96, 11, 1, 17
		ELSEIF FLAG:현X == 21 && FLAG:현Y == 21
			CALL DUNGEON_WORP_96, 11, 5, 19
		ELSEIF FLAG:현X == 7 && FLAG:현Y == 23
			CALL DUNGEON_WORP_96, 11, 9, 13
		ELSEIF FLAG:현X == 23 && FLAG:현Y == 23
			CALL DUNGEON_WORP_96, 11, 5, 1
		ELSEIF FLAG:현X == 13 && FLAG:현Y == 1
			CALL DUNGEON_WORP_96, 16, 30, 19
		ELSEIF FLAG:현X == 1 && FLAG:현Y == 11
			CALL DUNGEON_WORP_96, 16, 18, 31
		ELSEIF FLAG:현X == 23 && FLAG:현Y == 13
			CALL DUNGEON_WORP_96, 16, 41, 31
		ELSEIF FLAG:현X == 11 && FLAG:현Y == 23
			CALL DUNGEON_WORP_96, 16, 29, 41
		ELSEIF FLAG:현X == 7 && FLAG:현Y == 7
			CALL DUNGEON_WORP_96, 10, 11, 11
		ENDIF
	CASE 16
		IF FLAG:현X == 28 && FLAG:현Y == 8
			CALL DUNGEON_WORP_96, 8, 25, 2
		ELSEIF FLAG:현X == 30 && FLAG:현Y == 19
			CALL DUNGEON_WORP_96, 11, 13, 1
		ELSEIF FLAG:현X == 18 && FLAG:현Y == 31
			CALL DUNGEON_WORP_96, 11, 1, 11
		ELSEIF FLAG:현X == 41 && FLAG:현Y == 31
			CALL DUNGEON_WORP_96, 11, 23, 13
		ELSEIF FLAG:현X == 29 && FLAG:현Y == 41
			CALL DUNGEON_WORP_96, 11, 11, 23
		ELSEIF FLAG:현X == 31 && FLAG:현Y == 54
			CALL DUNGEON_WORP_96, 8, 23, 46
		ENDIF
ENDSELECT
RETURN 1

;=====================================================================
;無限ループ회피のため、移動後の이벤트を呼び出さないワープを사용
;=====================================================================
@DUNGEON_WORP_96,ARG,ARG:1,ARG:2
FLAG:현M = ARG
FLAG:현X = ARG:1
FLAG:현Y = ARG:2
;現在の플로어데이터を読み込み
CALL MAKE_FLOOR, FLAG:현던전
CALL AUTOMAP
;런런던전	用のRUN중단フラグ立て
SIF GETBIT(FLAG:232,0) == 1
	SETBIT FLAG:233,0
;移動後の던전이벤트呼び出しなし

;=======================================================================
;[5]조사　実行時の이벤트
;=======================================================================
@EVENT_CHECK_DUNGEON_96

;==========
;出口の処理
;==========
IF DA:(FLAG:현X):(FLAG:현Y) == 8
	CALL DUNGEON_EXIT
	RETURN 1
;========
;宝の処理
;========
;% 10は10で割ったあまり、つまり下一桁がでてきます
;그리고、下一桁はタイルの종류を表す
ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 3
	CALL TREASURE_96
	RETURN RESULT
;=======
;階段
;=======
ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 6
	CALL UPSTAIRS_96
	RETURN RESULT

ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 7
	CALL DOWNSTAIRS_96
	RETURN RESULT
;========
;이벤트
;========
ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 4
	SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
		CASE 700
			IF 던전플래그:(FLAG:현던전):23 == 0
				CALL MESSAGE_WINDOW_D, "다크서머너", "바로 동쪽 문에서 카테드랄의 중심부에 갈수 있을텐데/무슨 영문인지 밀어도 당겨도 열리지 않아/열쇠 구멍도 없고、도대체 어떻게 하라는 거야……"
			ELSE
				CALL MESSAGE_WINDOW_D, "다크서머너", "이곳을 지나갔던 동료가『위대한 존재』의 강림인가 뭔가를 중얼거리더라?/메시아교와는 적대하고 있으니깐、법의 신님과도 적대하고 있다는 것일까/난 바보이긴 하지만 말이야、뭔가 커다란 일이 벌어지려 한다는 것 정도는 알고 있다고"
			ENDIF
		CASE 701
			IF 던전플래그:(FLAG:현던전):20 == 0
				CALL MESSAGE_WINDOW_D, "다크서머너", "이곳을 지나갔던 동료가『위대한 존재』의 강림인가 뭔가를 중얼거리더라?/메시아교와는 적대하고 있으니깐、법의 신님과도 적대하고 있다는 것일까/난 바보이긴 하지만 말이야、뭔가 커다란 일이 벌어지려 한다는 것 정도는 알고 있다고"
			ELSE
				CALL MESSAGE_WINDOW_D, "다크서머너", "대천사 미카엘이 토벌되면서 남쪽 거리의 결계가 소멸한 듯하다/이제 그 거리는 안전하지 않고、오히려……/아니、우리가 신경 써야 할 일이 아닌가/만약 갈 작정이라면 충분한 준비를 해 두겠군"
			ENDIF
	ENDSELECT
ELSE
	CALL MESSAGE_WINDOW_D, "", "＞아무것도 없는 것 같다"
	RETURN 0
ENDIF

;=======================================================================
;タイル進入時の이벤트
;=======================================================================
@EVENT_ENTER_DUNGEON_96,ARG
#DIMS ワルオ
#DIMS ヨシオ
ワルオ = %SAVESTR:카오스히어로CALLNAME%
ヨシオ = %SAVESTR:로우히어로CALLNAME%
;ARG = 進入時の向き　0の場合ワープなど
;==========
;出口の処理
;==========
IF DA:(FLAG:현X):(FLAG:현Y) % 10 == 8
	CALL DUNGEON_EXIT
	RETURN 1
;========
;宝の処理
;========
ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 3
	CALL TREASURE_96
	RETURN RESULT
	
;========
;罠の処理
;========
ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 5
	CALL TRAP_96
	RETURN RESULT
;=======
;階段
;=======
ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 6
	CALL UPSTAIRS_96
	RETURN RESULT

ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 7
	CALL DOWNSTAIRS_96
	RETURN RESULT

;==========
;扉の処理
;==========
ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 2
	SIF DA:(FLAG:현X):(FLAG:현Y) < 100
		CALL DUNGEON_DOOR,ARG
	RETURN 1

;==========
;ワープの処理
;==========
	
;========================
;이벤트
;========================
ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 4
;ザ・ヒーロー戦処理(2020/12/23)===============================================================================================
	IF FLAG:현M == 16 && (FLAG:현X == 29 && FLAG:현Y == 45)
		IF 던전플래그:96:40 == 0
			CALL MESSAGE_WINDOW_D, ""		, "＞암 터미널을 장착한 소년이 서있다.。"
			CALL MESSAGE_WINDOW_D, "소년"	, "「………………………………」"
			CALL MESSAGE_WINDOW_D, ""		, "＞………이 기운은……왠지 보통내기가 아니다………/＞그가 굉장히 위험한 상대라고 자신의 육감이 경종을 울리고 있다。"
			CALL INPUT_YN_D("싸움을 건다", "무시하고 앞서간다")
			IF RESULT == 0
				CALL MESSAGE_WINDOW_D, "", "더 히어로에게 싸움을 걸었다!"
				WAIT
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				;とりあえずシンプルに強く、それでいてとにかくレベルを上げさえすれば倒せるように
				;→現状보스플래그がないせいでシンプルに弱いので보스플래그を付けた
				;あとHPを盛った
				;あとフツオにAI搭載、ストラ디무バリとか使います
				;2021/03/01
				;フツオ戦はあくまでPLキャラとしてのフツオをベースとしたものなので보스플래그とHP、MP補正を削除
				;また、フツオ以外は死んだらCOMPに戻ることを表現するため、死体が残るようにする変更も元に戻す
				;フツオが戦力として働くようになったので補正を+50から+40に低減
				LOCAL:1 = 40
				CALL SET_ENEMY, 8 ,[[キャラ:시바]],99,0,0
				BASE:(CHARANUM-1):힘 += LOCAL:1
				BASE:(CHARANUM-1):지혜 += LOCAL:1
				BASE:(CHARANUM-1):마력 += LOCAL:1
				BASE:(CHARANUM-1):인내력 += LOCAL:1
				BASE:(CHARANUM-1):속도 += LOCAL:1
				BASE:(CHARANUM-1):운 += LOCAL:1
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)

				;HPがクッソ高いのでたぶんグレートなパスカルですよコイツぁ
				CALL SET_ENEMY, 9 ,[[キャラ:케르베로스]],99,0,0
				BASE:(CHARANUM-1):힘 += LOCAL:1
				BASE:(CHARANUM-1):지혜 += LOCAL:1
				BASE:(CHARANUM-1):마력 += LOCAL:1
				BASE:(CHARANUM-1):인내력 += LOCAL:1
				BASE:(CHARANUM-1):속도 += LOCAL:1
				BASE:(CHARANUM-1):운 += LOCAL:1
				NAME:(CHARANUM-1) = パスカル
				CALLNAME:(CHARANUM-1) = パスカル
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)

				;癒し、呪殺と精神さえなんとかしてればだが
				CALL SET_ENEMY, 10 ,[[キャラ:마라]],99,0,0
				BASE:(CHARANUM-1):힘 += LOCAL:1
				BASE:(CHARANUM-1):지혜 += LOCAL:1
				BASE:(CHARANUM-1):마력 += LOCAL:1
				BASE:(CHARANUM-1):인내력 += LOCAL:1
				BASE:(CHARANUM-1):속도 += LOCAL:1
				BASE:(CHARANUM-1):운 += LOCAL:1
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)

				;やはりボスにはデカジャデクンダくらいは搭載せねばならぬのじゃが素材の味
				CALL SET_ENEMY, 13 ,[[キャラ:벨제붑]],99,0,0
				BASE:(CHARANUM-1):힘 += LOCAL:1
				BASE:(CHARANUM-1):지혜 += LOCAL:1
				BASE:(CHARANUM-1):마력 += LOCAL:1
				BASE:(CHARANUM-1):인내력 += LOCAL:1
				BASE:(CHARANUM-1):속도 += LOCAL:1
				BASE:(CHARANUM-1):운 += LOCAL:1
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				
				;신경탄（全体に麻痺効果の飛具）やストラ디무バリ（全体に高威力の剣撃）などをスキル変化で実装しようと思ったが、難易度を考えて保留
				;→実装しました。
				;装備を付与したが耐性はフラットなので実はFLEEZEとか効く
				CALL SET_ENEMY, 14 ,4998,99,1,0
				NAME:(CHARANUM-1) = ザ・ヒーロー
				CALLNAME:(CHARANUM-1) = ザ・ヒーロー
				TALENT:(CHARANUM-1):남자 = 1
				;本来MPはないが、スキルを使用させるため
				TALENT:(CHARANUM-1):달인 = 1
				BASE:(CHARANUM-1):힘 += LOCAL:1
				BASE:(CHARANUM-1):지혜 += LOCAL:1
				BASE:(CHARANUM-1):마력 += LOCAL:1
				BASE:(CHARANUM-1):인내력 += LOCAL:1
				BASE:(CHARANUM-1):속도 += LOCAL:1
				BASE:(CHARANUM-1):운 += LOCAL:1
				;人間なのでそのままだとクソ雑魚ナメクジ、よってシュピーゲルシリーズを装備させる
				;国友は原作にも存在した装備
				EQUIP:(CHARANUM-1):검 = [[아이템:슈피겔블레이드]]
				EQUIP:(CHARANUM-1):총 = [[아이템:국우의총]]
				EQUIP:(CHARANUM-1):머리 = [[아이템:슈피겔마스크]]
				EQUIP:(CHARANUM-1):몸통 = [[아이템:슈피겔메일]]
				EQUIP:(CHARANUM-1):팔 = [[아이템:슈피겔쉴드]]
				EQUIP:(CHARANUM-1):발 = [[아이템:슈피겔바인]]

				;飛具無効くらいまではKOROSU
				ABL:(CHARANUM-1):스킬1 = 2420 ;관통
				ABL:(CHARANUM-1):스킬2 = 2407 ;불굴의투지
				ABL:(CHARANUM-1):스킬3 = 2418 ;코칭
				ABL:(CHARANUM-1):스킬4 = 2419 ;어드바이스
				ABL:(CHARANUM-1):스킬5 = 2448 ;천발천중

				CSTR:(CHARANUM-1):사고패턴 = カテフツオ

				CALL SYNC_STATUS,(CHARANUM-1)
				;本来ＭＰはないが、スキルを使用させるため
				CFLAG:(CHARANUM-1):ＭＰ보정 += 500
				CALL HEALTH_CHARA,(CHARANUM-1)

				;메디아라한を使う害悪枠
				;ただ弱点も多いのでこのくらいしないと…………
				CALL SET_ENEMY, 15 ,[[キャラ:락슈미]],99,0,0
				BASE:(CHARANUM-1):힘 += LOCAL:1
				BASE:(CHARANUM-1):지혜 += LOCAL:1
				BASE:(CHARANUM-1):마력 += LOCAL:1
				BASE:(CHARANUM-1):인내력 += LOCAL:1
				BASE:(CHARANUM-1):속도 += LOCAL:1
				BASE:(CHARANUM-1):운 += LOCAL:1
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)

				CALL BATTLE_START

				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				
				던전플래그:96:40 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, ""		, "＞소년을 무시하고 앞으로 나아가기로 했다。"
			ENDIF
		ELSE
			CALL MESSAGE_WINDOW_D, "", "아무도 없다。"
		ENDIF
	ENDIF
;ザ・ヒーロー戦処理ここまで========================================================================================

ELSEIF DA:(FLAG:현X):(FLAG:현Y) % 10 == 9
	SELECTCASE DA:(FLAG:현X):(FLAG:현Y) /10
		;아수라왕이벤트　仮置き
		CASE 0
			;扉の向こうに行くかの選択肢
			IF 던전플래그:96:11 < 3 && ( 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
				ENDIF
			ENDIF
		CASE 1
			IF 던전플래그:96:11 == 3
				CALL MESSAGE_WINDOW_D, "", "아무도 없다//"
			ELSEIF 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3
				;それ이외、バトル、合体解禁（ロウルート限定（미카엘））
				
				CALL MESSAGE_WINDOW_D, "아수라왕", "핫　핫핫핫/드디어 왔는가/신을 위해 싸우는 위대한 용자여!"
				CALL MESSAGE_WINDOW_D, "아수라왕", "좋은 몰골이로군"
				CALL MESSAGE_WINDOW_D, "아수라왕", "포상으로 이몸이/신의 곁으로 보내주마!"
				
				
					FLAG:도주불가플래그 = 1
					FLAG:회화불능플래그 = 1
					FLAG:선제기습취소 = 1
					
					CALL SET_ENEMY,9,[[キャラ:아수라왕]],95,0,4
					CSTR:(CHARANUM-1):사고패턴 = カテ아수라왕
					CFLAG:(CHARANUM-1):BS무효플래그 = 1
					ABL:(CHARANUM-1):최저공격횟수 = 3
					ABL:(CHARANUM-1):최대공격횟수 = 3
					CFLAG:(CHARANUM-1):행동횟수 = 3
					ABL:(CHARANUM-1):스킬1 = 2449
					ABL:(CHARANUM-1):스킬2 = 2520
					ABL:(CHARANUM-1):스킬3 = 2419
					ABL:(CHARANUM-1):스킬4 = 2420
					
					ABL:(CHARANUM-1):스킬5 = 2483
					ABL:(CHARANUM-1):스킬6 = 2452
					ABL:(CHARANUM-1):스킬7 = 2453
					ABL:(CHARANUM-1):스킬8 = [[스킬:수라도]]
					ABL:(CHARANUM-1):스킬9 = 2418
					ABL:(CHARANUM-1):스킬10 = 2427
					ABL:(CHARANUM-1):스킬11 = 2510
					ABL:(CHARANUM-1):스킬12 = 2427
					
					
					CFLAG:(CHARANUM-1):물리여데미지보정 = 20
					CFLAG:(CHARANUM-1):마법여데미지보정 = 20
					CFLAG:(CHARANUM-1):물리피데미지보정 = -20
					CFLAG:(CHARANUM-1):마법피데미지보정 = -20
					CFLAG:(CHARANUM-1):COOP피데미지보정 = -20
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)
					CFLAG:(CHARANUM-1):810 = MAXBASE:(CHARANUM-1):ＨＰ * 5/100
					
					CALL BATTLE_START
				
					FLAG:도주불가플래그 = 0
					FLAG:회화불능플래그 = 0
					FLAG:선제기습취소 = 0
					FLAG:인카운트율 = 0
					FLAG:미조우걸음수 = 0
					
					
				CALL MESSAGE_WINDOW_D, "아수라왕", "・・・조금만 더・・・한발자국만 더 내딛었다면/천년왕국을 박살낼 수 있었던 것을"
				CALL MESSAGE_WINDOW_D, "아수라왕", "카테드랄을 이몸의 손에 넣어・・・/대마왕 루시퍼님에게/바칠 수 있었을 것을・・・"
				
				던전플래그:96:11 = 3
				IF 던전플래그:96:10 == 1
					CALL MESSAGE_WINDOW_D, "하늘의 소리", "잘했구나/그럼 와라 내 곁으로・・・"
					CALL MESSAGE_WINDOW_D, "", "그 소리가 들리자 다른 곳으로 날아가 버렸다"
					CALL MESSAGE_WINDOW_D, "", "눈앞에는 신의 심부름꾼이 있다"
					CALL MESSAGE_WINDOW_D, "신의 심부름꾼", @"%CALLNAME:MASTER%・・・　잘 해주었다"
					CALL MESSAGE_WINDOW_D, "신의 심부름꾼", @"%ヨシオ%의 일은 염려할 바가 아니다/그는 지금 신의 곁에서/아주 행복한 시간을 보내고 있다"
					CALL MESSAGE_WINDOW_D, "신의 심부름꾼", "지상에 남은 사람들은/아직껏 괴로워하며 헤매고 있다"
					CALL MESSAGE_WINDOW_D, "신의 심부름꾼", "네가 모두를 구하지/않으면 안된다/구세주로서"
					CALL MESSAGE_WINDOW_D, "신의 심부름꾼", "그때야말로 시작될 것이다/미래 영겁 끝날 수 없는/지복과 기쁨으로 가득찬 세상・・・"
					CALL MESSAGE_WINDOW_D, "신의 심부름꾼", "신의 통치에 의한 영원한 낙원/천년왕국이!!"
					CALL LIFTING_A_BAN([[キャラ:미카엘]])
					CALL ENDING_NO33
					;ロウエンド
				ELSEIF 던전플래그:96:20 == 3
					;Nエンド
					CALL ENDING_NO32
				ELSE
					CALL MESSAGE_WINDOW_D, "", "다음은 위층에 있는 미카엘을 쓰러뜨리러 가자"
				ENDIF
				
				
			ELSEIF 던전플래그:96:11 == 1 && 던전플래그:96:13 > 1 && 던전플래그:96:14 > 1 && 던전플래그:96:15 > 1
				;デビルリング
				CALL MESSAGE_WINDOW_D, "아수라왕", "오오　셋 다 모였나/그럼　데빌링으로 바꿔주지"
				CALL MESSAGE_WINDOW_D, "", "데빌링을 손에 넣었다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "이걸로 미카엘이 있는 장소로 가는/길이 열릴 것이다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "하지만 데빌링은/악마의 힘의 근원/과다 사용에는 부디 조심하도록"
				CALL MESSAGE_WINDOW_D, "아수라왕", "부탁한다"
				
				던전플래그:96:11 = 2
			ELSEIF 던전플래그:96:11 == 1
				CALL MESSAGE_WINDOW_D, "아수라왕", "미카엘이 있는 곳으로 가기 위해선/데빌링이 필요하다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "아리오크의 송곳니　아스타로트의 날개/그리고　수르트의 손톱을 손에 넣어서/여기에 오는 것이다"
			ELSEIF 던전플래그:96:11 == 0
				CALL MESSAGE_WINDOW_D, "아수라왕", @"%CALLNAME:MASTER%여/내가 천마 아수라왕/"
				CALL MESSAGE_WINDOW_D, "아수라왕", "천년왕국을 부셔버리기 위해/카오스의 악마를 이끌고/이 카테드랄에 왔다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "원래는 카테드랄을 파괴하는 게/목적이었으나  이미 절반은/우리 쪽이 수중에 넣었다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "그렇기에 이대로 카테드랄 전부를/내 손에 넣을 것이다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "여기를 가이아교도에게 넘겨줌으로서/가이아교의 대신전으로 삼는 것이다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "일찍이 법의 신에게 악마라고 멸시당했던 옛 신들을/동등하게 제사지낼 것이다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "카테드랄을 손에 넣기 위해/미카엘을 죽여버리지 않으면 안된다/그 대임(大任)을 맡지 마라？"
				CALL MESSAGE_WINDOW_D, "아수라왕", "미카엘이 있는 곳으로 가기 위해선/데빌링이 필요하다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "아리오크의 송곳니　아스타로트의 날개/그리고 수르트의 손톱을 손에 넣은 뒤/여기에 오는 것이다"

				던전플래그:96:11 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "아수라왕", "여기를 가이아교도에게 넘겨줌으로서/가이아교의 대신전으로 삼는 것이다"
				CALL MESSAGE_WINDOW_D, "아수라왕", "부탁한다"
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
			
		;카오스히어로이벤트　仮置き
		CASE 100
			;扉の向こうに行くかの選択肢（無いかも）
			IF 던전플래그:96:12 < 3 && 던전플래그:96:10 == 3
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X)+2,(FLAG:현Y)
				ENDIF
			ENDIF
		CASE 101
			;この扉が通れるかの判断
			IF 던전플래그:96:10 == 1
				;ロウ限定이벤트
				
			ELSEIF 던전플래그:96:10 == 2
				;カオス限定이벤트
				
				던전플래그:96:12 = 1
			ENDIF
			IF 던전플래그:96:12 < 3 && (던전플래그:96:10 == 3 || (던전플래그:96:10 == 1 && 던전플래그:96:20 == 2))
						;デビルリングで開く
					IF 던전플래그:96:10 == 1
						CALL MESSAGE_WINDOW_D, ワルオ, "봐!　내 발밑에 쓰러진/녀석의 모습을!"
						CALL MESSAGE_WINDOW_D, "", @"%ワルオ%의 발밑에는 %ヨシオ%가 쓰러져 있었다"
						CALL MESSAGE_WINDOW_D, ワルオ, "힘없는 정의의 비참한 최후다/마치 옛날의 나 같다구"
						CALL MESSAGE_WINDOW_D, ワルオ, "정의는 힘을 낳지 않는다/힘이야말로 정의다!"
						CALL MESSAGE_WINDOW_D, ワルオ, "가자!"
						
					ELSE
						CALL MESSAGE_WINDOW_D, ワルオ, "네가 개심하는 것을 계속 고대하고 있었지만/역시 기다려봤자 쓸데없다는 것을 깨달았어"
						;CALL MESSAGE_WINDOW_D, ワルオ, "조화  밸런스라는 건/언젠가 무너지기 위해 있는 것이야!"
						CALL MESSAGE_WINDOW_D, ワルオ, "간닷!"
						
					ENDIF
				
					FLAG:도주불가플래그 = 1
					FLAG:회화불능플래그 = 1
					FLAG:선제기습취소 = 1
					
					CALL SET_ENEMY,9,4220,90,0,3
					CSTR:(CHARANUM-1):사고패턴 = カテカオスヒーロ
					CFLAG:(CHARANUM-1):BS무효플래그 = 1
					ABL:(CHARANUM-1):최저공격횟수 = 3
					ABL:(CHARANUM-1):최대공격횟수 = 3
					CFLAG:(CHARANUM-1):행동횟수 = 3
					ABL:(CHARANUM-1):스킬1 = 2449
					ABL:(CHARANUM-1):스킬2 = 2419
					ABL:(CHARANUM-1):스킬3 = 2450
					ABL:(CHARANUM-1):스킬4 = 2420
					ABL:(CHARANUM-1):스킬5 = 2510
					ABL:(CHARANUM-1):스킬6 = 2425
					ABL:(CHARANUM-1):스킬7 = 2483
					ABL:(CHARANUM-1):스킬8 = 2485
					CFLAG:(CHARANUM-1):검격여데미지보정 = 100
					;CFLAG:(CHARANUM-1):만능여데미지보정 = 100
					CFLAG:(CHARANUM-1):COOP피데미지보정 = -30
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)
					CFLAG:(CHARANUM-1):810 = MAXBASE:(CHARANUM-1):ＨＰ * 5/100
					
					CALL BATTLE_START
				
					FLAG:도주불가플래그 = 0
					FLAG:회화불능플래그 = 0
					FLAG:선제기습취소 = 0
					FLAG:인카운트율 = 0
					FLAG:미조우걸음수 = 0
					
					CALL MESSAGE_WINDOW_D, ワルオ, "・・・내게도 마지막이 왔구나・・・/나는 신도 능가하는 힘을 얻었을 텐데"
					CALL MESSAGE_WINDOW_D, ワルオ, "・・・이건 꿈・・・이었구나・・・/나쁜 꿈・・・아니・・・/좋은 꿈・・・이었어・・・"
					
				IF 던전플래그:96:10 == 1
					;エンゼルリングで開く
					CALL MESSAGE_WINDOW_D, "", "엔젤링이 빛나기 시작했다"
					CALL MESSAGE_WINDOW_D, "", "엔젤링의 빛을 받아 문이 열렸다"
					
					
					
				ENDIF
				던전플래그:96:12 = 3
			ENDIF
		;루이・サイファーとの회화이벤트　仮置き（）多分無い
		CASE 200
			
		;아리오크이벤트　仮置き
		CASE 401
			;扉の向こうに行くかの選択肢
			IF 던전플래그:96:13 < 3 && ( 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
				ENDIF
			ENDIF
		CASE 400
			IF 던전플래그:96:13 == 3
				CALL MESSAGE_WINDOW_D, "", "아무도 없다//"
			ELSEIF 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3
				;それ이외、バトル、合体解禁
				CALL MESSAGE_WINDOW_D, "아리오크", "네놈　소심한 인간녀석!/나의 복수의 어금니를 받아봐라!/"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:아리오크]],80,0,2
				ABL:(CHARANUM-1):최저공격횟수 = 3
				ABL:(CHARANUM-1):최대공격횟수 = 3
				CFLAG:(CHARANUM-1):행동횟수 = 3
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				CALL MESSAGE_WINDOW_D, "아리오크", "고작 인간따위의 힘이/나의 송곳니의 날카로움을/상회한다는 말인가"
				CALL MESSAGE_WINDOW_D, "아리오크", "이런 바보같은・・・"
				
				던전플래그:96:13 = 3
			ELSEIF 던전플래그:96:13 < 2 && 던전플래그:96:11 == 1
				;천마의갑주、아리오크仲魔化＆合体解禁
				CALL MESSAGE_WINDOW_D, "아리오크", "뭐?　아리오크의 송곳니를 원한다고?/알았다　이유는 말하지 않아도 좋아"
				CALL MESSAGE_WINDOW_D, "", "＞아리오크의 송곳니를 손에 넣었다"
				
				CALL MESSAGE_WINDOW_D, "아리오크", "게다가 너는 이것도 다룰 수 있을 것 같다/가지고 가라"
				CALL GET_ITEMS(ITEMNAME:3564,1)
				CALL MESSAGE_WINDOW_D, "", "＞천마의 갑주를 손에 넣었다"
				
				CALL MESSAGE_WINDOW_D, "아리오크", "너는 악마를 거느리고 있는 것 같구나/너와 함께 신과 싸우는 건 나쁘지 않을 것 같아"
				CALL MESSAGE_WINDOW_D, "아리오크", "내 힘이 필요해지면 언제든지 부르는 것이 좋다"
				CALL LIFTING_A_BAN([[キャラ:아리오크]])
				
				던전플래그:96:13 = 2
			ELSEIF 던전플래그:96:13 == 0
				CALL MESSAGE_WINDOW_D, "아리오크", "카오스의 편에 서서 싸우는 인간인가/참 기특하구나/"
				CALL MESSAGE_WINDOW_D, "아리오크", "신의 손에 놀아나지 않도록 주의해라//"
				던전플래그:96:13 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "아리오크", "신의 손에 놀아나지 않도록 주의해라//"
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
		;아스타로트이벤트　仮置き
		CASE 500
			;扉の向こうに行くかの選択肢
			IF 던전플래그:96:14 < 3 && ( 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
				ENDIF
			ENDIF
		CASE 501
			IF 던전플래그:96:14 == 3
				CALL MESSAGE_WINDOW_D, "", "아무도 없다//"
			ELSEIF 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3
				;それ이외、バトル、合体解禁
				CALL MESSAGE_WINDOW_D, "아스타로트", "홋홋홋호/맹목적으로 신을 따를 뿐인/불쌍한 어린 양아　정신차리거라!"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:아스타로트]],80,0,2
				ABL:(CHARANUM-1):최저공격횟수 = 3
				ABL:(CHARANUM-1):최대공격횟수 = 3
				CFLAG:(CHARANUM-1):행동횟수 = 3
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				CALL MESSAGE_WINDOW_D, "아스타로트", "・・・조금만 있으면　이슈타르의 모습을/되찾을 수 있었을 것을・・・/무 무념・・・"
				
				
				던전플래그:96:14 = 3
			ELSEIF 던전플래그:96:14 < 2 && 던전플래그:96:11 == 1
				;천마의구족、아스타로트仲魔化＆合体解禁
				CALL MESSAGE_WINDOW_D, "아스타로트", "그대들이 계속 이기면 마왕이 된 나도/참된 모습을 되찾을 수 있을지도 몰라/홋홋홋호"
				CALL MESSAGE_WINDOW_D, "아스타로트", "나의 날개를 갖고 싶다고 할까요…/신에게 맞서는 자의 소원을 들어주지 않을 수 없구나/홋홋홋호"
				CALL MESSAGE_WINDOW_D, "", "아스타로트의 날개을 손에 넣었다"
				
				CALL MESSAGE_WINDOW_D, "아스타로트", "그리고 너희에게 이걸 주마"
				CALL GET_ITEMS(ITEMNAME:4064,1)
				CALL MESSAGE_WINDOW_D, "", @"＞%ITEMNAME:4064%을 손에 넣었다"
				
				CALL MESSAGE_WINDOW_D, "아스타로트", "함께 신에게 맞서자/힘이 필요할 땐 나를 불러내라/홋홋홋호"
				CALL LIFTING_A_BAN([[キャラ:아스타로트]])
				던전플래그:96:14 = 2
			ELSEIF 던전플래그:96:14 == 0
				CALL MESSAGE_WINDOW_D, "아스타로트", "홋홋홋호/신에 맞서고자 하는/씩씩한 사람의 자식은 그대들인가?"
				CALL MESSAGE_WINDOW_D, "아스타로트", "너희들이 계속 이기면 마왕이 된 나도/참된 모습을 되찾을 수 있을지도 몰라/홋홋홋호"
				CALL MESSAGE_WINDOW_D, "아스타로트", "씩씩한 사람의 자식이여/로우의 앞잪이가 말하는 법이나 질서에 현혹되지 마라/홋홋홋호"
				
				던전플래그:96:14 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "아스타로트", "씩씩한 사람의 자식이여/로우의 앞잪이가 말하는 법이나 질서에 현혹되지 마라/홋홋홋호"
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
		;수르트이벤트　仮置き
		CASE 601
			;扉の向こうに行くかの選択肢
			IF 던전플래그:96:15 < 3 && ( 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X)+1,(FLAG:현Y)
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X)-2,(FLAG:현Y)
				ENDIF
			ENDIF
		CASE 600
			IF 던전플래그:96:15 == 3
				CALL MESSAGE_WINDOW_D, "", "아무도 없다//"
			ELSEIF 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3
				;それ이외、バトル、合体解禁
				CALL MESSAGE_WINDOW_D, "수르트", "인간이여…/신이 만든/불완전한 인형이여"
				CALL MESSAGE_WINDOW_D, "수르트", "너는/어차피 멸망해 갈 운명/여기서 인도해 주마"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:수르트]],75,0,2
				ABL:(CHARANUM-1):최저공격횟수 = 3
				ABL:(CHARANUM-1):최대공격횟수 = 3
				CFLAG:(CHARANUM-1):행동횟수 = 3
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				CALL MESSAGE_WINDOW_D, "수르트", "크윽　반쪽짜리 신의 인형에게/역으로 인도를 받다니・・・/나도 떨어질대로 떨어졌구나・・・"
				
				
				
				
				던전플래그:96:15 = 3
			ELSEIF 던전플래그:96:15 < 2 && 던전플래그:96:11 == 1
				;천마の토시、수르트仲魔化＆合体解禁（천마의투구は에키드나から貰う）
				CALL MESSAGE_WINDOW_D, "수르트", "그런가…/내 손톱을 소망하다니/겁없는 인간 같으니라고…"
				CALL MESSAGE_WINDOW_D, "수르트", "좋겠지　마력을 내포한 수르트의 손톱을 주겠다"
				CALL MESSAGE_WINDOW_D, "", "수르트의 손톱을 손에 넣었다"
				
				CALL MESSAGE_WINDOW_D, "수르트", "내친김에 이것도/가지고 가라"
				CALL GET_ITEMS(ITEMNAME:4564,1)
				CALL MESSAGE_WINDOW_D, "", @"＞%ITEMNAME:4564%을 손에 넣었다"
				
				CALL MESSAGE_WINDOW_D, "수르트", "내 힘을 빌려 주마/힘을 기르거든 나를 불러라"
				CALL LIFTING_A_BAN([[キャラ:수르트]])
				
				던전플래그:96:15 = 2
			ELSEIF 던전플래그:96:15 == 0
				CALL MESSAGE_WINDOW_D, "수르트", "여기 카테드랄은/머지않아 카오스측의 손에 떨어진다/너희들의 활동도 훌륭하였다"
				CALL MESSAGE_WINDOW_D, "수르트", "너희들 인간에게는 정열과 욕망이 있지만/그걸 억누르고 얻어지는 평화에/무슨 가치가 있으랴"
				CALL MESSAGE_WINDOW_D, "수르트", "카오스 군단을 이끄는/아수라왕도 기대하고 계신다/"
				던전플래그:96:15 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "수르트", "카오스 군단을 이끄는/아수라왕도 기대하고 계신다/"
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X)+2,(FLAG:현Y)
			
		;-------こっからロウ側
		;우리엘이벤트　仮置き
		CASE 901
			;扉の向こうに行くかの選択肢
			IF 던전플래그:96:16 < 3 && ( 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X)+1,(FLAG:현Y)
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X)-2,(FLAG:현Y)
				ENDIF
			ENDIF
		CASE 900
			IF 던전플래그:96:16 == 3
				CALL MESSAGE_WINDOW_D, "", "아무도 없다//"
			ELSEIF 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3
				;それ이외、バトル、合体解禁
				CALL MESSAGE_WINDOW_D, "우리엘", "사악한 어둠에 물든 자들이여/어둠과 함께 지상으로부터 사라져라!"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:우리엘]],75,0,2
				ABL:(CHARANUM-1):최저공격횟수 = 3
				ABL:(CHARANUM-1):최대공격횟수 = 3
				CFLAG:(CHARANUM-1):행동횟수 = 3
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				CALL MESSAGE_WINDOW_D, "우리엘", "・・・법의 신과・・・/신의 천년왕국에/영광 있으라・・・"
				
				던전플래그:96:16 = 3
			ELSEIF 던전플래그:96:16 < 2 && 던전플래그:96:20 == 1
				;ジーザスアーム、우리엘仲魔化＆合体解禁（지저스헬름は하니엘から貰う）
				CALL MESSAGE_WINDOW_D, "우리엘", "신을 위해 싸우는 용자여"
				CALL MESSAGE_WINDOW_D, "우리엘", "그대에게 내 힘을 주리라"
				
				CALL MESSAGE_WINDOW_D, "", "우리엘의 화염을 손에 넣었다"
				CALL LIFTING_A_BAN([[キャラ:우리엘]])
				CALL GET_ITEMS(ITEMNAME:4518,1)
				CALL MESSAGE_WINDOW_D, "", @"＞%ITEMNAME:4518%을 손에 넣었다"
				
				던전플래그:96:16 = 2
			ELSEIF 던전플래그:96:16 == 0
				CALL MESSAGE_WINDOW_D, "우리엘", "신을 위해 싸우는 용자여"
				CALL MESSAGE_WINDOW_D, "우리엘", "사악한 자들을/카테드랄로부터 쫓아내기 위해/지상에 빛을 가져오자"
				
				
				던전플래그:96:16 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "우리엘", "사악한 자들을/카테드랄로부터 쫓아내기 위해/지상에 빛을 가져오자"
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X)+2,(FLAG:현Y)
		;가브리엘이벤트　仮置き
		CASE 1001
			;扉の向こうに行くかの選択肢
			IF 던전플래그:96:17 < 3 && ( 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
				ENDIF
			ENDIF
		CASE 1000
			IF 던전플래그:96:17 == 3
				CALL MESSAGE_WINDOW_D, "", "아무도 없다//"
			ELSEIF 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3
				;それ이외、バトル、合体解禁
				CALL MESSAGE_WINDOW_D, "가브리엘", "오셨네요　악마의 유혹에 패배/그 몸을 추락시킨/죄 많은 자들이여"
				CALL MESSAGE_WINDOW_D, "가브리엘", "죽음으로 그 죄를 뉘우치십시오!"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:가브리엘]],80,0,2
				ABL:(CHARANUM-1):최저공격횟수 = 3
				ABL:(CHARANUM-1):최대공격횟수 = 3
				CFLAG:(CHARANUM-1):행동횟수 = 3
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				
				CALL MESSAGE_WINDOW_D, "가브리엘", "그 그대들에게는/대천사 미카엘님이/천벌을 줄 것입니다・・・"
				던전플래그:96:17 = 3
			ELSEIF 던전플래그:96:17 < 2 && 던전플래그:96:20 == 1
				;지저스레그、가브리엘仲魔化＆合体解禁
				CALL MESSAGE_WINDOW_D, "가브리엘", @"%CALLNAME:MASTER%이여/새로운 빛의 용자여"
				CALL MESSAGE_WINDOW_D, "가브리엘", "나의 힘이 깃든 빛을 당신들에게 드리겠습니다"
				
				CALL MESSAGE_WINDOW_D, "", "가브리엘의 유리를 손에 넣었다"
				CALL LIFTING_A_BAN([[キャラ:가브리엘]])
				CALL GET_ITEMS(ITEMNAME:4018,1)
				CALL MESSAGE_WINDOW_D, "", @"＞%ITEMNAME:4018%을 손에 넣었다"
				
				던전플래그:96:17 = 2
			ELSEIF 던전플래그:96:17 == 0
				CALL MESSAGE_WINDOW_D, "가브리엘", @"%CALLNAME:MASTER%이여/새로운 빛의 용자여"
				CALL MESSAGE_WINDOW_D, "가브리엘", "천년 왕국이 지상에 나타날 때까지/이제 한 고비"
				CALL MESSAGE_WINDOW_D, "가브리엘", "당신의 앞길에는/빛이 넘쳐흐르고 있습니다"
				
				던전플래그:96:17 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "가브리엘", "천년 왕국이 지상에 나타날 때까지/이제 한 고비"
				CALL MESSAGE_WINDOW_D, "가브리엘", "당신의 앞길에는/빛이 넘쳐흐르고 있습니다"
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
		;라파엘이벤트　仮置き
		CASE 1101
			;扉の向こうに行くかの選択肢
			IF 던전플래그:96:18 < 3 && ( 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
				ENDIF
			ENDIF
		CASE 1100
			IF 던전플래그:96:18 == 3
				CALL MESSAGE_WINDOW_D, "", "아무도 없다//"
			ELSEIF 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3
				;それ이외、バトル、合体解禁
				CALL MESSAGE_WINDOW_D, "라파엘", "미련한 놈 같으니라고　아직도 이 이상/살육을 반복하겠다는 건가"
				CALL MESSAGE_WINDOW_D, "라파엘", "피에 젖은 저주받은 사람의 자식이여!"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:라파엘]],85,0,2
				ABL:(CHARANUM-1):최저공격횟수 = 3
				ABL:(CHARANUM-1):최대공격횟수 = 3
				CFLAG:(CHARANUM-1):행동횟수 = 3
				ABL:(CHARANUM-1):스킬7 = 0
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				CALL MESSAGE_WINDOW_D, "라파엘", "・・・나　여기서 쓰러지더라도/천년왕국은/곧 지상에 나타난다・・・"
				
				던전플래그:96:18 = 3
			ELSEIF 던전플래그:96:18 < 2 && 던전플래그:96:20 == 1
				;지저스아머、라파엘仲魔化＆合体解禁
				CALL MESSAGE_WINDOW_D, "라파엘", @"오오! 로우의 힘이 넘치는/믿음직한 사람의 자식인 %CALLNAME:MASTER%이여/용케도 여기까지 왔다"
				CALL MESSAGE_WINDOW_D, "라파엘", "지상에 평화가 찾아올 때까지/그대에게 힘을 주리라"
				
				CALL MESSAGE_WINDOW_D, "", "라파엘의 날개을 손에 넣었다"
				CALL LIFTING_A_BAN([[キャラ:라파엘]])
				CALL GET_ITEMS(ITEMNAME:3518,1)
				CALL MESSAGE_WINDOW_D, "", @"＞%ITEMNAME:3518%을 손에 넣었다"
				
				던전플래그:96:18 = 2
			ELSEIF 던전플래그:96:18 == 0
				CALL MESSAGE_WINDOW_D, "라파엘", @"오오! 로우의 힘이 넘치는/믿음직한 사람의 자식인 %CALLNAME:MASTER%이여/용케도 여기까지 왔다"
				CALL MESSAGE_WINDOW_D, "라파엘", "파괴와 살육이 거듭되는/세기말의 세상에/종지부를 찍자않겠나?"
				던전플래그:96:18 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "라파엘", "파괴와 살육이 거듭되는/세기말의 세상에/종지부를 찍자않겠나?"
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
		;로우히어로이벤트　仮置き
		CASE 1400
			;扉の向こうに行くかの選択肢（로우히어로とのバトル）
			IF 던전플래그:96:12 < 3 && 던전플래그:96:10 == 3
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
				ENDIF
			ENDIF
		CASE 1401
			;この扉が通れるかの判断
			IF 던전플래그:96:19 != 3
				IF 던전플래그:96:10 == 2
					;カオス限定이벤트
					CALL MESSAGE_WINDOW_D, ワルオ, "빌어먹을! 문이 열리지 않아!/어떻게 하면 되는 거야・・・/내가 열수 있을만한 힘이 없단 말인가?!"
					CALL MESSAGE_WINDOW_D, ワルオ, @"%CALLNAME:MASTER%과(와) 여기까지 왔는데/보다시피 난처하게 됐군"
					CALL MESSAGE_WINDOW_D, ワルオ, "이 문이 열리기만 하면/미카엘이 있는 곳에 갈 수 있는데・・・"
					SIF 던전플래그:96:11 < 2
						CALL MESSAGE_WINDOW_D, ワルオ, "데빌링만 있다면・・・"
				ELSEIF 던전플래그:96:10 == 1 && 던전플래그:96:19 < 1
					;ロウ限定이벤트
					CALL MESSAGE_WINDOW_D, @"%ヨシオ%の声", "자　문을 열고/안으로 들어오세요"
					던전플래그:96:19 = 1
				ENDIF
				IF 던전플래그:96:19 < 3 && (던전플래그:96:10 == 3 || (던전플래그:96:10 == 2 && 던전플래그:96:11 == 2))
					;バトル
					IF 던전플래그:96:10 == 1
						;デビルリングで開く
						CALL MESSAGE_WINDOW_D, ワルオ, "오오!　데빌링을 가지고 있는거야!?/그걸 나한테 빌려줘!"
						
						CALL MESSAGE_WINDOW_D, "", @"%ワルオ%는 악마링을 집어들고/그걸 장착했다"
						CALL MESSAGE_WINDOW_D, ワルオ, "・・・오오옷　히　힘이 넘쳐흐르고 있어・・・/우오오옷!"
						CALL MESSAGE_WINDOW_D, "", @"%ワルオ%는 가볍게 문을 비집어 열었다"
						CALL MESSAGE_WINDOW_D, ワルオ, "왓핫하!　한손으로 열어버렸다/굉장하군!　얼마든지 힘이 솟는다/왓핫핫하!"
						CALL MESSAGE_WINDOW_D, ワルオ, "핫하하　난 이제　핫하하　누구에게도 지지 않는다/핫하하　신마저도　핫하하  능가하는 힘을 손에 넣었단말이다!/왓핫핫하"
						CALL MESSAGE_WINDOW_D, ワルオ, "응?　뭐  뭐야?　모　몸이"
						
						CALL MESSAGE_WINDOW_D, "", @"%ワルオ%의 몸이 부풀어 올라 터져버렸고! 그 파편이 사방팔방으로 흩어졌다!"
						CALL MESSAGE_WINDOW_D, ヨシオ, "・・・힘만을 추구했던 자가/불쌍한 최후를 맞은 것 같군요・・・"
						CALL MESSAGE_WINDOW_D, ヨシオ, "불쌍하지만 당연한 응보겠죠/신의 뜻에/거역했으니까 말이죠・・・"
						CALL MESSAGE_WINDOW_D, ヨシオ, "그리고 다음은 당신의 차례입니다/당신도 여기서 신을 거스른 자로서/마지막을 맞이하는 것입니다"
						CALL MESSAGE_WINDOW_D, ヨシオ, "일이 이렇게 되어 버려서/정말 유감입니다・・・"
						CALL MESSAGE_WINDOW_D, ヨシオ, "이것으로 영원히 이별입니다/그럼 안녕히!"
						
					ELSE
						CALL MESSAGE_WINDOW_D, ヨシオ, "아직 악마의 꼬드김에 현혹되어/눈이 떠지지 않습니까?"
						CALL MESSAGE_WINDOW_D, ヨシオ, "인간은 약한 법입니다/망설이고 상처입으며 그리고 죽어가죠・・・"
						CALL MESSAGE_WINDOW_D, ヨシオ, "지금의 그대는 그저 망설이고 있을 뿐이에요/로우도 카오스도 아닌 길을 찾는 것은/환상을 쫓고 있는 거나 마찬가지에요"
						CALL MESSAGE_WINDOW_D, ヨシオ, "당신이 마음을 열어준다면/당장이라도 눈을 뜨게 해줄 수 있었는데・・・/하지만 당신이 정신차리는 걸 기다려줄 수는 없습니다"
						CALL MESSAGE_WINDOW_D, ヨシオ, "신이 없는 힘은/힘있는 악마를 만들어 냅니다/그게 지금의 당신이에요"
						CALL MESSAGE_WINDOW_D, ヨシオ, "힘있는 악마를 살려둘 수는 없습니다"
					ENDIF
				
					FLAG:도주불가플래그 = 1
					FLAG:회화불능플래그 = 1
					FLAG:선제기습취소 = 1
					
					CALL SET_ENEMY,9,4219,90,0,3
					CSTR:(CHARANUM-1):사고패턴 = カテロウヒーロ
					CFLAG:(CHARANUM-1):BS무효플래그 = 1
					ABL:(CHARANUM-1):최저공격횟수 = 3
					ABL:(CHARANUM-1):최대공격횟수 = 3
					CFLAG:(CHARANUM-1):행동횟수 = 3
					ABL:(CHARANUM-1):스킬1 = 2447
					ABL:(CHARANUM-1):스킬2 = 2448
					ABL:(CHARANUM-1):스킬3 = 2460
					ABL:(CHARANUM-1):스킬4 = 2418
					ABL:(CHARANUM-1):스킬5 = 2457
					CFLAG:(CHARANUM-1):파마여데미지보정 = 100
					CFLAG:(CHARANUM-1):만능여데미지보정 = 100
					CFLAG:(CHARANUM-1):COOP피데미지보정 = -70
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)
					CFLAG:(CHARANUM-1):810 = MAXBASE:(CHARANUM-1):ＨＰ * 5/100
					
					CALL BATTLE_START
				
					FLAG:도주불가플래그 = 0
					FLAG:회화불능플래그 = 0
					FLAG:선제기습취소 = 0
					FLAG:인카운트율 = 0
					FLAG:미조우걸음수 = 0
					
					CALL MESSAGE_WINDOW_D, ヨシオ, "・・・이　이것이　신의 뜻/・・・입니까・・・/나는 다시 죽는 건가・・・"
					CALL MESSAGE_WINDOW_D, ヨシオ, "나는 신에게 선택받은 자가・・・아　아니었단 말인가・・・/신에게 바쳐지는・・・그런가・・・/나는 희생양에 지나지 않았던 것인가・・・"
					
					
					던전플래그:96:19 = 3
				ENDIF
			ENDIF
		;미카엘이벤트　仮置き
		;ロウルートだとヨシオ
		CASE 1500
			IF 던전플래그:96:20 == 3 || 던전플래그:96:20 == 2
				CALL MESSAGE_WINDOW_D, "", "아무도 없다//"
			ELSEIF 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3
				;それ이외、バトル、合体解禁（カオスルート限定（아수라왕））
				CALL MESSAGE_WINDOW_D, "미카엘", "드디어 여기까지 왔는가/이 내가 직접 나서야 되는 것인가"
				CALL MESSAGE_WINDOW_D, "미카엘", "악마에 영혼을 팔아넘기고/평화를 위해 내민 신의 손길을 거부하고/천년 왕국의 앞을 가로막았다・・・/이 가짜 구세주놈!"
				CALL MESSAGE_WINDOW_D, "미카엘", "살려둘 수는 없다!/지옥의 겁화에 불타는 게 좋을 것이다!/"
				
					FLAG:도주불가플래그 = 1
					FLAG:회화불능플래그 = 1
					FLAG:선제기습취소 = 1
					
					CALL SET_ENEMY,9,[[キャラ:미카엘]],95,0,4
					CSTR:(CHARANUM-1):사고패턴 = カテ미카엘
					CFLAG:(CHARANUM-1):BS무효플래그 = 1
					ABL:(CHARANUM-1):최저공격횟수 = 3
					ABL:(CHARANUM-1):최대공격횟수 = 3
					CFLAG:(CHARANUM-1):행동횟수 = 3
					ABL:(CHARANUM-1):스킬1 = 2447
					ABL:(CHARANUM-1):스킬2 = 2448
					ABL:(CHARANUM-1):스킬3 = 2419
					ABL:(CHARANUM-1):스킬4 = 2450
					ABL:(CHARANUM-1):스킬5 = 2454
					ABL:(CHARANUM-1):스킬6 = 2460
					ABL:(CHARANUM-1):스킬7 = 2510
					ABL:(CHARANUM-1):스킬8 = [[스킬:BS엑스트라]]
					CFLAG:(CHARANUM-1):물리여데미지보정 = 20
					CFLAG:(CHARANUM-1):마법여데미지보정 = 20
					CFLAG:(CHARANUM-1):물리피데미지보정 = -20
					CFLAG:(CHARANUM-1):마법피데미지보정 = -20
					CFLAG:(CHARANUM-1):COOP피데미지보정 = -20
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)
					CFLAG:(CHARANUM-1):810 = MAXBASE:(CHARANUM-1):ＨＰ * 5/100
					
					CALL BATTLE_START
				
					FLAG:도주불가플래그 = 0
					FLAG:회화불능플래그 = 0
					FLAG:선제기습취소 = 0
					FLAG:인카운트율 = 0
					FLAG:미조우걸음수 = 0
					
					
				CALL MESSAGE_WINDOW_D, "미카엘", "・・・신이여・・・//"
				CALL MESSAGE_WINDOW_D, "미카엘", "이 미카엘　애석하게도 힘이 부족한 탓에・・・/하느님 아버지  당신님을 영접하는 게 불가능해졌습니다・・・부디 용서를/・・・・・・・・・・・"
				
				던전플래그:96:20 = 3
				
				IF 던전플래그:96:10 == 2
					CALL MESSAGE_WINDOW_D, "", "미카엘을 쓰러뜨리자 검은 옷의 사나이가 나타났다"
					CALL MESSAGE_WINDOW_D, "검은 옷의 사나이", @"수고했다/%CALLNAME:MASTER%・・・"
					CALL MESSAGE_WINDOW_D, "", "검은 옷의 사나이는 루시퍼로 모습을 바꾸었다"
					CALL MESSAGE_WINDOW_D, "루시퍼", "법의 신・・・　그의 계획은 저지되었다/마계에 떨어진 신들은 부활하고/지상에 다시 황금시대가 온다"
					CALL MESSAGE_WINDOW_D, "루시퍼", "혼돈이야말로 세계의 모습이다!　좀 더 강한/보다 아름다운 자들이 속속 생겨나는/파괴와 재생은 영원히 계속된다!"
					CALL MESSAGE_WINDOW_D, "루시퍼", "그러나 법의 신은 멸망하지 않았다/그 사람이야말로 진정한 파괴자이자/세계에 침묵을 가져오는 것이다・・・"
					CALL MESSAGE_WINDOW_D, "루시퍼", "나도 그의 일부일 뿐이다/이게 뭘 뜻하는지/사람의 아이여 잘 생각하라・・・"
					CALL LIFTING_A_BAN([[キャラ:아수라왕]])
					CALL ENDING_NO34
					;カオスエンド
				ELSEIF 던전플래그:96:11 == 3
					CALL ENDING_NO32
					;Nエンド
				ELSE
					CALL MESSAGE_WINDOW_D, "", "다음은 지하에 있는 아수라왕을 쓰러트리러 가자"
				ENDIF
				
			ELSEIF 던전플래그:96:20 == 1 && 던전플래그:96:18 > 1 && 던전플래그:96:17 > 1 && 던전플래그:96:16 > 1
				;合体解禁、エンゼルリング？
				
				CALL MESSAGE_WINDOW_D, ヨシオ, "세 가지 모두 갖추어졌네요/이쪽도 합체 준비가 되었습니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "엔젤링을 만듭시다"
				CALL MESSAGE_WINDOW_D, "", "엔젤링을 손에 넣었다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "이걸로 아수라왕이 있는 곳으로/길이 열릴 것입니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "잘 부탁합니다"
				
				;別の場所に합성マ스타を置いておく？
				던전플래그:96:20 = 2
			ELSEIF 던전플래그:96:20 == 1
				CALL MESSAGE_WINDOW_D, ヨシオ, "엔젤링은/우리엘의 불꽃  가브리엘의 유리/라파엘의 날개가 필요합니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "잘 부탁합니다"
			;IF 던전플래그:96:20 == 0
			ELSE
				CALL MESSAGE_WINDOW_D, ヨシオ, "신이 낳은 인간은/결국 타락하고 말았습니다/"
				;CALL MESSAGE_WINDOW_D, ヨシオ, "파괴된 세계는 혼돈 그 자체/카오스의 사람들은 기뻐하고 있겠지요"
				CALL MESSAGE_WINDOW_D, ヨシオ, "하지만 신은 인간을 포기하지 않았습니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "신의 자비는 인간을 절망의 구렁텅이에서 구해내어/다시 한번 회개할 기회를/주려고 하는 겁니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "그게 신의 구원인 천년왕국"
				CALL MESSAGE_WINDOW_D, ヨシオ, "하느님 밑에서 영원한 평화가/찾아오는 세상인 것입니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "그리고 천년왕국을 위해서/신이 강림하는 카테드랄이/신을 숭상하기 위해 필요했던 것입니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "카테드랄을 악마의 손에서 되찾으려면/아수라왕을 쓰러뜨릴 수밖에 없습니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "하지만 아수라왕이 있는 곳에 가기 위해서는/엔젤링이 필요합니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "엔젤링은/우리엘의 불꽃　가브리엘의 유리/라파엘의 날개가 필요합니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "저는 합체를 위한 의식을 준비하고 있겠습니다"
				CALL MESSAGE_WINDOW_D, ヨシオ, "부디 잘 부탁합니다"
				
				던전플래그:96:20 = 1
			;ELSE
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
			;미카엘仲魔化＆合体解禁、エンゼルリング
			
			;それ이외、バトル、合体解禁
		CASE 1501
			;扉の向こうに行くかの選択肢
			IF 던전플래그:96:20 < 3 && ( 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]저편으로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
				ENDIF
			ENDIF
		
		;外周部이벤트
		;右の塔
		CASE 1600
			IF 던전플래그:96:32 > 0 || 던전플래그:96:31 > 1
				CALL DUNGEON_WORP_96,18,10,18
			ELSE
				CALL MESSAGE_WINDOW_D, "", "/＞문은 이상한 힘으로 닫혀 있다/" , , , , , , , , , "CENTER"
				CALL DUNGEON_WORP_96,(FLAG:현M),(FLAG:현X),(FLAG:현Y + 1)
				IF 던전플래그:96:10 == 3
					;鏡が光って扉の封印が解ける
					SIF GETBIT(던전플래그:20:8,0)
						CALL MESSAGE_WINDOW_D, "", "/＞아마테라스의 거울을 사용해서 지나갈 수 있게 했다/" , , , , , , , , , "CENTER"
					던전플래그:96:32 = 1
				ENDIF
			ENDIF
		;左の塔
		CASE 1601
			IF 던전플래그:96:31 > 0 || 던전플래그:96:32 > 1
				CALL DUNGEON_WORP_96,17,10,18
			ELSE
				CALL MESSAGE_WINDOW_D, "", "/＞문은 이상한 힘으로 닫혀 있다/" , , , , , , , , , "CENTER"
				CALL DUNGEON_WORP_96,(FLAG:현M),(FLAG:현X),(FLAG:현Y + 1)
				IF 던전플래그:96:10 == 3
					;鏡が光って扉の封印が解ける
					SIF GETBIT(던전플래그:20:8,0)
						CALL MESSAGE_WINDOW_D, "", "/＞아마테라스의 거울을 사용해서 지나갈 수 있게 했다/" , , , , , , , , , "CENTER"
					던전플래그:96:31 = 1
				ENDIF
			ENDIF
		CASE 1602
			CALL DUNGEON_WORP_96,19,1,1
			
		;ラーマ이벤트　仮置き
		CASE 1700
			IF 던전플래그:96:31 == 3
				CALL MESSAGE_WINDOW_D, "", "＞아무도 없다"
			ELSEIF 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3
				;전투
				CALL MESSAGE_WINDOW_D, "라마", "눈 앞에 인간이 나타나는 것도/오랜만이구나/"
				CALL MESSAGE_WINDOW_D, "라마", "네놈  인간인 주제에/내 앞을 가로막다니/그대  라바나의 화인인가!?"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:라마]],70,0,1
				;CFLAG:(CHARANUM-1):ＨＰ보정 = 500
				;CFLAG:(CHARANUM-1):ＭＰ보정 = 4000
				ABL:(CHARANUM-1):최저공격횟수 = 4
				ABL:(CHARANUM-1):최대공격횟수 = 4
				CFLAG:(CHARANUM-1):행동횟수 = 2
				;ABL:(CHARANUM-1):스킬1 = 
				ABL:(CHARANUM-1):스킬2 = 530
				ABL:(CHARANUM-1):스킬3 = 938
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				
				
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				CALL MESSAGE_WINDOW_D, "라마", "신도 악마도 아닌/하물며 라바나의 화신도 아닌/단지 한낱 인간따위에게 지다니…"
				IF 던전플래그:96:10 == 3
					CALL MESSAGE_WINDOW_D, "", @"방을 나가면 거기에는 %ヨシオ%가 있다//"
					CALL MESSAGE_WINDOW_D, ヨシオ, "라마님을 쓰러뜨린 것 같네요"
					CALL MESSAGE_WINDOW_D, ヨシオ, "라마님을 쓰러뜨린 것 같네요/이제 당신에게 전할 말은/아무 것도 없습니다・・・"
					CALL MESSAGE_WINDOW_D, ヨシオ, "다음에 만날 때 전 당신을/신의 적으로 간주하고 쓰러트리겠습니다/정말 유감입니다"
					CALL MESSAGE_WINDOW_D, "", @"%ヨシオ%는 그 자리를 떠났다//"
				ENDIF
				IF 던전플래그:96:32 == 3
					;極みNに
					FLAG:속성고정LC = 2
					던전플래그:96:23 = 1
				ENDIF
				던전플래그:96:31 = 3
			ELSEIF 던전플래그:96:31 == 2 && 던전플래그:96:32 == 3
				IF 던전플래그:96:23 == 1
					CALL MESSAGE_WINDOW_D, "라마", "카테드랄의 중심문인 결계를 지나갈 수 있는 가호를 내려주마/카테드랄의 지하에 있는 아수라왕을 쓰러트리러 가는 거다/"
					;CALL MESSAGE_WINDOW_D, "라마", "다만 엔젤링이 없다면 녀석은 쓰러지지 않는다/우선은 정상에 있는 미카엘을 만나러 가라/"
					CALL MESSAGE_WINDOW_D, "라마", "부탁한다//"
				ELSE
					CALL MESSAGE_WINDOW_D, "라마", "잘도　라바나를 쓰러뜨려 주었다/이걸로 카테드랄이 완성된 후에 신을 불러낼 수 있을 것이다/"
					CALL MESSAGE_WINDOW_D, "라마", "카테드랄의 중심문인 결계를 지나갈 수 있는 가호를 내려주마/카테드랄의 지하에 있는 아수라왕을 쓰러트리러 가는 거다/"
					;CALL MESSAGE_WINDOW_D, "라마", "다만 엔젤링이 없다면 녀석은 쓰러지지 않는다/우선은 정상에 있는 미카엘을 만나러 가라/"
					CALL MESSAGE_WINDOW_D, "", @"방을 나가면 거기에는 %ヨシオ%가 있다//"
					CALL MESSAGE_WINDOW_D, ヨシオ, @"%CALLNAME:MASTER%군/일이 크게 되어 버렸습니다/"
					CALL MESSAGE_WINDOW_D, ヨシオ, @"%ワルオ%군이 카테드랄의 동력로를/작동시켜버렸습니다"
					CALL MESSAGE_WINDOW_D, ヨシオ, "그리고 카오스의 군단을 이끌고/천마 아수라왕이 카테드랄의/지하 8층을 점거했습니다"
					CALL MESSAGE_WINDOW_D, ヨシオ, "최상층에 계시는 미카엘님도/이 사태에 마음 아파하고 계십니다/카테드랄을 되찾기 위해서/아수라왕을 쓰러뜨려야 합니다…"
					CALL MESSAGE_WINDOW_D, "", @"%ヨシオ%은 그 자리를 떠났다//"
					;極LOWになる
					FLAG:속성고정LC = 1
					던전플래그:96:23 = 1
				ENDIF
			ELSEIF 던전플래그:96:31 == 2
				;ラーマの応援コメント
				CALL MESSAGE_WINDOW_D, "라마", "동쪽 탑에 있는 라바나를 토벌해주게//"
				CALL MESSAGE_WINDOW_D, "라마", @"부탁한다　%CALLNAME:MASTER%이여…//"
			ELSE
				;ラーマから라바나討伐의뢰(LOWルートなのでNOでも裏切らない)
				;ついでにここから動けない理由も言っとく
				CALL MESSAGE_WINDOW_D, "라마", "눈 앞에 인간이 나타나는 것도/오래간만이구나/네놈은 에키드나를 쓰러트린 인간이냐?"
				CALL MESSAGE_WINDOW_D, "라마", "지금　이 탑에서 신을 부르려 하는데/라바나에게 그 방해를 받고있어/"
				CALL MESSAGE_WINDOW_D, "라마", "라바나는 동쪽 탑에 있는데/나는 신을 불러내야 하기 때문에 이곳에서 움직일 수 없다/"
				CALL MESSAGE_WINDOW_D, "라마", "너에게 동쪽 탑에 갈 수 있는 가호와 무기를 주겠다/라바나를 토벌해주게/"
				;샤랑가を貰える
				CALL GET_ITEMS("샤랑가",1)
				CALL MESSAGE_WINDOW_D, "", @"＞샤랑가을 손에 넣었다"
				CALL MESSAGE_WINDOW_D, "라마", @"부탁한다　%CALLNAME:MASTER%이여…//"
				던전플래그:96:31 = 2
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
		CASE 1701
			IF 던전플래그:96:31 < 2 && ( 던전플래그:96:10 == 2 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]문 너머로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
				ENDIF
			ENDIF
		CASE 1702
			CALL DUNGEON_WORP,16,8,31
			
		;라바나이벤트　仮置き
		CASE 1800
			IF 던전플래그:96:32 == 3
				CALL MESSAGE_WINDOW_D, "", "＞아무도 없다"
			ELSEIF 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3
				;전투
				CALL MESSAGE_WINDOW_D, "라바나", "인간인가・・・//"
				CALL MESSAGE_WINDOW_D, "라바나", "들어라!/나는 지금 라마와/마지막 결판을 내려던 참이다"
				CALL MESSAGE_WINDOW_D, "라바나", "내가 여기에서 쓰러지면/천공으로부터 카테드랄까지/가로막는 것이 없어진다"
				CALL MESSAGE_WINDOW_D, "라바나", "감히 나에게 맞서다니/라마의 힘을 얻은 것인가/재미있군 잠시 놀아주마"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:라바나]],60,0,1
				;CFLAG:(CHARANUM-1):ＨＰ보정 = 500
				;CFLAG:(CHARANUM-1):ＭＰ보정 = 4000
				ABL:(CHARANUM-1):최저공격횟수 = 2
				ABL:(CHARANUM-1):최대공격횟수 = 5
				ABL:(CHARANUM-1):스킬3 = 215
				CFLAG:(CHARANUM-1):행동횟수 = 2
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
			
				CALL MESSAGE_WINDOW_D, "라바나", "또다시 라마를 죽이지 못하고/망하는가…/"
				CALL MESSAGE_WINDOW_D, "", "＞방 안쪽에서 악마가 나타났다//"
				CALL MESSAGE_WINDOW_D, "인드라지트", "기다려라!　우리 아버지 라바나의 원수!/놓치지 않겠다!/"
				
				FLAG:도주불가플래그 = 1
				FLAG:회화불능플래그 = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9,[[キャラ:인드라지트]],65,0,1
				;CFLAG:(CHARANUM-1):ＨＰ보정 = 500
				;CFLAG:(CHARANUM-1):ＭＰ보정 = 4000
				ABL:(CHARANUM-1):최저공격횟수 = 3
				ABL:(CHARANUM-1):최대공격횟수 = 4
				CFLAG:(CHARANUM-1):행동횟수 = 2
				ABL:(CHARANUM-1):스킬1 = 906
				ABL:(CHARANUM-1):스킬2 = 1230
				ABL:(CHARANUM-1):스킬3 = 938
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				
				
				FLAG:도주불가플래그 = 0
				FLAG:회화불능플래그 = 0
				FLAG:선제기습취소 = 0
				FLAG:인카운트율 = 0
				FLAG:미조우걸음수 = 0
				
				CALL MESSAGE_WINDOW_D, "인드라지트", "무  무념・・・//"
				던전플래그:96:32 = 3
				IF 던전플래그:96:10 == 3
					CALL MESSAGE_WINDOW_D, "", @"방을 나가면 거기에는 %ワルオ%가 있다//"
					CALL MESSAGE_WINDOW_D, ワルオ, "뭐야 이거　라바나를 쓰러트리다니・・・/"
					CALL MESSAGE_WINDOW_D, ワルオ, "다음에 만날 때는 원수지간이다! 목을 씻고 각오하고 있어라!"
					CALL MESSAGE_WINDOW_D, "", @"%ワルオ%는 그 자리를 떠났다//"
				ENDIF
				IF 던전플래그:96:31 == 3
					;極みNに
					FLAG:속성고정LC = 2
					던전플래그:96:23 = 1
				ENDIF
			ELSEIF 던전플래그:96:32 == 2 && 던전플래그:96:31 == 3
				IF 던전플래그:96:23 == 1
					CALL MESSAGE_WINDOW_D, "라바나", "카테드랄의 중심문인 결계를 지나갈 수 있는 가호를 내려주마/카테드랄의 정상에 있는 미카엘을 쓰러트리러 가는 거다/"
					;CALL MESSAGE_WINDOW_D, "라바나", "단 데빌링이 없으면 녀석은 쓰러트릴 수 없다/일단 지하에 있는 아수라왕을 만나러 가라/"
					CALL MESSAGE_WINDOW_D, "라바나", "부탁한다//"
				ELSE
					CALL MESSAGE_WINDOW_D, "라바나", "호오・・・/라마를 쓰러뜨렸는가・・・/"
					CALL MESSAGE_WINDOW_D, "라바나", "카테드랄의 중심문인 결계를 지나갈 수 있는 가호를 내려주마/카테드랄의 정상에 있는 미카엘을 쓰러트리러 가는 거다/"
					;CALL MESSAGE_WINDOW_D, "라바나", "단 데빌링이 없으면 녀석은 쓰러트릴 수 없다/일단 지하에 있는 아수라왕을 만나러 가라/"
					CALL MESSAGE_WINDOW_D, "라바나", "부탁한다//"
					CALL LIFTING_A_BAN([[キャラ:라바나]])
					CALL MESSAGE_WINDOW_D, "", @"방을 나가면 거기에는%ワルオ%가 있다//"
					CALL MESSAGE_WINDOW_D, ワルオ, "마침내 카테드랄의 동력로를/움직였다/"
					CALL MESSAGE_WINDOW_D, ワルオ, "게다가 상급천사 무리들을 거느리고/대천사 미카엘이/카테드랄의 8층에 행차했다고 해"
					CALL MESSAGE_WINDOW_D, ワルオ, "지하 8층에 아수라왕이 있는데/로우 놈들　카테드랄에 누가 있든/신을 불러낼 작정인 거야"
					CALL MESSAGE_WINDOW_D, ワルオ, "그러기 전에 미카엘을 박살내버릴 테다!//"
					CALL MESSAGE_WINDOW_D, "", @"%ワルオ%는 그 자리를 떠났다//"
					;極CAOSEになる
					FLAG:속성고정LC = 3
					던전플래그:96:23 = 1
				ENDIF
			ELSEIF 던전플래그:96:32 == 2
				;라바나の応援コメント
				CALL MESSAGE_WINDOW_D, "라바나", "라마는 서쪽 탑에 있다/부탁한다/"
			ELSE
				;라바나からラーマ討伐의뢰(CAOSEルートなのでNOでも裏切らない)
				;ついでにここから動けない理由も言っとく
				CALL MESSAGE_WINDOW_D, "라바나", @"인간인가・・・/아니、%CALLNAME:MASTER%인가/"
				CALL MESSAGE_WINDOW_D, "라바나", "이야기는 들었다/너는　가이아를 위해 하니엘을 쓰러뜨렸다면서?/"
				CALL MESSAGE_WINDOW_D, "라바나", "들어라/서쪽 탑에 있는 라마가 신을 부르려 하고 있다/"
				CALL MESSAGE_WINDOW_D, "라바나", "우리는 지금 여기서 신의 강림을 막고 있다/서쪽 탑에 있는 라마를 쓰러뜨렸으면 한다/"
				CALL MESSAGE_WINDOW_D, "라바나", "너에게는 서쪽 탑에 들어갈 수 있는 가호와 이 무기를 주마//"
				;흑선풍を貰える
				CALL GET_ITEMS("흑선풍",1)
				CALL MESSAGE_WINDOW_D, "", @"＞흑선풍을 손에 넣었다"
				CALL MESSAGE_WINDOW_D, "라바나", "부탁한다//"
				던전플래그:96:32 = 2
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
		CASE 1801
			IF 던전플래그:96:32 < 2 && ( 던전플래그:96:10 == 1 || 던전플래그:96:10 == 3 )
				CALL INPUT_SELECT_D, "[0]문 너머로 간다/[1]가지 않는다"
				IF RESULT == 1
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+1
				ELSE
					CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)-2
				ENDIF
			ENDIF
		CASE 1802
			CALL DUNGEON_WORP,16,51,30
			
		CASE 1900
			CALL DUNGEON_WORP,16,6,6
		CASE 1901
			;마사카도이벤트
			IF 던전플래그:96:10 == 3 && 던전플래그:96:33 == 0 && !던전플래그:96:1
				CALL MESSAGE_WINDOW_D, "마사카도", "짐은 1천 년의 긴 세월에 걸쳐/도쿄의 수호를 맡은/타이라노 마사카도다"
				;CALL MESSAGE_WINDOW_D, "마사카도", "짐의 책무도/이제 막바지에 이른 듯하다"
				;CALL MESSAGE_WINDOW_D, "마사카도", "도쿄는 로우와 카오스의/싸움으로 말미암아 완전히 파괴되었다"
				;CALL MESSAGE_WINDOW_D, "마사카도", "그렇기에 이제는 지키는 게 불가능할 정도로 몰려있었는데/어느 순간 그대 같은 사람의 아이가/나타났다"
				CALL MESSAGE_WINDOW_D, "마사카도", "총대장을 능가하는 건 그대이다/그대의 출현이 싸움을 끝내고/새로운 시대를 열 것이다"
				CALL MESSAGE_WINDOW_D, "마사카도", "자네에게는 이것을 주겠다/받는 것이 좋다"
				;将門の검を貰う
				CALL GET_ITEMS("마사카도의검",1)
				CALL MESSAGE_WINDOW_D, "", @"＞마사카도의 검을 손에 넣었다"
				CALL MESSAGE_WINDOW_D, "마사카도", "북쪽의 보물고의 물건도 네게 주마/그럼 잘 있거라"
				
				
				던전플래그:96:33 = 1
			ELSE
				CALL MESSAGE_WINDOW_D, "", "＞아무도 없다"
			ENDIF
			CALL DUNGEON_WORP,(FLAG:현M),(FLAG:현X),(FLAG:현Y)+2
		;カオス街이벤트　仮置き
		CASE 11
			;던전플래그:(FLAG:현던전):31　街이벤트플래그
			
		;ロウ街이벤트　仮置き
		CASE 12
		
			
		;巡回템플나이트이벤트
		CASE 501
			;巡回템플나이트との遭遇ポイント、1回目の遭遇
			IF 던전플래그:(FLAG:현던전):24 == 0
				던전플래그:(FLAG:현던전):24 = 1
				IF FLAG:현M == 5
					던전플래그:(FLAG:현던전):26 = 1
				ELSEIF FLAG:현M == 7
					던전플래그:(FLAG:현던전):27 = 1
				ELSE
					던전플래그:(FLAG:현던전):28 = 1
				ENDIF
			;二度눈の遭遇　仮置き
			ELSEIF 던전플래그:(FLAG:현던전):24 == 1
				
			;三度눈の遭遇、회복したので無事　仮置き
			ELSEIF 던전플래그:(FLAG:현던전):24 == 2
				
			;三度눈の遭遇、負傷していたのを放置したので……　仮置き
			ELSEIF 던전플래그:(FLAG:현던전):24 == 3
				
			;見捨てられた遺体　仮置き
			ELSEIF (던전플래그:(FLAG:현던전):24 == 7 && FLAG:현M == 5) || (던전플래그:(FLAG:현던전):24 == 8 && FLAG:현M == 7) || (던전플래그:(FLAG:현던전):24 == 9 && FLAG:현M == 9)
				
			ENDIF
		CASEELSE
			CALL WARP_96
			RETURN 1
	ENDSELECT
ENDIF
RETURN 0





;=======================================================================
;인카운트율
;=======================================================================
@ENCOUNT_RATE_96
SELECTCASE FLAG:현M
	CASE 8
		IF 던전플래그:(FLAG:현던전):20 < 3 && ((FLAG:현X > 16 && FLAG:현X < 32 && FLAG:현Y > 40) || (FLAG:현X == 23 && FLAG:현Y > 36))
			;미카엘未討伐時、카테드랄ロウの街のみエンカなし
			FLAG:미조우걸음수 = 0
			FLAG:인카운트율 = 0
		ELSE
			FLAG:인카운트율 = MAX(FLAG:미조우걸음수 * 5 - 35, 0)
		ENDIF
	CASE 16
		FLAG:인카운트율 = MAX(FLAG:미조우걸음수 - 10, 0)
	CASEELSE
		FLAG:인카운트율 = MAX(FLAG:미조우걸음수 * 5 - 35, 0)
ENDSELECT
;=======================================================================
;필요레벨눈安
;권장LV 雑魚최저LV 雑魚최고LV ボスLV 
;=======================================================================
@GET_DUNGEON_LV_96
RETURN 50, 44, 75, 95
;=======================================================================
;エンカウント処理
;=======================================================================
@CHECK_ENCOUNT_96
IF RAND:100 < FLAG:인카운트율
	CALL ENEMY_TABLE
	RETURN 1
ELSE
	FLAG:미조우걸음수 += 1
	RETURN 0
ENDIF
;=======================================================================
;적の종족の종류数
;=======================================================================
@CLASS_NUM_96
SELECTCASE FLAG:현M
	;B1Fと1Fと外周部이외は最上級
	CASE 0,1,2,3,4,5,6,9,10,11,12,13,14,15
		RETURN CLASS_NUM_COMMON("最上級")
	CASE 7,8,16
		RETURN CLASS_NUM_COMMON("上級")
	;あくまで応急処置
	CASEELSE
		RETURN CLASS_NUM_COMMON("上級")
ENDSELECT

;=======================================================================
;적の総数
;=======================================================================
@ENEMY_NUM_96, ARG
SELECTCASE FLAG:현M
	;B1Fと1Fと外周部이외は最上級
	CASE 0,1,2,3,4,5,6,9,10,11,12,13,14,15
		RETURN ENEMY_NUM_COMMON("最上級", ARG)
	CASE 7,8,16
		RETURN ENEMY_NUM_COMMON("上級", ARG)
	CASEELSE
		RETURN ENEMY_NUM_COMMON("上級", ARG)
ENDSELECT
;=======================================================================
;적の종류
;=======================================================================
@ENEMY_96, ARG
#LOCALSIZE 1
SELECTCASE FLAG:현M
	CASE 0,1,2
		LOCAL = 6
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:파프니르]],66
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:하리티]],67
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:펜드래곤]],67
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:펜리르]],68
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:플라로우스]],72
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:칼리]],75
			
		;SELECTCASE RAND:100
		;	CASE IS < 20
		;		RETURN [[キャラ:파프니르]],66
		;	CASE IS < 40
		;		RETURN [[キャラ:하리티]],67
		;	CASE IS < 60
		;		RETURN [[キャラ:펜드래곤]],67
		;	CASE IS < 80
		;		RETURN [[キャラ:펜리르]],68
		;	CASE IS < 90
		;		RETURN [[キャラ:플라로우스]],72
		;	CASEELSE
		;		RETURN [[キャラ:칼리]],75
		;ENDSELECT
	CASE 3,4
		LOCAL = 6
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:란다]],60
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:야마타노오로치]],63
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:리치]],66
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:아바돈]],66
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:하리티]],67
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:뱀파이어]],68
			
	CASE 5,6,18
		LOCAL = 8
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:이참나]],57
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:란다]],58
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:서큐버스]],58
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:리치]],60
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:어새신]],60
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:아바돈]],60
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:사마엘]],61
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:뱀파이어]],62
	
	CASE 7 , 16
		LOCAL = 13
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:지라이야]],18
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:괴뢰자]],12
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:네오파이트]],18
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:메이거스]],35
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:템플나이트(여성)]],25
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:떠돌이무녀]],25
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:다키니]],46
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:서큐버스]],44
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:현무]],46
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:트롤]],46
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:쿠・훌린]],46
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:뱀파이어]],48
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:암법사]],52
				
	CASE 8
		LOCAL = 7
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:암법사]],52
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:스캐너]],53
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:이참나]],53
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:케찰코아틀]],54
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:기리메칼라]],54
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:아틀라스]],57
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:가네샤]],58
	CASE 9,10,17
		LOCAL = 8
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:달인]],57
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:스캐너]],58
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:이참나]],58
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:기리메칼라]],59
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:케찰코아틀]],59
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:쿠・훌린]],60
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:가네샤]],61
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:테스카틀리포카]],62
	CASE 11,12
		LOCAL = 6
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:터미네이터]],60
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:쿠・훌린]],60
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:가네샤]],63
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:펜리르]],65
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:야마타노오로치]],65
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:하누만]],66
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:오르커스]],68
	CASE 13,14,15
		LOCAL = 7
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:가네샤]],65
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:펜드래곤]],67
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:오베론]],68
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:하누만]],68
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:펜리르]],68
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:오르커스]],72
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:도철]],75
	CASE 19
		LOCAL = 7
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:타케미카즈치]],70
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:아타파구]],75
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:킨마몬]],75
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:후츠누시]],71
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:아라미사키]],72
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:미야스도코로]],73
		SIF !RAND:(LOCAL--)
				RETURN [[キャラ:센코]],74
	;応急処置
	CASEELSE
		LOCAL = 6
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:파프니르]],66
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:하리티]],67
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:펜드래곤]],67
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:펜리르]],68
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:플라로우스]],72
		SIF !RAND:(LOCAL--)
			RETURN [[キャラ:칼리]],75
ENDSELECT


;CALL ENDING_NO32
@ENDING_NO32
;ｎ
PRINTFORMW ＞카테드랄에 있는 로우、카오스의 군세를 섬멸했다
PRINTFORMW 카테드랄을 이용한다면 여러 가지 일이 가능하다
PRINTFORMW 이 카테드랄을 팬텀을 위해 썼는지
PRINTFORMW 아니면 자기를 위해서 썼는지는
PRINTFORMW 그것은 또 다른 이야기
PRINTFORML
PRINTFORMW 　　　　　　　　―― Ending No.032 (진・여신전생　NEUTRAL-END)
FLAG:속성고정LC = 0
FLAG:게임모드 = 9
던전플래그:96:1 = 1
SETBIT FLAG:발견ED,32
PRINTFORML [1]계속한다 [2]일부의 데이터를 이어받아、새롭게 시작한다
CALL INPUTINT,1, 2
IF RESULT == 1
	FLAG:탈출 = 1
	RETURN 0
ELSEIF RESULT == 2
	CALL START_NEWGAME
	RETURN 1
ENDIF

@ENDING_NO33
	;ロウエンド
	PRINTFORMW ＞메시아의 군세는 카테드랄에 신을 강림시켰다
	PRINTFORMW 천년왕국의 창조가 이제부터 시작될 것이다
	PRINTFORMW 당신은 이대로 메시아에게 협력했는지
	PRINTFORMW 메시아교를 이용해 팬텀에 공헌했는지
	PRINTFORMW 그것은 또 다른 이야기
	PRINTFORML
	PRINTFORMW 　　　　　　　　―― Ending No.033 (진・여신전생　LAW-END)
FLAG:속성고정LC = 0
FLAG:게임모드 = 9
던전플래그:96:1 = 1
SETBIT FLAG:발견ED,33
PRINTFORML [1]계속한다 [2]일부의 데이터를 이어받아、새롭게 시작한다
CALL INPUTINT,1, 2
IF RESULT == 1
	FLAG:탈출 = 1
	RETURN 0
ELSEIF RESULT == 2
	CALL START_NEWGAME
	RETURN 1
ENDIF

@ENDING_NO34
	;カオス
	PRINTFORMW ＞가이아의 군세에 협력해 카테드랄을 손에 넣었다
	PRINTFORMW 타락한 옛 신들이 강림하여
	PRINTFORMW 이 세상은 더욱 악마가 만연할 것이다
	PRINTFORML
	PRINTFORMW 　　　　　　　　―― Ending No.034 (진・여신전생　CHAOS-END)
FLAG:속성고정LC = 0
FLAG:게임모드 = 9
던전플래그:96:1 = 1
SETBIT FLAG:발견ED,34
PRINTFORML [1]계속한다 [2]일부의 데이터를 이어받아、새롭게 시작한다
CALL INPUTINT,1, 2
IF RESULT == 1
	FLAG:탈출 = 1
	RETURN 0
ELSEIF RESULT == 2
	CALL START_NEWGAME
	RETURN 1
ENDIF

;=======================================================================
;宝箱の中身
;=======================================================================
@TREASURE_96
#LOCALSIZE 3
;宝箱のフラグ管理用変数の番号
LOCAL = FLAG:현M + 70
;そのマップの何番눈の宝箱か
LOCAL:1 = (DA:(FLAG:현X):(FLAG:현Y) / 10) % 100

;LV70레이피어(일루미나티)
;LV70활(솔로몬의활)
;LV70저주의톱니바퀴

;/10はIDを10で割る。つまり、下一桁をなくして、二桁눈と三桁눈を二桁の数字として取り出している
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
	;マップ番号*100+そのマップで何番눈の宝箱かを示す수치でどの宝箱かを判別します。
	;例えば0の場合、0版のマップの0番눈の宝箱であることを表しています。
	CASE 100
		;阿弥陀염주がないので
		CALL GET_TREASURE, [[아이템:염주]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 101
		CALL GET_TREASURE, [[아이템:소마]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 102
		;如来像がないので即死회피아이템を
		CALL GET_TREASURE, [[아이템:은의마니샤]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 200
		CALL GET_TREASURE, [[아이템:반혼향]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 201
		;煙幕弾互換
		CALL GET_TREASURE, [[아이템:눈속임의구슬]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 202
		CALL GET_TREASURE, [[아이템:비공침]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 300
		;ドラゴンATM互換、전체だけどラスト던전想定だしいいでしょ
		CALL GET_TREASURE, [[아이템:회오리의곡옥]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 301
		CALL GET_TREASURE, [[아이템:비공침]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 302
		;とりあえず罠箱は全部これ
		CALL GET_TREASURE_TRAP, "ＨＰ", 25 , GET_TYPE_NUM("만능") , FLAG:현던전, LOCAL , LOCAL:1
	CASE 400
		;闇の탄환の代わり
		CALL GET_TREASURE, [[아이템:저주의탄환]] , 20 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 401
		CALL GET_TREASURE, [[아이템:터키석]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 500
		CALL GET_TREASURE, [[아이템:루비]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 501
		CALL GET_TREASURE, [[아이템:오팔]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 502
		;真I仕様の피스메이커用意するまで仮置き
		CALL GET_TREASURE, [[아이템:피스메이커]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 503
		CALL GET_TREASURE, [[아이템:오닉스]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 504
		CALL GET_TREASURE, [[아이템:사파이어]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 600
		CALL GET_TREASURE, [[아이템:쿠리카라의검]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 601
		CALL GET_TREASURE, [[아이템:토파즈]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 700
		CALL GET_TREASURE_TRAP, "ＨＰ", 25 , GET_TYPE_NUM("만능") , FLAG:현던전, LOCAL , LOCAL:1
	CASE 701
		CALL GET_TREASURE_MAG, , 2960 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 702
		CALL GET_TREASURE, [[아이템:코어실드]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 703
		CALL GET_TREASURE, [[아이템:독화살]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 704
		CALL GET_TREASURE_TRAP, "ＨＰ", 25 , GET_TYPE_NUM("만능") , FLAG:현던전, LOCAL , LOCAL:1
	CASE 705
		;CALL GET_TREASURE_MAG, , 3200 , FLAG:현던전, LOCAL , LOCAL:1◎
		CALL GET_TREASURE, [[아이템:일루미나티]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 800
		CALL GET_TREASURE, [[아이템:소마]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 801
		CALL GET_TREASURE_TRAP, "ＨＰ", 25 , GET_TYPE_NUM("만능") , FLAG:현던전, LOCAL , LOCAL:1
	CASE 802
		;CALL GET_TREASURE_MAG, , 3200 , FLAG:현던전, LOCAL , LOCAL:1◎
		CALL GET_TREASURE, [[아이템:솔로몬의활]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 803
		;煙幕弾互換
		CALL GET_TREASURE, [[아이템:눈속임의구슬]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 804
		CALL GET_TREASURE_TRAP, "ＨＰ", 25 , GET_TYPE_NUM("만능") , FLAG:현던전, LOCAL , LOCAL:1
	CASE 805
		;CALL GET_TREASURE_MAG, , 2960 , FLAG:현던전, LOCAL , LOCAL:1◎
		CALL GET_TREASURE, [[아이템:저주의톱니바퀴]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 900
		CALL GET_TREASURE, [[아이템:다이아몬드]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 901
		CALL GET_TREASURE, [[아이템:아쿠아마린]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 902
		;천어검を用意するまで仮置き
		CALL GET_TREASURE, [[아이템:천어검]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 903
		CALL GET_TREASURE, [[아이템:아메지스트]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1000
		CALL GET_TREASURE, [[아이템:에메랄드]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1001
		;메기도파이어を用意するまで仮置き
		CALL GET_TREASURE, [[아이템:메기도파이어]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1002
		CALL GET_TREASURE, [[아이템:진주]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1003
		CALL GET_TREASURE, [[아이템:가넷]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1100
		;光の탄환の代わり
		CALL GET_TREASURE, [[아이템:성스러운탄환]] , 20 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1200
		;마하지오ストーン互換
		CALL GET_TREASURE, [[아이템:격뢰의곡옥]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1201
		;マハラギストーン互換
		CALL GET_TREASURE, [[아이템:열화의곡옥]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1202
		CALL GET_TREASURE_TRAP, "ＨＰ", 25 , GET_TYPE_NUM("만능") , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1300
		CALL GET_TREASURE, [[아이템:반혼향]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1301
		;마하부흐ストーン互換
		CALL GET_TREASURE, [[아이템:극한의곡옥]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1302
		CALL GET_TREASURE, [[아이템:비공침]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1400
		CALL GET_TREASURE, [[아이템:로자리오]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1401
		CALL GET_TREASURE, [[아이템:소마]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	CASE 1402
		;原作だと로자리오だけど、B7Fと対になるように
		CALL GET_TREASURE, [[아이템:은의마니샤]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
		
	CASE 1900
		CALL GET_TREASURE, [[아이템:마사카도의투구]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	;마사카도의갑주
	CASE 1901
		CALL GET_TREASURE, [[아이템:마사카도의갑주]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	;마사카도의토시
	CASE 1902
		CALL GET_TREASURE, [[아이템:마사카도의토시]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
	;기간트폴
	CASE 1903
		CALL GET_TREASURE, [[아이템:기간트폴]] , 1 , FLAG:현던전, LOCAL , LOCAL:1
ENDSELECT
RETURN 1

;=======================================================================
;バトルターン開始時の이벤트
;=======================================================================
@EVENT_BATTLE_TURNTOP_DUNGEON96
#LOCALSIZE 4
IF FINDCHARA_ENEMY([[キャラ:미카엘]]) && CFLAG:(RESULT:1):보스플래그 > 0
	IF FLAG:경과턴수 % 3 == 0
		LOCAL = RESULT:1
		SETCOLOR 0xff0033
		
		PRINTFORML ┏>CHARA━━━━━━━━━━┓　┏>ACT━━━━━━━━━━━━━━━━━━┓
		PRINTFORM ┃[{CFLAG:LOCAL:포지션,2}] %CALLNAME:LOCAL,21,LEFT%┃　┃
		PRINTFORML %"神の光",40,LEFT%┃
		PRINTFORMW ┗━━━━━━━━━━━━━┛　┗━━━━━━━━━━━━━━━━━━━━┛
		
		RESETCOLOR
		FOR LOCAL:1,1,7
			SIF POS(LOCAL:1) < 0
				CONTINUE
			CFLAG:POS(LOCAL:1):BS무효화횟수 = 0
			FOR LOCAL:3 , 0 , FLAG:상태이상수
				CFLAG:POS(LOCAL:1):(GET_STATE(LOCAL:3) + "무효화횟수") = 0
			NEXT
		NEXT
		SETBIT TFLAG:배리어브레이크,1
		PRINTFORMW PARTY >>>>>> 모든バステ무효화상태해제＆ならなくなった！
		CALL ACTION_1306,LOCAL,19
	ENDIF
ENDIF
;=======================================================================
;階段置き場
;=======================================================================
;上り階段処理
@UPSTAIRS_96
CALL DUNGEON_UPSTAIRS_ID, FLAG:현M+1 , (FLAG:현M + 1) * 1000 + (DA:(FLAG:현X):(FLAG:현Y) /10) % 100 * 10 + 7
RETURN 1

;下り階段処理
@DOWNSTAIRS_96
CALL DUNGEON_DOWNSTAIRS_ID, FLAG:현M-1 , (FLAG:현M - 1) * 1000 + (DA:(FLAG:현X):(FLAG:현Y) /10) % 100 * 10 + 6
RETURN 1

;=======================================================================
;エレベーター定義
;=======================================================================
;ARGはそのエレベーターのタイル
@DUNGEON_ELEVATOR_96, ARG
RETURN -1

;=======================================================================
;윤간참가악마
;=======================================================================
@DUNGEON_RAPE_DEVIL_96
;랜덤にどの악마が出るか결정
;RETURN CSV番号 , 人数 , 레벨
SELECTCASE RAND:3
	CASE 0
		RETURN [[キャラ:아귀]] , 3 + RAND:10 , CSVBASE([[キャラ:아귀]] , GETNUM(BASE , "LV") , 0) + RAND:3
	CASE 1
		RETURN [[キャラ:코볼트]] , 3 + RAND:10 , CSVBASE([[キャラ:코볼트]] , GETNUM(BASE , "LV") , 0) + RAND:3
	CASE 2
		RETURN [[キャラ:좀비군]] , 3 + RAND:10 , CSVBASE([[キャラ:좀비군]] , GETNUM(BASE , "LV") , 0) + RAND:3
ENDSELECT

@SET_ACTION_カテ아수라왕,ARG
#LOCALSIZE 10
#DIM 行動集,30
#DIM 行動数
#DIM 대상リスト,6
#DIM 대상人数
VARSET 行動集
VARSET LOCAL
行動数 = 0
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ

SIF 현HP비율(ARG) <= 75 && CFLAG:ARG:800 < 1
	CFLAG:ARG:800 = 1
IF 현HP비율(ARG) <= 33 && CFLAG:ARG:800 < 2
	CFLAG:ARG:800 = 2
	CFLAG:ARG:행동횟수 ++
ENDIF
SIF CFLAG:ARG:800 == 2 && CFLAG:ARG:행동한횟수 == 0 && !CFLAG:ARG:１more플래그
	GOTO ブレイク
LOCAL:1 = 0
FOR LOCAL,0,6
	SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
		LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
NEXT
SIF 35 < LOCAL:1
	行動集:(行動数++) = 3
SIF 71 < LOCAL:1
	行動集:(行動数++) = 3

LOCAL:2 = 0;강화度
LOCAL:3 = 0;낙인数
LOCAL:4 = 0;타격無내성数
LOCAL:5 = 0;전열핵열無내성数
LOCAL:7 = 0;전열人数
LOCAL:8 = 0;후열人数
FOR LOCAL, 1, 7
	LOCAL:1 = 0
	SIF POS(LOCAL) < 0
		CONTINUE
	SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
		CONTINUE
	SIF LOCAL < 4
		LOCAL:7 ++
	SIF LOCAL > 3
		LOCAL:8 ++
	SIF CFLAG:POS(LOCAL):공격강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):공격강화
	SIF CFLAG:POS(LOCAL):방어강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):방어강화
	SIF CFLAG:POS(LOCAL):마법위력강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):마법위력강화
	SIF CFLAG:POS(LOCAL):마법효과강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):마법효과강화
	SIF CFLAG:POS(LOCAL):회피강화 > 0 || CFLAG:POS(LOCAL):명중강화 > 0
		LOCAL:1 += (MAX(CFLAG:POS(LOCAL):회피강화,0) + MAX(CFLAG:POS(LOCAL):명중강화,0)) / 2
	SIF LOCAL:2 < LOCAL:1
		LOCAL:2 = LOCAL:1
	SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("BRAND")
		LOCAL:3 ++
		
	LOCAL:1 = MAXBASE:POS(LOCAL):타격 < 0 ? MAXBASE:POS(LOCAL):타격 # 100
	SIF LOCAL:1 < 100 && LOCAL:1 == 999 && CFLAG:POS(LOCAL):타격가드킬
		LOCAL:1 = 100
	LOCAL:1 = CFLAG:POS(LOCAL):타격무효화횟수 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):물리반사플래그 ? 999 # LOCAL:1
	SIF LOCAL:1 >= 80 && LOCAL:1 != 999
		LOCAL:4 ++
		
	LOCAL:1 = MAXBASE:POS(LOCAL):핵열 < 0 ? MAXBASE:POS(LOCAL):핵열 # 100
	LOCAL:1 = CFLAG:POS(LOCAL):핵열무효화횟수 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):마법반사플래그 ? 999 # LOCAL:1
	SIF LOCAL:1 >= 80 && LOCAL:1 != 999 && LOCAL < 4
		LOCAL:5 ++
NEXT
;1、デカジャ　　　509
;2、万物屠り　　　2513
;3、퓨어블루　2512
;4、아수라乱撃　　2535　420
;5、아수라연격　　　245　520　2倍

;6、데몬레이브　　550　314

;7、ニュークリア～　1905　420　1.7倍
;8、플래시봄　1912　180　2.5倍

;9、색즉시공　　　2066

;10、브레이브스텝576
;11、스마일차지2518
;12、타격가드킬、ブレイク

;13、끝나는세계　　2067　320　1.5倍
;14、나선의뱀　　　2049　500　1.4倍


SIF 19 < LOCAL:2
	行動集:(行動数++) = 1
SIF 39 < LOCAL:2
	行動集:(行動数++) = 1
SIF 59 < LOCAL:2
	行動集:(行動数++) = 1
SIF CFLAG:ARG:800 > 0
	行動集:(行動数++) = 2
行動集:(行動数++) = 3
;4
;5
;6
行動集:(行動数++) = 9
SIF CFLAG:ARG:크리티컬강화 < 5
	行動集:(行動数++) = 10
SIF !CFLAG:ARG:기합플래그 || !CFLAG:ARG:집중플래그
	行動集:(行動数++) = 11


行動集:(行動数++) = 13
行動集:(行動数++) = 14
IF CFLAG:ARG:행동한횟수 > 0 || CFLAG:ARG:１more플래그 > 0
	SIF (LOCAL:8 + LOCAL:7) > 0 && LOCAL:4 * 100 / (LOCAL:8 + LOCAL:7) > 60
		行動集:(行動数++) = 4
	SIF LOCAL:4
		行動集:(行動数++) = 5
	行動集:(行動数++) = 6
	行動集:(行動数++) = 7
	SIF LOCAL:7 > 0 && LOCAL:5 * 100 / LOCAL:7 > 60
		行動集:(行動数++) = 8
		
	SIF LOCAL:4 > 2
		行動集:(行動数++) = 7
ENDIF

SELECTCASE 行動集:(RAND:行動数)
CASE 1
	CFLAG:ARG:입력행동 = 509
CASE 2
	CFLAG:ARG:입력행동 = 2513
CASE 3
	CFLAG:ARG:입력행동 = 2512
CASE 4
	CFLAG:ARG:타격여데미지보정 = 0
	CFLAG:ARG:입력행동 = 2535
CASE 5
	CFLAG:ARG:타격여데미지보정 = 100
	CFLAG:ARG:입력행동 = 245
	VARSET LOCAL
	FOR LOCAL, 1, 4
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
			CONTINUE
		LOCAL:LOCAL = MAXBASE:POS(LOCAL):타격 < 0 ? MAXBASE:POS(LOCAL):타격 # 100
		SIF LOCAL:LOCAL < 100 && LOCAL:LOCAL == 999 && CFLAG:POS(LOCAL):타격가드킬
			LOCAL:LOCAL = 100
		LOCAL:LOCAL = CFLAG:POS(LOCAL):타격무효화횟수 ? 0 # LOCAL:LOCAL
		LOCAL:LOCAL = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:LOCAL
		LOCAL:LOCAL = CFLAG:POS(LOCAL):물리반사플래그 ? 999 # LOCAL:LOCAL
		SIF CFLAG:POS(LOCAL):방어플래그
			LOCAL:LOCAL /= 2
		SIF LOCAL:7 < LOCAL:LOCAL && LOCAL:LOCAL != 999
			LOCAL:7 = LOCAL:LOCAL
	NEXT
	SIF LOCAL:7 < 1
		RESTART
	VARSET 대상リスト,0
	대상人数 = 0
	FOR LOCAL, 1, 7
		SIF LOCAL:7 == LOCAL:LOCAL
			대상リスト:(대상人数++) = LOCAL
	NEXT
	SIF 대상人数 < 1
		RESTART
	CFLAG:ARG:타겟 = 대상リスト:(RAND:대상人数)
	RETURN
CASE 6
	CFLAG:ARG:전술여데미지보정 = 50
	CFLAG:ARG:입력행동 = 314
	VARSET LOCAL
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
			CONTINUE
		LOCAL:LOCAL = MAXBASE:POS(LOCAL):전술 < 0 ? MAXBASE:POS(LOCAL):전술 # 100
		IF CFLAG:ARG:집중플래그 && (LOCAL:LOCAL == 999 || LOCAL:LOCAL < 100)
			LOCAL:LOCAL = 100
		ELSEIF !CFLAG:ARG:집중플래그
			LOCAL:LOCAL = CFLAG:POS(LOCAL):전술무효화횟수 ? 0 # LOCAL:LOCAL
			LOCAL:LOCAL = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:LOCAL
			LOCAL:LOCAL = CFLAG:POS(LOCAL):물리반사플래그 ? 999 # LOCAL:LOCAL
		ENDIF
		SIF CFLAG:POS(LOCAL):방어플래그
			LOCAL:LOCAL /= 2
		SIF LOCAL:7 < LOCAL:LOCAL && LOCAL:LOCAL != 999
			LOCAL:7 = LOCAL:LOCAL
	NEXT
	SIF LOCAL:7 < 1
		RESTART
	VARSET 대상リスト,0
	대상人数 = 0
	FOR LOCAL, 1, 7
		SIF LOCAL:7 == LOCAL:LOCAL
			대상リスト:(대상人数++) = LOCAL
	NEXT
	SIF 대상人数 < 1
		RESTART
	CFLAG:ARG:타겟 = 대상リスト:(RAND:대상人数)
	RETURN
CASE 7
	CFLAG:ARG:핵열여데미지보정 = 70
	CFLAG:ARG:입력행동 = 1905
	VARSET LOCAL
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
			CONTINUE
		LOCAL:LOCAL = MAXBASE:POS(LOCAL):핵열 < 0 ? MAXBASE:POS(LOCAL):핵열 # 100
		LOCAL:LOCAL = CFLAG:POS(LOCAL):핵열무효화횟수 ? 0 # LOCAL:LOCAL
		LOCAL:LOCAL = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:LOCAL
		LOCAL:LOCAL = CFLAG:POS(LOCAL):마법반사플래그 ? 999 # LOCAL:LOCAL
		SIF CFLAG:POS(LOCAL):방어플래그
			LOCAL:LOCAL /= 2
		SIF LOCAL:7 < LOCAL:LOCAL && LOCAL:LOCAL != 999
			LOCAL:7 = LOCAL:LOCAL
	NEXT
	SIF LOCAL:7 < 1
		RESTART
	VARSET 대상リスト,0
	대상人数 = 0
	FOR LOCAL, 1, 7
		SIF LOCAL:7 == LOCAL:LOCAL
			대상リスト:(대상人数++) = LOCAL
	NEXT
	SIF 대상人数 < 1
		RESTART
	CFLAG:ARG:타겟 = 대상リスト:(RAND:대상人数)
	RETURN
CASE 8
	CFLAG:ARG:핵열여데미지보정 = 150
	CFLAG:ARG:입력행동 = 1912
CASE 9
	CFLAG:ARG:입력행동 = 2066
CASE 10
	CFLAG:ARG:입력행동 = 576
CASE 11
	CFLAG:ARG:입력행동 = 2518
CASE 12
	LOCAL:1 = 0;타격내성者
	LOCAL:2 = 0;타격무효화
	LOCAL:3 = 0;물리반사
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
			CONTINUE
		SIF MAXBASE:POS(LOCAL):타격 < 100 && MAXBASE:POS(LOCAL):타격 != 999 && !CFLAG:POS(LOCAL):타격가드킬 && LOCAL:1 == 0
			LOCAL:1 = LOCAL
		SIF CFLAG:POS(LOCAL):타격무효화횟수 && CFLAG:POS(LOCAL):무효플래그
			LOCAL:2 = 1
		SIF CFLAG:POS(LOCAL):물리반사플래그
			LOCAL:3 = 1
	NEXT
	$ブレイク
	IF LOCAL:1 > 0
		IF CFLAG:ARG:800 == 2
			CFLAG:ARG:입력행동 = 228
		ELSE
			CFLAG:ARG:입력행동 = 227
			CFLAG:ARG:타겟 = LOCAL:1
			RETURN
		ENDIF
	ELSEIF LOCAL:2 == 1
		CFLAG:ARG:입력행동 = 574
	ELSEIF LOCAL:3 == 1
		CFLAG:ARG:입력행동 = 566
	ELSEIF CFLAG:ARG:행동한횟수 == 0 && !CFLAG:ARG:１more플래그
		IF RAND:2
			CFLAG:ARG:입력행동 = 574
		ELSE
			CFLAG:ARG:입력행동 = 566
		ENDIF
	ELSE
		RESTART
	ENDIF
CASE 13
	CFLAG:ARG:만능여데미지보정 = 50
	CFLAG:ARG:입력행동 = 2067
CASE 14
	CFLAG:ARG:만능여데미지보정 = 40
	CFLAG:ARG:입력행동 = 2049
CASEELSE
	RESTART
ENDSELECT
CALL RANDOM_TARGET,ARG,CFLAG:ARG:입력행동
SIF CFLAG:ARG:타겟 < 1
	RESTART





@SET_ACTION_カテカオスヒーロ,ARG
#LOCALSIZE 4
#DIM 行動集,30
#DIM 行動数
VARSET 行動集
行動数 = 0
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ

SIF 현HP비율(ARG) <= 50
	CFLAG:ARG:800 = 1

LOCAL:1 = 0
FOR LOCAL,0,6
	SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
		LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
NEXT
SIF 35 < LOCAL:2
	行動集:(行動数++) = 3

LOCAL:2 = 0
LOCAL:3 = 0
FOR LOCAL, 1, 7
	LOCAL:1 = 0
	SIF POS(LOCAL) < 0
		CONTINUE
	SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
		CONTINUE
	SIF CFLAG:POS(LOCAL):공격강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):공격강화
	SIF CFLAG:POS(LOCAL):방어강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):방어강화
	SIF CFLAG:POS(LOCAL):마법위력강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):마법위력강화
	SIF CFLAG:POS(LOCAL):마법효과강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):마법효과강화
	SIF CFLAG:POS(LOCAL):회피강화 > 0 || CFLAG:POS(LOCAL):명중강화 > 0
		LOCAL:1 += (MAX(CFLAG:POS(LOCAL):회피강화,0) + MAX(CFLAG:POS(LOCAL):명중강화,0)) / 2
	SIF LOCAL:2 < LOCAL:1
		LOCAL:2 = LOCAL:1
NEXT
;검격공격2倍+관통
;1、デカジャ　　　509
;2、レフトハンド　2513
;3、퓨어블루　2512
;4、구십구나선격　21
;5、夜桜の마이(동방)　　　49
;6、베어내기　　534
;7、브레이브스텝576
;8、끝나는세계　　2067

;9、자벨린레인48
;10、만마의일격　　2062
;11、뇌쇄슬래시68
SIF 19 < LOCAL:2
	行動集:(行動数++) = 1
SIF 39 < LOCAL:2
	行動集:(行動数++) = 1
行動集:(行動数++) = 3
IF CFLAG:ARG:800 == 1
	行動集:(行動数++) = 2
	行動集:(行動数++) = 4
	行動集:(行動数++) = 5
	SIF !CFLAG:ARG:베어내기플래그
		行動集:(行動数++) = 6
	SIF CFLAG:ARG:크리티컬강화 < 2
		行動集:(行動数++) = 7
	行動集:(行動数++) = 8
ELSE
	行動集:(行動数++) = 9
	行動集:(行動数++) = 9
	行動集:(行動数++) = 10
	行動集:(行動数++) = 10
	行動集:(行動数++) = 11
	行動集:(行動数++) = 11
ENDIF
SELECTCASE 行動集:(RAND:行動数)
CASE 1
	CFLAG:ARG:입력행동 = 509
CASE 2
	CFLAG:ARG:입력행동 = 2513
CASE 3
	CFLAG:ARG:입력행동 = 2512
CASE 4
	CFLAG:ARG:입력행동 = 21
CASE 5
	CFLAG:ARG:입력행동 = 49
CASE 6
	CFLAG:ARG:입력행동 = 534
CASE 7
	CFLAG:ARG:입력행동 = 576
CASE 8
	CFLAG:ARG:입력행동 = 2067
CASE 9
	CFLAG:ARG:입력행동 = 48
CASE 10
	CFLAG:ARG:입력행동 = 2062
CASE 11
	CFLAG:ARG:입력행동 = 68
CASEELSE
	CFLAG:ARG:입력행동 = 0
ENDSELECT
CALL RANDOM_TARGET,ARG,CFLAG:ARG:입력행동


@SET_ACTION_カテ미카엘,ARG
#LOCALSIZE 10
#DIM 行動集,30
#DIM 行動数
#DIM 대상リスト,6
#DIM 대상人数
VARSET 行動集
VARSET LOCAL
行動数 = 0
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ

SIF 현HP비율(ARG) <= 75 && CFLAG:ARG:800 < 1
	CFLAG:ARG:800 = 1
IF 현HP비율(ARG) <= 33 && CFLAG:ARG:800 < 2
	CFLAG:ARG:800 = 2
	CFLAG:ARG:행동횟수 ++
ENDIF
SIF CFLAG:ARG:800 == 2 && CFLAG:ARG:행동한횟수 == 0 && !CFLAG:ARG:１more플래그
	GOTO ブレイク
LOCAL:1 = 0
FOR LOCAL,0,6
	SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
		LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
NEXT
SIF 35 < LOCAL:1
	行動集:(行動数++) = 3
SIF 71 < LOCAL:1
	行動集:(行動数++) = 3

LOCAL:2 = 0;강화度
LOCAL:3 = 0;낙인数
LOCAL:4 = 0;화염無내성数
LOCAL:5 = 0;전열파마無내성数
LOCAL:6 = 0;후열파마無내성数
LOCAL:7 = 0;전열人数
LOCAL:8 = 0;후열人数
FOR LOCAL, 1, 7
	SIF POS(LOCAL) < 0
		CONTINUE
	SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
		CONTINUE
	SIF LOCAL < 4
		LOCAL:7 ++
	SIF LOCAL > 3
		LOCAL:8 ++
NEXT
;LOCAL:7 = LOCAL:7 == 0 ? -1 # LOCAL:7
;LOCAL:8 = LOCAL:8 == 0 ? -1 # LOCAL:8
FOR LOCAL, 1, 7
	LOCAL:1 = 0
	SIF POS(LOCAL) < 0
		CONTINUE
	SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
		CONTINUE
	SIF CFLAG:POS(LOCAL):공격강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):공격강화
	SIF CFLAG:POS(LOCAL):방어강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):방어강화
	SIF CFLAG:POS(LOCAL):마법위력강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):마법위력강화
	SIF CFLAG:POS(LOCAL):마법효과강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):마법효과강화
	SIF CFLAG:POS(LOCAL):회피강화 > 0 || CFLAG:POS(LOCAL):명중강화 > 0
		LOCAL:1 += (MAX(CFLAG:POS(LOCAL):회피강화,0) + MAX(CFLAG:POS(LOCAL):명중강화,0)) / 2
	SIF LOCAL:2 < LOCAL:1
		LOCAL:2 = LOCAL:1
	SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("BRAND")
		LOCAL:3 ++
		
	LOCAL:1 = MAXBASE:POS(LOCAL):화염
	LOCAL:1 = CFLAG:POS(LOCAL):화염무효화횟수 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):마법반사플래그 ? 999 # LOCAL:1
	SIF LOCAL:1 >= 80 && LOCAL:1 != 999
		LOCAL:4 ++
	
	LOCAL:1 = MAXBASE:POS(LOCAL):파마
	SIF (LOCAL:1 < 100 || LOCAL:1 == 999) && CFLAG:POS(LOCAL):파마가드킬
		LOCAL:1 = 100
	LOCAL:1 = CFLAG:POS(LOCAL):파마무효화횟수 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):마법반사플래그 ? 999 # LOCAL:1
	SIF LOCAL:1 >= 80 && LOCAL:1 != 999 && LOCAL < 4
		LOCAL:5 ++
	SIF LOCAL:1 >= 80 && LOCAL:1 != 999 && LOCAL > 3
		LOCAL:6 ++
NEXT
;1、デカジャ　　　509
;2、神の護り　　　2513
;3、퓨어블루　2512
;4、ナラク落とし　2533
;5、지하드　　　2045

;6、트리스아기온0718　2倍
;7、프로미넌스　0749　1.2倍

;8、어센션　2524

;9、혼의단죄　　　1338　3.1倍
;10、마하코우하　　1317　2.7倍

;11、스마일차지2518
;12、파마가드킬、ブレイク

;13、천군의검　　　16　3倍


SIF 19 < LOCAL:2
	行動集:(行動数++) = 1
SIF 39 < LOCAL:2
	行動集:(行動数++) = 1
SIF 59 < LOCAL:2
	行動集:(行動数++) = 1
SIF CFLAG:ARG:800 > 0
	行動集:(行動数++) = 2
行動集:(行動数++) = 3
行動集:(行動数++) = 4
行動集:(行動数++) = 5
行動集:(行動数++) = 13
IF LOCAL:3 > 1
	GOTO 어센션
ELSEIF LOCAL:3
	行動集:(行動数++) = 8
	行動集:(行動数++) = 8
ENDIF
SIF !CFLAG:ARG:기합플래그 || !CFLAG:ARG:집중플래그
	行動集:(行動数++) = 11
SIF (LOCAL:6 + LOCAL:5) * 100 / (LOCAL:8 + LOCAL:7) < 60
	行動集:(行動数++) = 12
SIF (LOCAL:8 + LOCAL:7) - (LOCAL:6 + LOCAL:5) > 0
	行動集:(行動数++) = 12
IF CFLAG:ARG:행동한횟수 > 0 || CFLAG:ARG:１more플래그 > 0
	SIF LOCAL:4 > 0 || CFLAG:ARG:기합플래그
		行動集:(行動数++) = 6
	SIF LOCAL:4 > 2
		行動集:(行動数++) = 7
	SIF (LOCAL:8 > 0 && (LOCAL:6 * 100 / LOCAL:8) > 60) || (LOCAL:7 > 0 && (LOCAL:5 * 100 / LOCAL:7) > 60)
		行動集:(行動数++) = 9
	SIF LOCAL:7 > 0 && LOCAL:8 > 0 && (LOCAL:6 + LOCAL:5) * 100 / (LOCAL:8 + LOCAL:7) > 60
		行動集:(行動数++) = 10
ENDIF 

SELECTCASE 行動集:(RAND:行動数)
CASE 1
	CFLAG:ARG:입력행동 = 509
CASE 2
	CFLAG:ARG:입력행동 = 2513
CASE 3
	CFLAG:ARG:입력행동 = 2512
CASE 4
	CFLAG:ARG:입력행동 = 2533
CASE 5
	CFLAG:ARG:입력행동 = 2045
CASE 6
	CFLAG:ARG:화염여데미지보정 = 100
	CFLAG:ARG:입력행동 = 718
	VARSET LOCAL
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
			CONTINUE
		LOCAL:LOCAL = MAXBASE:POS(LOCAL):화염
		IF CFLAG:ARG:기합플래그 && (LOCAL:LOCAL == 999 || LOCAL:LOCAL < 100)
			LOCAL:LOCAL = 100
		ELSEIF !CFLAG:ARG:기합플래그
			LOCAL:LOCAL = CFLAG:POS(LOCAL):화염무효화횟수 ? 0 # LOCAL:LOCAL
			LOCAL:LOCAL = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:LOCAL
			LOCAL:LOCAL = CFLAG:POS(LOCAL):마법반사플래그 ? 999 # LOCAL:LOCAL
		ENDIF
		SIF CFLAG:POS(LOCAL):방어플래그
			LOCAL:LOCAL /= 2
		SIF LOCAL:7 < LOCAL:LOCAL && LOCAL:LOCAL != 999
			LOCAL:7 = LOCAL:LOCAL
	NEXT
	VARSET 대상リスト,0
	대상人数 = 0
	FOR LOCAL, 1, 7
		SIF LOCAL:7 == LOCAL:LOCAL
			대상リスト:(대상人数++) = LOCAL
	NEXT
	SIF 대상人数 < 1
		RESTART
	CFLAG:ARG:타겟 = 대상リスト:(RAND:대상人数)
	RETURN
CASE 7
	CFLAG:ARG:화염여데미지보정 = 20
	CFLAG:ARG:입력행동 = 749
CASE 8
	$어센션
	CFLAG:ARG:입력행동 = [[스킬:어센션]]
CASE 9
	CFLAG:ARG:파마여데미지보정 = 210
	CFLAG:ARG:입력행동 = 1338
	IF LOCAL:8 < 1 || (LOCAL:6 * 100 / LOCAL:8) < 60
		CFLAG:ARG:타겟 = 17
		RETURN
	ELSEIF LOCAL:7 < 1 || (LOCAL:5 * 100 / LOCAL:7) < 60
		CFLAG:ARG:타겟 = 18
		RETURN
	ENDIF
CASE 10
	CFLAG:ARG:파마여데미지보정 = 170
	CFLAG:ARG:입력행동 = 1317
CASE 11
	CFLAG:ARG:입력행동 = 2518
CASE 12
	LOCAL:1 = 0;파마내성者
	LOCAL:2 = 0;파마무효화
	LOCAL:3 = 0;마법반사
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
			CONTINUE
		SIF MAXBASE:POS(LOCAL):파마 < 100 && MAXBASE:POS(LOCAL):파마 != 999 && !CFLAG:POS(LOCAL):파마가드킬 && LOCAL:1 == 0
			LOCAL:1 = LOCAL
		SIF CFLAG:POS(LOCAL):파마무효화횟수 && CFLAG:POS(LOCAL):무효플래그
			LOCAL:2 = 1
		SIF CFLAG:POS(LOCAL):마법반사플래그
			LOCAL:3 = 1
	NEXT
	$ブレイク
	IF LOCAL:1 > 0
		IF CFLAG:ARG:800 == 2
			CFLAG:ARG:입력행동 = 1332
		ELSE
			CFLAG:ARG:입력행동 = 1331
			CFLAG:ARG:타겟 = LOCAL:1
			RETURN
		ENDIF
	ELSEIF LOCAL:2 == 1
		CFLAG:ARG:입력행동 = 574
	ELSEIF LOCAL:3 == 1
		CFLAG:ARG:입력행동 = 568
	ELSEIF CFLAG:ARG:행동한횟수 == 0 && !CFLAG:ARG:１more플래그
		IF RAND:2
			CFLAG:ARG:입력행동 = 574
		ELSE
			CFLAG:ARG:입력행동 = 568
		ENDIF
	ELSE
		RESTART
	ENDIF
CASE 13
	CFLAG:ARG:검격여데미지보정 = 0
	CFLAG:ARG:파마여데미지보정 = 0
	CFLAG:ARG:입력행동 = 16
	CALL RANDOM_TARGET,ARG,CFLAG:ARG:입력행동
	SIF CFLAG:ARG:타겟 < 1 || POS(CFLAG:ARG:타겟) < 0
		RESTART
	LOCAL = CFLAG:ARG:타겟
	;LOCAL　타겟
	;LOCAL:1타겟검격내성
	;LOCAL:2타겟파마내성
	LOCAL:1 = MAXBASE:POS(LOCAL):검격
	SIF LOCAL:1 == 999
		LOCAL:1 = 0
	LOCAL:1 = CFLAG:POS(LOCAL):검격무효화횟수 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:1
	LOCAL:1 = CFLAG:POS(LOCAL):물리반사플래그 ? 0 # LOCAL:1
	SIF LOCAL:1 < 0
		LOCAL:1 /= 3

	LOCAL:2 = MAXBASE:POS(LOCAL):파마
	SIF LOCAL:2 == 999
		LOCAL:2 = 0
	LOCAL:2 = CFLAG:POS(LOCAL):파마가드킬 ? 100 # LOCAL:2
	LOCAL:2 = CFLAG:POS(LOCAL):파마무효화횟수 ? 0 # LOCAL:2
	LOCAL:2 = CFLAG:POS(LOCAL):무효플래그 ? 0 # LOCAL:2
	LOCAL:2 = CFLAG:POS(LOCAL):마법반사플래그 ? 0 # LOCAL:2
	SIF LOCAL:2 < 0
		LOCAL:2 /= 3
	SIF LOCAL:1 + LOCAL:2 < 80
		RESTART
	SIF LOCAL:1 > 0
		CFLAG:ARG:검격여데미지보정 = 200
	SIF LOCAL:2 > 0
		CFLAG:ARG:파마여데미지보정 = 200
	RETURN
CASEELSE
	RESTART
ENDSELECT
CALL RANDOM_TARGET,ARG,CFLAG:ARG:입력행동
SIF CFLAG:ARG:타겟 < 1
	RESTART




@SET_ACTION_カテロウヒーロ,ARG
#LOCALSIZE 4
#DIM 行動集,30
#DIM 行動数
VARSET 行動集
行動数 = 0
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ

SIF 현HP비율(ARG) <= 50
	CFLAG:ARG:800 = 1

LOCAL:1 = 0
FOR LOCAL,0,6
	SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
		LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
NEXT
SIF 35 < LOCAL:2
	行動集:(行動数++) = 3

LOCAL:2 = 0
LOCAL:3 = 0
FOR LOCAL, 1, 7
	LOCAL:1 = 0
	SIF POS(LOCAL) < 0
		CONTINUE
	SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("DYING")
		CONTINUE
	SIF CFLAG:POS(LOCAL):공격강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):공격강화
	SIF CFLAG:POS(LOCAL):방어강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):방어강화
	SIF CFLAG:POS(LOCAL):마법위력강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):마법위력강화
	SIF CFLAG:POS(LOCAL):마법효과강화 > 0
		LOCAL:1 += CFLAG:POS(LOCAL):마법효과강화
	SIF CFLAG:POS(LOCAL):회피강화 > 0 || CFLAG:POS(LOCAL):명중강화 > 0
		LOCAL:1 += (MAX(CFLAG:POS(LOCAL):회피강화,0) + MAX(CFLAG:POS(LOCAL):명중강화,0)) / 2
	SIF LOCAL:2 < LOCAL:1
		LOCAL:2 = LOCAL:1
	SIF CFLAG:POS(LOCAL):상태이상 == GET_STATE_NUM("BRAND")
		LOCAL:3 = 1
NEXT
;1、デカジャ　　　509
;2、ライトハンド　2513
;3、퓨어블루　2512
;4、リ무도らオン　1043
;5、빛나는낙인　　2038
;6、혼의단죄　　　1338
;7、穢れなき威光　1310

;8、마한마온　1309
;9、마하잔다인1006
;10、마하코우하　　1317
SIF 19 < LOCAL:2
	行動集:(行動数++) = 1
SIF 39 < LOCAL:2
	行動集:(行動数++) = 1
行動集:(行動数++) = 3
IF CFLAG:ARG:800 == 1
	行動集:(行動数++) = 2
	行動集:(行動数++) = 4
	行動集:(行動数++) = 5
	行動集:(行動数++) = 6
	行動集:(行動数++) = 7
	IF LOCAL:3
		行動集:(行動数++) = 7
		行動集:(行動数++) = 7
	ENDIF
ELSE
	行動集:(行動数++) = 8
	行動集:(行動数++) = 8
	行動集:(行動数++) = 9
	行動集:(行動数++) = 9
	行動集:(行動数++) = 10
	行動集:(行動数++) = 10
ENDIF
SELECTCASE 行動集:(RAND:行動数)
CASE 1
	CFLAG:ARG:입력행동 = 509
CASE 2
	CFLAG:ARG:입력행동 = 2513
CASE 3
	CFLAG:ARG:입력행동 = 2512
CASE 4
	CFLAG:ARG:입력행동 = 1043
CASE 5
	CFLAG:ARG:입력행동 = 2038
CASE 6
	CFLAG:ARG:입력행동 = 1338
CASE 7
	CFLAG:ARG:입력행동 = 1310
CASE 8
	CFLAG:ARG:입력행동 = 1309
CASE 9
	CFLAG:ARG:입력행동 = 1006
CASE 10
	CFLAG:ARG:입력행동 = 1317
CASEELSE
	CFLAG:ARG:입력행동 = 0
ENDSELECT
CALL RANDOM_TARGET,ARG,CFLAG:ARG:입력행동

;=======================================================================
@SET_ACTION_カテフツオ,ARG
;=======================================================================
;他のメンバーと毛色が違うのは許せ
;基本的には「サマナーLv5の銃撃達人」をイメージする
;万能小威力0-8回攻撃「ストラディバリ」、
;万能100％SLEEP「真・神経弾」、
;万能100％SLEEP3回攻撃「真・神経弾乱射」、
;三種のオリジナルスキルを持つ
;=======================================================================
#DIM フツオ行動判定
#DIM フツオ本気判定

;入力行動を-1と타겟を-1にしておく
CFLAG:ARG:입력행동 = -1
CFLAG:ARG:타겟 = -1

IF 현HP비율(ARG) <= 50 && フツオ本気判定 == 0
	フツオ本気判定 += 1
	PRINTFORML ┏> 더 히어로　━━━━━━━━━━━━━━━┓
	PRINTFORML ┃……………………!!。　　　　　　　　　　　　┃
	PRINTFORMW ┗━━━━━━━━━━━━━━━━━━━━━━━┛
	PRINTFORML ┏> MESSAGE ━━━━━━━━━━━━━━━━━━┓
	PRINTFORML ┃더 히어로는 눈빛을 불태우며 검을 고쳐잡았다……!　　　　┃
	PRINTFORMW ┗━━━━━━━━━━━━━━━━━━━━━━━┛
ENDIF



IF フツオ本気判定 == 0
	IF 0
		;ランダムで銃撃を使用する
	ELSEIF RAND:4 == 0
		CFLAG:ARG:입력행동 = [[스킬:연속사격]]
	ELSEIF RAND:3 == 0
		CFLAG:ARG:입력행동 = [[스킬:드라이브샷]]
	ELSEIF RAND:2 == 0
		CFLAG:ARG:입력행동 = [[스킬:타슬람샷]]
	ELSE
		CFLAG:ARG:입력행동 = [[스킬:바스타드스냅]]
	ENDIF
ELSE
	;本気モード。殺意に満ちる
	IF 0
		;ランダムで銃撃を使用する
	ELSEIF RAND:9 == 0
		CSTR:ARG:전용기1 = 真・神経弾乱射
		CFLAG:ARG:입력행동 = 3904
	ELSEIF RAND:8 == 0
		CSTR:ARG:전용기1 = 真・神経弾
		CFLAG:ARG:입력행동 = 3904
	ELSEIF RAND:7 == 0
		CSTR:ARG:전용기1 = 真・神経弾
		CFLAG:ARG:입력행동 = 3904
	ELSEIF RAND:6 == 0
		CSTR:ARG:전용기1 = ストラディバリ
		CFLAG:ARG:입력행동 = 3904
	ELSEIF RAND:5 == 0
		CSTR:ARG:전용기1 = ストラディバリ
		CFLAG:ARG:입력행동 = 3904
	ELSEIF RAND:4 == 0
		CFLAG:ARG:입력행동 = [[스킬:선회속탄]]
	ELSEIF RAND:3 == 0
		CFLAG:ARG:입력행동 = [[스킬:드라이브샷]]
	ELSEIF RAND:2 == 0
		CFLAG:ARG:입력행동 = [[스킬:타슬람샷]]
	ELSE
		CFLAG:ARG:입력행동 = [[스킬:바스타드스냅]]
	ENDIF
ENDIF

;アクション実行不能
CALL CHECK_ACTIONABLE, ARG, CFLAG:ARG:입력행동
SIF RESULT == 0
	CFLAG:ARG:입력행동 = 0
;ここまで타겟が決まってなかったら、ランダム타겟をよんで決定
SIF CFLAG:ARG:타겟 == -1
	CALL RANDOM_TARGET, ARG, CFLAG:ARG:입력행동
RETURN 1



