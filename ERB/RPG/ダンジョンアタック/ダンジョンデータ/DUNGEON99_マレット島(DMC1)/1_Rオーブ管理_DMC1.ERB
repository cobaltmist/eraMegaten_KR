
;던전플래그:99:6 レッドオーブ取得フラグ(BIT計算 0:未入手 1:入手済)
;　00　古城1F　騎士の像上 C
;　01　古城1F　騎士の像手前216
;　02　古城1F　階段横215
;　03　古城1F　複葉機の部屋前217
;　04　古城1F　塔:200
;　05　古城1F　塔:201
;　06　古城1F　橋:202
;　07　古城1F　塔:205
;　08　古城1F　塔:206
;　09　古城1F　塔:207
;　10　古城1F　書庫210
;　11　古城1F　小部屋:214
;　12　古城1F　
;　13　古城1F　玄関前218
;　14　古城1F　マリオネットの部屋219
;　15　古城1F　マリオネットの部屋奥220
;　16　古城ロビー吹き抜け　2F300
;　17　古城ロビー吹き抜け　2F301
;　18　古城ロビー吹き抜け　2F302
;　19　古城ロビー吹き抜け　2F303
;　20　古城ロビー吹き抜け　2F304
;　21　古城ロビー吹き抜け　2F307
;　22　古城ロビー吹き抜け　2F309
;　23　古城ロビー吹き抜け　3F400
;　24　古城ロビー吹き抜け　3F401
;　25　古城ロビー吹き抜け　3F402
;　26　古城ロビー吹き抜け　3F403
;　27　古城ロビー吹き抜け　3F404
;　28　古城ロビー吹き抜け　3F405
;　29　古城ロビー吹き抜け　3F406
;　30　古城ロビー吹き抜け　3F411
;　31　古城ロビー吹き抜け　3F412
;　32　古城ロビー吹き抜け　3F413
;　33　吹き抜け階段 - 寝室800
;　34　5F　寝室屋根上900
;　35　地下水路1000
;　36　太陽の紋章先B
;　37　太陽の紋章先B
;　38　太陽の紋章先　隠し
;　39　太陽の紋章先1107
;　40　古城前　隠し
;　41　古城前　隠し
;　42　古城前　隠し
;　43　闘技場1
;　44　闘技場2
;　45　闘技場3
;　46　闘技場4
;　47　闘技場5
;　48　闘技場6
;　49　闘技場7
;　50　闘技場8
;　51　闘技場9
;　52　闘技場10
;　53　闘技場　2F 1
;　54　闘技場　2F 2
;　55　霧深き渓谷　隠し 1
;　56　霧深き渓谷　隠し 2

;던전플래그:99:7 レッドオーブ取得フラグ2(BIT計算 0:未入手 1:入手済)
;　00　聖杯堂　R 1
;　01　聖杯堂　R 2
;　02　聖杯堂　R 3
;　03　聖杯堂　C 4
;　04　聖杯堂　C 5
;　05　聖杯堂　P 6
;　06　聖杯堂　B 7
;　07　聖杯堂　B 8
;　08　聖杯堂　B 9
;　09　海賊船へ 1
;　10　海賊船　船底 1
;　11　海賊船　船底 2
;　12　海賊船　船底 3
;　13　海賊船　船底 4
;　14　海賊船　船底 5
;　15　海賊船　船底 6
;　16　海賊船　船底 7
;　17　海賊船　船底 8
;　18　海賊船　船底 9
;　19　海賊船　船底 10
;　20　海賊船　船底 11
;　21　海賊船　船底 12
;　22　海賊船　船底 13
;　23　海賊船　船底 14
;　24　海賊船　船底 15
;　25　海賊船　船底 16
;　26　海賊船　船上 C1
;　27　海賊船　船上 C2
;　28　海賊船　船上 C3
;　29　海賊船　船上 B1
;　30　海賊船　船上 P1
;　31　海賊船　船上 P2
;　32　海賊船　船上 P3
;　33　海賊船　船上 P4
;　34　海賊船　船上 P5
;　35　海賊船　船上 P6
;　36　海賊船　船上 P7
;　37　山岳地 P1
;　38　山岳地 P2
;　39　山岳地 P3
;　40　山岳地 P4
;　41　山岳地 P5
;　42　山岳地 P6
;　43　山岳地 P7
;　44　山岳地 P8
;　45　闘技場　地下 P1
;　46　闘技場　地下 P2
;　47　闘技場　地下 P3
;　48　闘技場　地下 P4
;　49　闘技場　地下 P5
;　50　闘技場　地下 P6
;　51　闘技場　地下 P7
;　52　闘技場　地下 P8
;　53　闘技場　地下 P9
;　54　闘技場　地下 P10
;　55　闘技場　地下 P11
;　56　闘技場　地下 P12

;던전플래그:99:12　RO管理　古城・後編以降
;古城・後編
;　01　36,2
;　02　34,4
;　03　38,5
;　04　34,6
;　05　36,8
;　06　24,10
;　07　24,12
;　08　31,17
;　09　31,21
;　10　17,23
;　11　5,35
;　12　5,37
;小部屋の絵
;　13　9,9
;浸水牢獄
;　14　17,1
;　15　15,3
;　16　20,6
;　17　11,7
;　18　13,7
;　19　20,7
;　20　13,11
;　21　15,11
;　22　5,15
;変成の間
;　23　15,1
;　24　13,2
;　25　11,3
;魔界　最深部(壁)
;　26　5,2

;=======================================================================
;DMC1　レッドオーブの取得管理等を専門に
;=======================================================================

;=======================================================================
;特殊タイル表示
;=======================================================================
;ARG:1がX座標、ARG:2がY座標
;ARGはそこに代入されている値
;RESULTSに代入した文字がマップに표시されますが、必ず全角1文字分になるようにしてください。そうでないと표시が崩れます。
;IF GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2


@TILE_MARK_COMMON_99_ORB, ARG, ARG:1, ARG:2
SELECTCASE ARG / 10
	CASE 200
		IF !GETBIT(던전플래그:99:6,4)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 201
		IF !GETBIT(던전플래그:99:6,5)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 202
		IF !GETBIT(던전플래그:99:6,6)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 205
		IF !GETBIT(던전플래그:99:6,7)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 206
		IF !GETBIT(던전플래그:99:6,8)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 207
		IF !GETBIT(던전플래그:99:6,9)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 211
		IF !GETBIT(던전플래그:99:6,10)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 215
		IF !GETBIT(던전플래그:99:6,11)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 216
		IF !GETBIT(던전플래그:99:6,2)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 217
		IF !GETBIT(던전플래그:99:6,1)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 218
		IF !GETBIT(던전플래그:99:6,3)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 219
		IF !GETBIT(던전플래그:99:6,13)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 220
		IF !GETBIT(던전플래그:99:6,14)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 222
		IF !GETBIT(던전플래그:99:6,15)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 300
		IF !GETBIT(던전플래그:99:6,16)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 301
		IF !GETBIT(던전플래그:99:6,17)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 302
		IF !GETBIT(던전플래그:99:6,18)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 303
		IF !GETBIT(던전플래그:99:6,19)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 304
		IF !GETBIT(던전플래그:99:6,20)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 307
		IF !GETBIT(던전플래그:99:6,21)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 308
		IF !GETBIT(던전플래그:99:6,22)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 400
		IF !GETBIT(던전플래그:99:6,23)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 401
		IF !GETBIT(던전플래그:99:6,24)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 402
		IF !GETBIT(던전플래그:99:6,25)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 403
		IF !GETBIT(던전플래그:99:6,26)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 404
		IF !GETBIT(던전플래그:99:6,27)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 405
		IF !GETBIT(던전플래그:99:6,28)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 406
		IF !GETBIT(던전플래그:99:6,29)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 411
		IF !GETBIT(던전플래그:99:6,30)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 412
		IF !GETBIT(던전플래그:99:6,31)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 413
		IF !GETBIT(던전플래그:99:6,32)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 823
		IF !GETBIT(던전플래그:99:6,33)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 910
		IF !GETBIT(던전플래그:99:6,34)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 1001
		IF !GETBIT(던전플래그:99:6,35)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	CASE 1107
		IF !GETBIT(던전플래그:99:6,39)
			SETCOLOR COLOR("RED")
			RESULTS = ●
			RETURN 1
		ENDIF
	
	CASEELSE
		RESULTS = □
ENDSELECT


;----------
;高低差のついた位置にあるレッドオーブの配置用
;----------
IF ARG == 111 || ARG == 121 || ARG == 131 || ARG == 191
	LOCAL = 0
	SELECTCASE FLAG:현M
		CASE 2
			IF ARG:1 == 8 && ARG:2 == 27
				SIF !GETBIT(던전플래그:99:6,0)
					LOCAL = 1
			ENDIF
		CASE 11
			IF ARG:1 == 1 && ARG:2 == 5
				SIF !GETBIT(던전플래그:99:6,36)
					LOCAL = 1
			ELSEIF ARG:1 == 1 && ARG:2 == 9
				SIF !GETBIT(던전플래그:99:6,37)
					LOCAL = 1
			ENDIF
		CASE 14
			IF ARG:1 == 22 && ARG:2 == 20
				SIF !GETBIT(던전플래그:99:6,43)
					LOCAL = 1
			ELSEIF ARG:1 == 24 && ARG:2 == 7
				SIF !GETBIT(던전플래그:99:6,44)
					LOCAL = 1
			ELSEIF ARG:1 == 25 && ARG:2 == 9
				SIF !GETBIT(던전플래그:99:6,45)
					LOCAL = 1
			ELSEIF ARG:1 == 25 && ARG:2 == 12
				SIF !GETBIT(던전플래그:99:6,46)
					LOCAL = 1
			ELSEIF ARG:1 == 25 && ARG:2 == 15
				SIF !GETBIT(던전플래그:99:6,47)
					LOCAL = 1
			ELSEIF ARG:1 == 24 && ARG:2 == 17
				SIF !GETBIT(던전플래그:99:6,48)
					LOCAL = 1
			ELSEIF ARG:1 == 19 && ARG:2 == 23
				SIF !GETBIT(던전플래그:99:6,49)
					LOCAL = 1
			ELSEIF ARG:1 == 22 && ARG:2 == 23
				SIF !GETBIT(던전플래그:99:6,50)
					LOCAL = 1
			ELSEIF ARG:1 == 7 && ARG:2 == 26
				SIF !GETBIT(던전플래그:99:6,51)
					LOCAL = 1
			ELSEIF ARG:1 == 20 && ARG:2 == 27
				SIF !GETBIT(던전플래그:99:6,52)
					LOCAL = 1
			ENDIF
		CASE 18
			IF ARG:1 == 20 && ARG:2 == 17
				SIF !GETBIT(던전플래그:99:7,3)
					LOCAL = 1
			ELSEIF ARG:1 == 16 && ARG:2 == 20
				SIF !GETBIT(던전플래그:99:7,4)
					LOCAL = 1
			ELSEIF ARG:1 == 9 && ARG:2 == 21
				SIF !GETBIT(던전플래그:99:7,5)
					LOCAL = 1
			ELSEIF ARG:1 == 14 && ARG:2 == 22
				SIF !GETBIT(던전플래그:99:7,6)
					LOCAL = 1
			ELSEIF ARG:1 == 18 && ARG:2 == 22
				SIF !GETBIT(던전플래그:99:7,7)
					LOCAL = 1
			ELSEIF ARG:1 == 15 && ARG:2 == 23
				SIF !GETBIT(던전플래그:99:7,8)
					LOCAL = 1
			ENDIF
		CASE 19
			IF ARG:1 == 4 && ARG:2 == 5
				SIF !GETBIT(던전플래그:99:7,9)
					LOCAL = 1
			ENDIF
		CASE 20
			IF ARG:1 == 4 && ARG:2 == 15
				SIF !GETBIT(던전플래그:99:7,10)
					LOCAL = 1
			ELSEIF ARG:1 == 11 && ARG:2 == 15
				SIF !GETBIT(던전플래그:99:7,11)
					LOCAL = 1
			ELSEIF ARG:1 == 19 && ARG:2 == 15
				SIF !GETBIT(던전플래그:99:7,12)
					LOCAL = 1
			ELSEIF ARG:1 == 3 && ARG:2 == 16
				SIF !GETBIT(던전플래그:99:7,13)
					LOCAL = 1
			ELSEIF ARG:1 == 15 && ARG:2 == 16
				SIF !GETBIT(던전플래그:99:7,14)
					LOCAL = 1
			ELSEIF ARG:1 == 19 && ARG:2 == 16
				SIF !GETBIT(던전플래그:99:7,15)
					LOCAL = 1
			ELSEIF ARG:1 == 17 && ARG:2 == 17
				SIF !GETBIT(던전플래그:99:7,16)
					LOCAL = 1
			ELSEIF ARG:1 == 3 && ARG:2 == 18
				SIF !GETBIT(던전플래그:99:7,17)
					LOCAL = 1
			ELSEIF ARG:1 == 12 && ARG:2 == 18
				SIF !GETBIT(던전플래그:99:7,18)
					LOCAL = 1
			ELSEIF ARG:1 == 20 && ARG:2 == 18
				SIF !GETBIT(던전플래그:99:7,19)
					LOCAL = 1
			ELSEIF ARG:1 == 4 && ARG:2 == 19
				SIF !GETBIT(던전플래그:99:7,20)
					LOCAL = 1
			ELSEIF ARG:1 == 11 && ARG:2 == 19
				SIF !GETBIT(던전플래그:99:7,21)
					LOCAL = 1
			ELSEIF ARG:1 == 14 && ARG:2 == 19
				SIF !GETBIT(던전플래그:99:7,22)
					LOCAL = 1
			ELSEIF ARG:1 == 19 && ARG:2 == 19
				SIF !GETBIT(던전플래그:99:7,23)
					LOCAL = 1
			ELSEIF ARG:1 == 17 && ARG:2 == 21
				SIF !GETBIT(던전플래그:99:7,24)
					LOCAL = 1
			ELSEIF ARG:1 == 18 && ARG:2 == 22
				SIF !GETBIT(던전플래그:99:7,25)
					LOCAL = 1
			ENDIF
		CASE 21
			IF ARG:1 == 6 && ARG:2 == 3
				SIF !GETBIT(던전플래그:99:7,26)
					LOCAL = 1
			ELSEIF ARG:1 == 13 && ARG:2 == 3
				SIF !GETBIT(던전플래그:99:7,27)
					LOCAL = 1
			ELSEIF ARG:1 == 21 && ARG:2 == 3
				SIF !GETBIT(던전플래그:99:7,28)
					LOCAL = 1
			ELSEIF ARG:1 == 12 && ARG:2 == 5
				SIF !GETBIT(던전플래그:99:7,29)
					LOCAL = 1
			ELSEIF ARG:1 == 7 && ARG:2 == 10
				SIF !GETBIT(던전플래그:99:7,30)
					LOCAL = 1
			ELSEIF ARG:1 == 12 && ARG:2 == 10
				SIF !GETBIT(던전플래그:99:7,31)
					LOCAL = 1
			ELSEIF ARG:1 == 22 && ARG:2 == 10
				SIF !GETBIT(던전플래그:99:7,32)
					LOCAL = 1
			ELSEIF ARG:1 == 6 && ARG:2 == 16
				SIF !GETBIT(던전플래그:99:7,33)
					LOCAL = 1
			ELSEIF ARG:1 == 13 && ARG:2 == 16
				SIF !GETBIT(던전플래그:99:7,34)
					LOCAL = 1
			ELSEIF ARG:1 == 6 && ARG:2 == 26
				SIF !GETBIT(던전플래그:99:7,35)
					LOCAL = 1
			ELSEIF ARG:1 == 21 && ARG:2 == 26
				SIF !GETBIT(던전플래그:99:7,36)
					LOCAL = 1
			ENDIF
		CASE 23
			IF ARG:1 == 31 && ARG:2 == 3
				SIF !GETBIT(던전플래그:99:7,37)
					LOCAL = 1
			ELSEIF ARG:1 == 3 && ARG:2 == 20
				SIF !GETBIT(던전플래그:99:7,38)
					LOCAL = 1
			ELSEIF ARG:1 == 1 && ARG:2 == 22
				SIF !GETBIT(던전플래그:99:7,39)
					LOCAL = 1
			ELSEIF ARG:1 == 5 && ARG:2 == 22
				SIF !GETBIT(던전플래그:99:7,40)
					LOCAL = 1
			ELSEIF ARG:1 == 2 && ARG:2 == 24
				SIF !GETBIT(던전플래그:99:7,41)
					LOCAL = 1
			ELSEIF ARG:1 == 4 && ARG:2 == 24
				SIF !GETBIT(던전플래그:99:7,42)
					LOCAL = 1
			ELSEIF ARG:1 == 10 && ARG:2 == 26
				SIF !GETBIT(던전플래그:99:7,44)
					LOCAL = 1
			ELSEIF ARG:1 == 8 && ARG:2 == 31
				SIF !GETBIT(던전플래그:99:7,45)
					LOCAL = 1
			ELSEIF ARG:1 == 24 && ARG:2 == 31
				SIF !GETBIT(던전플래그:99:7,46)
					LOCAL = 1
			ENDIF
		CASE 24
			IF ARG:1 == 7 && ARG:2 == 1
				SIF !GETBIT(던전플래그:99:7,47)
					LOCAL = 1
			ELSEIF ARG:1 == 10 && ARG:2 == 3
				SIF !GETBIT(던전플래그:99:7,48)
					LOCAL = 1
			ELSEIF ARG:1 == 7 && ARG:2 == 4
				SIF !GETBIT(던전플래그:99:7,49)
					LOCAL = 1
			ELSEIF ARG:1 == 1 && ARG:2 == 16
				SIF !GETBIT(던전플래그:99:7,50)
					LOCAL = 1
			ELSEIF ARG:1 == 15 && ARG:2 == 16
				SIF !GETBIT(던전플래그:99:7,51)
					LOCAL = 1
			ELSEIF ARG:1 == 2 && ARG:2 == 17
				SIF !GETBIT(던전플래그:99:7,52)
					LOCAL = 1
			ELSEIF ARG:1 == 14 && ARG:2 == 17
				SIF !GETBIT(던전플래그:99:7,53)
					LOCAL = 1
			ELSEIF ARG:1 == 1 && ARG:2 == 18
				SIF !GETBIT(던전플래그:99:7,54)
					LOCAL = 1
			ELSEIF ARG:1 == 15 && ARG:2 == 18
				SIF !GETBIT(던전플래그:99:7,55)
					LOCAL = 1
			ELSEIF ARG:1 == 7 && ARG:2 == 30
				SIF !GETBIT(던전플래그:99:7,56)
					LOCAL = 1
			ELSEIF ARG:1 == 10 && ARG:2 == 31
				SIF !GETBIT(던전플래그:99:7,57)
					LOCAL = 1
			ELSEIF ARG:1 == 7 && ARG:2 == 33
				SIF !GETBIT(던전플래그:99:7,58)
					LOCAL = 1
			ENDIF
		CASE 26
			IF ARG:1 == 36 && ARG:2 == 2
				SIF !GETBIT(던전플래그:99:12,01)
					LOCAL = 1
			ELSEIF ARG:1 == 34 && ARG:2 == 4
				SIF !GETBIT(던전플래그:99:12,02)
					LOCAL = 1
			ELSEIF ARG:1 == 38 && ARG:2 == 5
				SIF !GETBIT(던전플래그:99:12,03)
					LOCAL = 1
			ELSEIF ARG:1 == 34 && ARG:2 == 6
				SIF !GETBIT(던전플래그:99:12,04)
					LOCAL = 1
			ELSEIF ARG:1 == 36 && ARG:2 == 8
				SIF !GETBIT(던전플래그:99:12,05)
					LOCAL = 1
			ELSEIF ARG:1 == 24 && ARG:2 == 10
				SIF !GETBIT(던전플래그:99:12,06)
					LOCAL = 1
			ELSEIF ARG:1 == 24&& ARG:2 == 12
				SIF !GETBIT(던전플래그:99:12,07)
					LOCAL = 1
			ELSEIF ARG:1 == 31 && ARG:2 == 17
				SIF !GETBIT(던전플래그:99:12,08)
					LOCAL = 1
			ELSEIF ARG:1 == 31 && ARG:2 == 21
				SIF !GETBIT(던전플래그:99:12,09)
					LOCAL = 1
			ELSEIF ARG:1 == 17 && ARG:2 == 23
				SIF !GETBIT(던전플래그:99:12,10)
					LOCAL = 1
			ELSEIF ARG:1 == 5 && ARG:2 == 35
				SIF !GETBIT(던전플래그:99:12,11)
					LOCAL = 1
			ELSEIF ARG:1 == 5 && ARG:2 == 37
				SIF !GETBIT(던전플래그:99:12,12)
					LOCAL = 1
			ENDIF
		CASE 27
			IF ARG:1 == 9 && ARG:2 == 9
				SIF !GETBIT(던전플래그:99:12,13)
					LOCAL = 1
				ENDIF
		CASE 29
			IF ARG:1 == 17 && ARG:2 == 1
				SIF !GETBIT(던전플래그:99:12,14)
					LOCAL = 1
			ELSEIF ARG:1 ==15 && ARG:2 == 3
				SIF !GETBIT(던전플래그:99:12,15)
					LOCAL = 1
			ELSEIF ARG:1 == 20 && ARG:2 == 6
				SIF !GETBIT(던전플래그:99:12,16)
					LOCAL = 1
			ELSEIF ARG:1 == 11 && ARG:2 == 7
				SIF !GETBIT(던전플래그:99:12,17)
					LOCAL = 1
			ELSEIF ARG:1 == 13 && ARG:2 == 7
				SIF !GETBIT(던전플래그:99:12,18)
					LOCAL = 1
			ELSEIF ARG:1 == 20 && ARG:2 == 7
				SIF !GETBIT(던전플래그:99:12,19)
					LOCAL = 1
			ELSEIF ARG:1 == 13 && ARG:2 == 11
				SIF !GETBIT(던전플래그:99:12,20)
					LOCAL = 1
			ELSEIF ARG:1 == 15 && ARG:2 == 11
				SIF !GETBIT(던전플래그:99:12,21)
					LOCAL = 1
			ELSEIF ARG:1 == 5 && ARG:2 == 15
				SIF !GETBIT(던전플래그:99:12,22)
					LOCAL = 1
			ENDIF
		CASE 31
			IF ARG:1 == 15 && ARG:2 == 1
				SIF !GETBIT(던전플래그:99:12,23)
					LOCAL = 1
			ELSEIF ARG:1 == 13 && ARG:2 == 2
				SIF !GETBIT(던전플래그:99:12,24)
					LOCAL = 1
			ELSEIF ARG:1 == 11 && ARG:2 == 3
				SIF !GETBIT(던전플래그:99:12,25)
					LOCAL = 1
			ENDIF
		
		
	ENDSELECT
	IF LOCAL == 1
		SETCOLOR COLOR("RED")
		SIF ARG == 111
			RESULTS = Ａ
		SIF ARG == 121
			RESULTS = Ｂ
		SIF ARG == 131
			RESULTS = Ｃ
		SIF ARG == 191
			RESULTS = ●
		RETURN 1
	ENDIF
ENDIF


;=======================================================================
;タイル進入불가時のオーブ
;=======================================================================
@ENTER_DUNGEON_99_ORB_NON_ENTER,ARG,ARG:1

SELECTCASE FLAG:현M
	CASE 13
		IF ARG == 2 && ARG:1 == 13 && !GETBIT(던전플래그:99:6,40)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:6,40
		ELSEIF ARG == 2 && ARG:1 == 15 && !GETBIT(던전플래그:99:6,41)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:6,41
		ELSEIF ARG == 6 && ARG:1 == 15 && !GETBIT(던전플래그:99:6,42)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:6,42
		ENDIF
	CASE 16
		IF ARG == 5 && ARG:1 == 8 && !GETBIT(던전플래그:99:6,55)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:6,55
		ELSEIF ARG == 6 && ARG:1 == 17 && !GETBIT(던전플래그:99:6,56)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:6,56
		ENDIF
	CASE 18
		IF ARG == 5 && ARG:1 == 6 && !GETBIT(던전플래그:99:7,0)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:7,0
		ELSEIF ARG == 4 && ARG:1 == 17 && !GETBIT(던전플래그:99:7,1)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:7,1
		ELSEIF ARG == 6 && ARG:1 == 17 && !GETBIT(던전플래그:99:7,2)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:7,2
		ENDIF
	CASE 23
		IF ARG == 7 && ARG:1 == 26 && !GETBIT(던전플래그:99:7,43)
			PRINTFORMW レッドオーブ +100
			MONEY:99 += 100
			SETBIT 던전플래그:99:7,43
		ENDIF
	CASE 36
		IF ARG == 5 && ARG:1 == 1 && !GETBIT(던전플래그:99:12,26)
			PRINTFORMW レッドオーブ +200
			MONEY:99 += 200
			SETBIT 던전플래그:99:12,26
		ENDIF
ENDSELECT




;=======================================================================
;タイル進入時の이벤트
;=======================================================================
@ENTER_DUNGEON_99_ORB,ARG
;ARG = 進入時の向き　0の場合ワープなど
SELECTCASE DA:(FLAG:현X):(FLAG:현Y) % 10
	;----------
	;高低差有り/闘技場以降の취득処理
	;----------
	CASE 1
		SELECTCASE FLAG:현M
			CASE 2
				IF FLAG:현X == 8 && FLAG:현Y == 27
					IF !GETBIT(던전플래그:99:6,0)
						PRINTFORML レッドオーブ +100
						MONEY:99 += 100
						SETBIT 던전플래그:99:6,0
					ENDIF
				ENDIF
			CASE 11
				IF FLAG:현X == 1 && FLAG:현Y == 5
					IF !GETBIT(던전플래그:99:6,36)
						PRINTFORML レッドオーブ +100
						MONEY:99 += 100
						SETBIT 던전플래그:99:6,36
					ENDIF
				ELSEIF FLAG:현X == 1 && FLAG:현Y == 9
					IF !GETBIT(던전플래그:99:6,37)
						PRINTFORML レッドオーブ +100
						MONEY:99 += 100
						SETBIT 던전플래그:99:6,37
					ENDIF
				ENDIF
			CASE 14
				IF FLAG:현X == 22 && FLAG:현Y == 20
					IF !GETBIT(던전플래그:99:6,43)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,43
					ENDIF
				ELSEIF FLAG:현X == 24 && FLAG:현Y == 7
					IF !GETBIT(던전플래그:99:6,44)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,44
					ENDIF
				ELSEIF FLAG:현X == 25 && FLAG:현Y == 9
					IF !GETBIT(던전플래그:99:6,45)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,45
					ENDIF
				ELSEIF FLAG:현X == 25 && FLAG:현Y == 12
					IF !GETBIT(던전플래그:99:6,46)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,46
					ENDIF
				ELSEIF FLAG:현X == 25 && FLAG:현Y == 15
					IF !GETBIT(던전플래그:99:6,47)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,47
					ENDIF
				ELSEIF FLAG:현X == 24 && FLAG:현Y == 17
					IF !GETBIT(던전플래그:99:6,48)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,48
					ENDIF
				ELSEIF FLAG:현X == 19 && FLAG:현Y == 23
					IF !GETBIT(던전플래그:99:6,49)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,49
					ENDIF
				ELSEIF FLAG:현X == 22 && FLAG:현Y == 23
					IF !GETBIT(던전플래그:99:6,50)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,50
					ENDIF
				ELSEIF FLAG:현X == 7 && FLAG:현Y == 26
					IF !GETBIT(던전플래그:99:6,51)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,51
					ENDIF
				ELSEIF FLAG:현X == 20 && FLAG:현Y == 27
					IF !GETBIT(던전플래그:99:6,52)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:6,52
					ENDIF
				ENDIF
			CASE 18
				IF FLAG:현X == 20 && FLAG:현Y == 17
					IF !GETBIT(던전플래그:99:7,3)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,3
					ENDIF
				ELSEIF FLAG:현X == 16 && FLAG:현Y == 20
					IF !GETBIT(던전플래그:99:7,4)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,4
					ENDIF
				ELSEIF FLAG:현X == 9 && FLAG:현Y == 21
					IF !GETBIT(던전플래그:99:7,5)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,5
					ENDIF
				ELSEIF FLAG:현X == 14 && FLAG:현Y == 22
					IF !GETBIT(던전플래그:99:7,6)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,6
					ENDIF
				ELSEIF FLAG:현X == 18 && FLAG:현Y == 22
					IF !GETBIT(던전플래그:99:7,7)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,7
					ENDIF
				ELSEIF FLAG:현X == 15 && FLAG:현Y == 23
					IF !GETBIT(던전플래그:99:7,8)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,8
					ENDIF
				ENDIF
			CASE 19
				IF FLAG:현X == 4 && FLAG:현Y == 5
					IF !GETBIT(던전플래그:99:7,9)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,9
					ENDIF
				ENDIF
			CASE 20
				IF FLAG:현X == 4 && FLAG:현Y == 15
					IF !GETBIT(던전플래그:99:7,10)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,10
					ENDIF
				ELSEIF FLAG:현X == 11 && FLAG:현Y == 15
					IF !GETBIT(던전플래그:99:7,11)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,11
					ENDIF
				ELSEIF FLAG:현X == 19 && FLAG:현Y == 15
					IF !GETBIT(던전플래그:99:7,12)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,12
					ENDIF
				ELSEIF FLAG:현X == 3 && FLAG:현Y == 16
					IF !GETBIT(던전플래그:99:7,13)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,13
					ENDIF
				ELSEIF FLAG:현X == 15 && FLAG:현Y == 16
					IF !GETBIT(던전플래그:99:7,14)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,14
					ENDIF
				ELSEIF FLAG:현X == 19 && FLAG:현Y == 16
					IF !GETBIT(던전플래그:99:7,15)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,15
					ENDIF
				ELSEIF FLAG:현X == 17 && FLAG:현Y == 17
					IF !GETBIT(던전플래그:99:7,16)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,16
					ENDIF
				ELSEIF FLAG:현X == 3 && FLAG:현Y == 18
					IF !GETBIT(던전플래그:99:7,17)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,17
					ENDIF
				ELSEIF FLAG:현X == 12 && FLAG:현Y == 18
					IF !GETBIT(던전플래그:99:7,18)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,18
					ENDIF
				ELSEIF FLAG:현X == 20 && FLAG:현Y == 18
					IF !GETBIT(던전플래그:99:7,19)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,19
					ENDIF
				ELSEIF FLAG:현X == 4 && FLAG:현Y == 19
					IF !GETBIT(던전플래그:99:7,20)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,20
					ENDIF
				ELSEIF FLAG:현X == 11 && FLAG:현Y == 19
					IF !GETBIT(던전플래그:99:7,21)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,21
					ENDIF
				ELSEIF FLAG:현X == 14 && FLAG:현Y == 19
					IF !GETBIT(던전플래그:99:7,22)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,22
					ENDIF
				ELSEIF FLAG:현X == 19 && FLAG:현Y == 19
					IF !GETBIT(던전플래그:99:7,23)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,23
					ENDIF
				ELSEIF FLAG:현X == 17 && FLAG:현Y ==21
					IF !GETBIT(던전플래그:99:7,24)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,24
					ENDIF
				ELSEIF FLAG:현X == 18 && FLAG:현Y == 22
					IF !GETBIT(던전플래그:99:7,25)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,25
					ENDIF
				ENDIF
			CASE 21
				IF FLAG:현X == 6 && FLAG:현Y == 3
					IF !GETBIT(던전플래그:99:7,26)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,26
					ENDIF
				ELSEIF FLAG:현X == 13 && FLAG:현Y == 3
					IF !GETBIT(던전플래그:99:7,27)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,27
					ENDIF
				ELSEIF FLAG:현X == 21 && FLAG:현Y == 3
					IF !GETBIT(던전플래그:99:7,28)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,28
					ENDIF
				ELSEIF FLAG:현X == 12 && FLAG:현Y == 5
					IF !GETBIT(던전플래그:99:7,29)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,29
					ENDIF
				ELSEIF FLAG:현X == 7 && FLAG:현Y == 10
					IF !GETBIT(던전플래그:99:7,30)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,30
					ENDIF
				ELSEIF FLAG:현X == 12 && FLAG:현Y == 10
					IF !GETBIT(던전플래그:99:7,31)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,31
					ENDIF
				ELSEIF FLAG:현X == 22 && FLAG:현Y == 10
					IF !GETBIT(던전플래그:99:7,32)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,32
					ENDIF
				ELSEIF FLAG:현X == 6 && FLAG:현Y == 16
					IF !GETBIT(던전플래그:99:7,33)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,33
					ENDIF
				ELSEIF FLAG:현X == 13 && FLAG:현Y == 16
					IF !GETBIT(던전플래그:99:7,34)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,34
					ENDIF
				ELSEIF FLAG:현X == 6 && FLAG:현Y == 26
					IF !GETBIT(던전플래그:99:7,35)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,35
					ENDIF
				ELSEIF FLAG:현X == 21 && FLAG:현Y == 26
					IF !GETBIT(던전플래그:99:7,36)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,36
					ENDIF
				ENDIF
			CASE 23
				IF FLAG:현X == 31 && FLAG:현Y == 3
					IF !GETBIT(던전플래그:99:7,37)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,37
					ENDIF
				ELSEIF FLAG:현X == 3 && FLAG:현Y == 20
					IF !GETBIT(던전플래그:99:7,38)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,38
					ENDIF
				ELSEIF FLAG:현X == 1 && FLAG:현Y == 22
					IF !GETBIT(던전플래그:99:7,39)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,39
					ENDIF
				ELSEIF FLAG:현X == 5 && FLAG:현Y == 22
					IF !GETBIT(던전플래그:99:7,40)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,40
					ENDIF
				ELSEIF FLAG:현X == 2 && FLAG:현Y == 24
					IF !GETBIT(던전플래그:99:7,41)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,41
					ENDIF
				ELSEIF FLAG:현X == 4 && FLAG:현Y == 24
					IF !GETBIT(던전플래그:99:7,42)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,42
					ENDIF
				ELSEIF FLAG:현X == 10 && FLAG:현Y == 26
					IF !GETBIT(던전플래그:99:7,44)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,44
					ENDIF
				ELSEIF FLAG:현X == 8 && FLAG:현Y == 31
					IF !GETBIT(던전플래그:99:7,45)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,45
					ENDIF
				ELSEIF FLAG:현X == 24 && FLAG:현Y == 31
					IF !GETBIT(던전플래그:99:7,46)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,46
					ENDIF
				ENDIF
			CASE 24
				IF FLAG:현X == 7 && FLAG:현Y == 1
					IF !GETBIT(던전플래그:99:7,47)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,47
					ENDIF
				ELSEIF FLAG:현X == 10 && FLAG:현Y == 3
					IF !GETBIT(던전플래그:99:7,48)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,48
					ENDIF
				ELSEIF FLAG:현X == 7 && FLAG:현Y == 4
					IF !GETBIT(던전플래그:99:7,49)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,49
					ENDIF
				ELSEIF FLAG:현X == 1 && FLAG:현Y == 16
					IF !GETBIT(던전플래그:99:7,50)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,50
					ENDIF
				ELSEIF FLAG:현X == 15 && FLAG:현Y == 16
					IF !GETBIT(던전플래그:99:7,51)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,51
					ENDIF
				ELSEIF FLAG:현X == 2 && FLAG:현Y == 17
					IF !GETBIT(던전플래그:99:7,52)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,52
					ENDIF
				ELSEIF FLAG:현X == 14 && FLAG:현Y == 17
					IF !GETBIT(던전플래그:99:7,53)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,53
					ENDIF
				ELSEIF FLAG:현X == 1 && FLAG:현Y == 18
					IF !GETBIT(던전플래그:99:7,54)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,54
					ENDIF
				ELSEIF FLAG:현X == 15 && FLAG:현Y == 18
					IF !GETBIT(던전플래그:99:7,55)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,55
					ENDIF
				ELSEIF FLAG:현X == 7 && FLAG:현Y == 30
					IF !GETBIT(던전플래그:99:7,56)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,56
					ENDIF
				ELSEIF FLAG:현X == 10 && FLAG:현Y == 31
					IF !GETBIT(던전플래그:99:7,57)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,57
					ENDIF
				ELSEIF FLAG:현X == 7 && FLAG:현Y == 33
					IF !GETBIT(던전플래그:99:7,58)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:7,58
					ENDIF
				ENDIF
		;=======
		;古城・後編
		;=======
			CASE 26
				IF FLAG:현X == 36 && FLAG:현Y == 2
					IF !GETBIT(던전플래그:99:12,01)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,01
					ENDIF
				ELSEIF FLAG:현X == 34 && FLAG:현Y == 4
					IF !GETBIT(던전플래그:99:12,02)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,02
					ENDIF
				ELSEIF FLAG:현X == 38 && FLAG:현Y == 5
					IF !GETBIT(던전플래그:99:12,03)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,03
					ENDIF
				ELSEIF FLAG:현X == 34 && FLAG:현Y == 6
					IF !GETBIT(던전플래그:99:12,04)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,04
					ENDIF
				ELSEIF FLAG:현X == 36 && FLAG:현Y == 8
					IF !GETBIT(던전플래그:99:12,05)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,05
					ENDIF
				ELSEIF FLAG:현X == 24 && FLAG:현Y == 10
					IF !GETBIT(던전플래그:99:12,06)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,06
					ENDIF
				ELSEIF FLAG:현X == 24 && FLAG:현Y == 12
					IF !GETBIT(던전플래그:99:12,07)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,07
					ENDIF
				ELSEIF FLAG:현X == 31 && FLAG:현Y == 17
					IF !GETBIT(던전플래그:99:12,08)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,08
					ENDIF
				ELSEIF FLAG:현X == 31 && FLAG:현Y == 21
					IF !GETBIT(던전플래그:99:12,09)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,09
					ENDIF
				ELSEIF FLAG:현X == 17 && FLAG:현Y == 23
					IF !GETBIT(던전플래그:99:12,10)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,10
					ENDIF
				ELSEIF FLAG:현X == 5 && FLAG:현Y == 35
					IF !GETBIT(던전플래그:99:12,11)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,11
					ENDIF
				ELSEIF FLAG:현X == 5 && FLAG:현Y == 37
					IF !GETBIT(던전플래그:99:12,12)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,12
					ENDIF
				ENDIF
		;=======
		;小部屋の絵
		;=======
			CASE 27
				IF FLAG:현X == 9 && FLAG:현Y == 9
					IF !GETBIT(던전플래그:99:12,13)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,13
					ENDIF
				ENDIF
		;=======
		;浸水牢獄
		;=======
			CASE 29
				IF FLAG:현X == 17 && FLAG:현Y == 1
					IF !GETBIT(던전플래그:99:12,14)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,14
					ENDIF
				ELSEIF FLAG:현X == 15 && FLAG:현Y == 3
					IF !GETBIT(던전플래그:99:12,15)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,15
					ENDIF
				ELSEIF FLAG:현X == 20 && FLAG:현Y == 6
					IF !GETBIT(던전플래그:99:12,16)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,16
					ENDIF
				ELSEIF FLAG:현X == 11 && FLAG:현Y == 7
					IF !GETBIT(던전플래그:99:12,17)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,17
					ENDIF
				ELSEIF FLAG:현X == 13 && FLAG:현Y == 7
					IF !GETBIT(던전플래그:99:12,18)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,18
					ENDIF
				ELSEIF FLAG:현X == 20 && FLAG:현Y == 7
					IF !GETBIT(던전플래그:99:12,19)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,19
					ENDIF
				ELSEIF FLAG:현X == 13 && FLAG:현Y == 11
					IF !GETBIT(던전플래그:99:12,20)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,20
					ENDIF
				ELSEIF FLAG:현X == 15 && FLAG:현Y == 11
					IF !GETBIT(던전플래그:99:12,21)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,21
					ENDIF
				ELSEIF FLAG:현X == 5 && FLAG:현Y == 15
					IF !GETBIT(던전플래그:99:12,22)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,22
					ENDIF
				ENDIF
		;=======
		;変成の間
		;=======
			CASE 31
				IF FLAG:현X == 15 && FLAG:현Y == 1
					IF !GETBIT(던전플래그:99:12,23)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,23
					ENDIF
				ELSEIF FLAG:현X == 13 && FLAG:현Y == 2
					IF !GETBIT(던전플래그:99:12,24)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,24
					ENDIF
				ELSEIF FLAG:현X == 11 && FLAG:현Y == 3
					IF !GETBIT(던전플래그:99:12,25)
						PRINTFORML レッドオーブ +50
						MONEY:99 += 50
						SETBIT 던전플래그:99:12,25
					ENDIF
				ENDIF
				
				
				
		ENDSELECT
	;=======
	;이벤트2
	;=======
	CASE 9
		SELECTCASE DA:(FLAG:현X):(FLAG:현Y) / 10
			;■海中通路先の塔
			CASE 200
				IF !GETBIT(던전플래그:99:6,4)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,4
					CALL DUNGEON_WORP,2,36,2
				ENDIF
			;■海中通路先の塔
			CASE 201
				IF !GETBIT(던전플래그:99:6,5)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,5
					CALL DUNGEON_WORP,2,34,4
				ENDIF
			;■聖堂から塔への橋
			CASE 202
				IF !GETBIT(던전플래그:99:6,6)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,6
					CALL DUNGEON_WORP,2,28,5
				ENDIF
			;■海中通路先の塔
			CASE 205
				IF !GETBIT(던전플래그:99:6,7)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,7
					CALL DUNGEON_WORP,2,38,5
				ENDIF
			;■海中通路先の塔
			CASE 206
				IF !GETBIT(던전플래그:99:6,8)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,8
					CALL DUNGEON_WORP,2,34,6
				ENDIF
			;■海中通路先の塔
			CASE 207
				IF !GETBIT(던전플래그:99:6,9)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,9
					CALL DUNGEON_WORP,2,36,8
				ENDIF
			;■古城1F　書庫
			CASE 211
				IF !GETBIT(던전플래그:99:6,10)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,10
					CALL DUNGEON_WORP,2,22,12
				ENDIF
			;■古城1F　小部屋
			CASE 215
				IF !GETBIT(던전플래그:99:6,11)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,11
					CALL DUNGEON_WORP,2,17,23
				ENDIF
			;■古城1F　階段横
			CASE 216
				IF !GETBIT(던전플래그:99:6,2)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,2
					CALL DUNGEON_WORP,2,13,26
				ENDIF
			;■古城1F　騎士の像손前
			CASE 217
				IF !GETBIT(던전플래그:99:6,1)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,1
					CALL DUNGEON_WORP,2,8,28
				ENDIF
			;■古城1F　複葉機の部屋前
			CASE 218
				IF !GETBIT(던전플래그:99:6,3)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,3
					CALL DUNGEON_WORP,2,14,32
				ENDIF
			;■古城1F　玄関前
			CASE 219
				IF !GETBIT(던전플래그:99:6,13)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,13
					CALL DUNGEON_WORP,2,5,37
				ENDIF
			;■古城1F　マリオネットの部屋
			CASE 220
				IF !GETBIT(던전플래그:99:6,14)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,14
					CALL DUNGEON_WORP,2,15,39
				ENDIF
			;■古城1F　マリオネットの部屋奥
			CASE 222
				IF !GETBIT(던전플래그:99:6,15)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,15
					CALL DUNGEON_WORP,2,15,43
				ENDIF
			;■古城ロビー吹き抜け　2F
			CASE 300
				IF !GETBIT(던전플래그:99:6,16)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,16
					CALL DUNGEON_WORP,3,12,2
				ENDIF
			;■古城ロビー吹き抜け　2F
			CASE 301
				IF !GETBIT(던전플래그:99:6,17)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,17
					CALL DUNGEON_WORP,3,14,2
				ENDIF
			;■古城ロビー吹き抜け　2F
			CASE 302
				IF !GETBIT(던전플래그:99:6,18)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,18
					CALL DUNGEON_WORP,3,12,3
				ENDIF
			;■古城ロビー吹き抜け　2F
			CASE 303
				IF !GETBIT(던전플래그:99:6,19)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,19
					CALL DUNGEON_WORP,3,15,3
				ENDIF
			;■古城ロビー吹き抜け　2F
			CASE 304
				IF !GETBIT(던전플래그:99:6,20)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,20
					CALL DUNGEON_WORP,3,15,4
				ENDIF
			;■古城ロビー吹き抜け　2F
			CASE 307
				IF !GETBIT(던전플래그:99:6,21)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,21
					CALL DUNGEON_WORP,3,15,24
				ENDIF
			;■古城ロビー吹き抜け　2F
			CASE 308
				IF !GETBIT(던전플래그:99:6,22)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,22
					CALL DUNGEON_WORP,3,13,31
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 400
				IF !GETBIT(던전플래그:99:6,23)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,23
					CALL DUNGEON_WORP,4,6,2
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 401
				IF !GETBIT(던전플래그:99:6,24)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,24
					CALL DUNGEON_WORP,4,14,2
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 402
				IF !GETBIT(던전플래그:99:6,25)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,25
					CALL DUNGEON_WORP,4,1,7
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 403
				IF !GETBIT(던전플래그:99:6,26)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,26
					CALL DUNGEON_WORP,4,1,9
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 404
				IF !GETBIT(던전플래그:99:6,27)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,27
					CALL DUNGEON_WORP,4,1,11
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 405
				IF !GETBIT(던전플래그:99:6,28)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,28
					CALL DUNGEON_WORP,4,1,13
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 406
				IF !GETBIT(던전플래그:99:6,29)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,29
					CALL DUNGEON_WORP,4,1,15
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 411
				IF !GETBIT(던전플래그:99:6,30)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,30
					CALL DUNGEON_WORP,4,8,19
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 412
				IF !GETBIT(던전플래그:99:6,31)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,31
					CALL DUNGEON_WORP,4,16,27
				ENDIF
			;■古城ロビー吹き抜け　3F
			CASE 413
				IF !GETBIT(던전플래그:99:6,32)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,32
					CALL DUNGEON_WORP,4,14,32
				ENDIF
			;■吹き抜け階段 - 寝室
			CASE 823
				IF !GETBIT(던전플래그:99:6,33)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,33
					CALL DUNGEON_WORP,8,7,16
				ENDIF
			;■5F　寝室屋根上
			CASE 910
				IF !GETBIT(던전플래그:99:6,34)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,34
					CALL DUNGEON_WORP,9,9,13
				ENDIF
			;■地下水路
			CASE 1001
				IF !GETBIT(던전플래그:99:6,35)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,35
					CALL DUNGEON_WORP,10,13,9
				ENDIF
			;■太陽の紋章先
			CASE 1107
				IF !GETBIT(던전플래그:99:6,39)
					PRINTFORML レッドオーブ +5
					MONEY:99 += 5
					SETBIT 던전플래그:99:6,39
					CALL DUNGEON_WORP,11,9,16
				ENDIF
			
		ENDSELECT
ENDSELECT


;=======================================================================
;時空神像でレッドオーブを소비し、아이템を취득する
;=======================================================================
@JIKU_GOD_STATUE
CUSTOMDRAWLINE =
CALL MESSAGE_WINDOW_D, "", "＞ 時の傍観者たる時空神像がある/歴史のすべてを把握、記憶する神だ "
CALL MESSAGE_WINDOW_D, "", @"＞ 現在のレッドオーブの所持数　{MONEY:99}/　　どうする？ "
PRINTFORML [ 0] セーブする
PRINTFORML [ 1] レッドオーブを使用する
PRINTFORML [ 2] その場を離れる
INPUT
IF RESULT == 0
	CALL TITLE_SAVEGAME
ELSEIF RESULT == 1
	CALL ORB_SHOP
ELSE
	RETURN 1
ENDIF

@ORB_SHOP
$ORB_SHOP_99
DRAWLINE
PRINTFORML レッドオーブや블루오브의조각を소비して、아이템を취득できます
PRINTFORML RO：{MONEY:99} / BO：{ITEM:블루오브의조각}
PRINTFORML 
PRINTFORML [ 0] 데빌스타　　RO x 550
PRINTFORML  
PRINTFORML [ 1] 인내력의향　　　　BO x 4
PRINTFORML  
PRINTFORML [ 2] やはりやめておく
INPUT
IF RESULT == 0
	PRINTFORML  【데빌스타】
	PRINTFORML  ＞ 마력を結晶にした石
	PRINTFORML  ＞ 데빌트리거ゲージを50分회복する
	PRINTFORML  
	PRINTFORML  レッドオーブを550소비して취득しますか？
	CALL INPUT_YN, "취득する", "しない"
		IF RESULT == 0
			IF MONEY:99 < 550
				PRINTFORMW  レッドオーブが不발しています
				RESTART
			ELSEIF ITEM:데빌스타 == 5
				PRINTFORMW  소지수の限界です
				RESTART
			ELSE
				MONEY:99 -= 550
				CALL GET_ITEMS,"데빌스타",1
				PRINTFORMW 데빌스타　+1
				RESTART
			ENDIF
		ELSE
			GOTO ORB_SHOP_99
		ENDIF
ELSEIF RESULT == 1
	PRINTFORML  【인내력의향】
	PRINTFORML  ＞ 인내력の基礎値を１上げる香炉
	PRINTFORML  
	PRINTFORML  블루오브의조각を4つ소비して취득しますか？
	CALL INPUT_YN, "취득する", "しない"
		IF RESULT == 0
			IF ITEM:블루오브의조각 < 4
				PRINTFORMW  블루오브의조각が不발しています
				RESTART
			ELSEIF ITEM:인내력의향 == 99
				PRINTFORMW  소지수の限界です
				RESTART
			ELSE
				ITEM:블루오브의조각 -= 4
				CALL GET_ITEMS,"인내력의향",1
				PRINTFORMW 인내력의향　+1
				RESTART
			ENDIF
		ELSE
			GOTO ORB_SHOP_99
		ENDIF
ELSE
	RETURN 1
ENDIF





