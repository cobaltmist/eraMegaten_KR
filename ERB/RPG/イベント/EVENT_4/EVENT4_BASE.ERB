;====================
;조건
;====================
@PLAYABLE_EVENT_4
#LOCALSIZE 4
LOCAL = STRFLAG_NUM_EV("죄루트진행", , , , [[이벤트:페르소나２]])
LOCAL:1 = STRFLAG_NUM_EV("벌루트진행", , , , [[이벤트:페르소나２]])
LOCAL:2 = STRFLAG_NUM_EV("니알라진행", , , , [[이벤트:페르소나２]])
LOCAL:3 = STRFLAG_NUM_EV("필레몬진행", , , , [[이벤트:페르소나２]])
;罪ルート2(칠자매학원클리어後)
IF LOCAL == 2
	RESULTS = 가면당 토벌 지령(1)
	RETURN 1
ENDIF
;罪ルート4(조디악クリア後)
IF LOCAL == 4
	RESULTS = 가면당 토벌 지령(2)
	RETURN 1
ENDIF
;罪ルート6(コンサートクリア後)
IF LOCAL == 6
	RESULTS = 가면당 토벌 지령(3)
	RETURN 1
ENDIF
;罪ルート8(하늘의박물관クリア後かつニャルルート入ってない)
IF LOCAL == 8 && LOCAL:2 < 3
	RESULTS = 라스트 바탈리온 격퇴 지령
	RETURN 1
ENDIF
IF LOCAL == 9 && LOCAL:2 < 3
	RESULTS = 마이아의 신탁
	RETURN 1
ENDIF
IF LOCAL == 11 && LOCAL:2 < 3
	RESULTS = 환영의 시발바
	RETURN 1
ENDIF
IF LOCAL:1 == 2
	RESULTS = 뒷사회의 소문 장사꾼
	RETURN 1
ENDIF
IF LOCAL:1 == 4
	RESULTS = ＪＯＫＥＲ저주
	RETURN 1
ENDIF
IF LOCAL:1 == 5 && LOCAL:3 == 3
	RESULTS = 인・라케치
	RETURN 1
ENDIF
IF LOCAL:1 == 6
	RESULTS = 신세숙의 암약
	RETURN 1
ENDIF
;#;RESULTS = 페르소나２이벤트
;#;RETURN 1
RETURN 0

;====================
;内容
;====================
@SHOPCOM_EVENT_4
#LOCALSIZE 4
LOCAL = STRFLAG_NUM_EV("죄루트진행", , , , [[이벤트:페르소나２]])
LOCAL:1 = STRFLAG_NUM_EV("벌루트진행", , , , [[이벤트:페르소나２]])
LOCAL:2 = STRFLAG_NUM_EV("니알라진행", , , , [[이벤트:페르소나２]])
LOCAL:3 = STRFLAG_NUM_EV("필레몬진행", , , , [[이벤트:페르소나２]])
CLEARBIT FLAG:이벤트출현1, 4
IF LOCAL == 2
	CALL SHOPCOM_EVENT_4_G2
	CALLF STRFLAG_NUM_EV("죄루트진행", "=", , 3, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL == 4
	CALL SHOPCOM_EVENT_4_G4
	CALLF STRFLAG_NUM_EV("죄루트진행", "=", , 5, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL == 6
	CALL SHOPCOM_EVENT_4_G6
	CALLF STRFLAG_NUM_EV("죄루트진행", "=", , 7, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL == 8 && LOCAL:2 < 3
	CALL SHOPCOM_EVENT_4_G8
	CALLF STRFLAG_NUM_EV("죄루트진행", "=", , 9, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL == 9 && LOCAL:2 < 3
	CALL SHOPCOM_EVENT_4_G9
	CALLF STRFLAG_NUM_EV("죄루트진행", "=", , 10, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL == 11 && LOCAL:2 < 3
	CALL SHOPCOM_EVENT_4_G11
	CALLF STRFLAG_NUM_EV("죄루트진행", "=", , 12, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL:1 == 2
	CALL SHOPCOM_EVENT_4_P2
	CALLF STRFLAG_NUM_EV("벌루트진행", "=", , 3, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL:1 == 4
	CALL SHOPCOM_EVENT_4_P4
	CALLF STRFLAG_NUM_EV("벌루트진행", "=", , 5, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL:1 == 5 && LOCAL:3 == 3
	CALL SHOPCOM_EVENT_4_P5EX
	CALLF STRFLAG_NUM_EV("필레몬진행", "=", , 4, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
IF LOCAL:1 == 6
	CALL SHOPCOM_EVENT_4_P6
	CALLF STRFLAG_NUM_EV("벌루트진행", "=", , 7, [[이벤트:페르소나２]])
	RETURN 0
ENDIF
CALLF STRFLAG_NUM_EV("ルート進行日", "=", , DAY, [[이벤트:페르소나２]])
;#;PRINTL 입력
;#;INPUTS
;#;TRYCALLFORM SHOPCOM_EVENT_4_%RESULTS%
;#;RETURN 0
