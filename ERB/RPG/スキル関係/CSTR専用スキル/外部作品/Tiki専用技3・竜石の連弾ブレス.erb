;スキル名
@SKILL_NAME_竜石の連弾ブレス,ARG
#DIM 竜石変化ゲージ用スキル番号
竜石変化ゲージ用スキル番号 = PU_SKILLNUM_GET(ARG,"竜石変化")
IF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 1
	RESULTS = 불의 연탄 브레스
ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 2
	RESULTS = 얼음의 연탄 브레스
ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 3
	RESULTS = 마룡의 연탄 브레스
ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 4
	RESULTS = 신무의 연탄 브레스
ELSE
	RESULTS = 용석의 연탄 브레스
ENDIF


;　명중
@SKILL_HITRATE_竜石の連弾ブレス,ARG
RETURN 120

;　위력
@SKILL_POWER_竜石の連弾ブレス,ARG
#DIM 竜石変化ゲージ用スキル番号
竜石変化ゲージ用スキル番号 = PU_SKILLNUM_GET(ARG,"竜石変化")
IF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 4
	RETURN 40
ELSE
	RETURN 50
ENDIF

;クリティカル率
@SKILL_CRITICAL_RATE_竜石の連弾ブレス,ARG
RETURN 0

;　최저공격횟수
@SKILL_MINATTACKNUMBER_竜石の連弾ブレス,ARG
RETURN 6

;　최대공격횟수
@SKILL_MAXATTACKNUMBER_竜石の連弾ブレス,ARG
RETURN 6

;　2 ＨＰ지불　3 ＭＰ지불
@SKILL_COSTTYPE_竜石の連弾ブレス,ARG
RETURN 2
;消費なし＝1

;　코스트량　HPだと％になるんだ。しらそん
@SKILL_COST_竜石の連弾ブレス,ARG
RETURN 5

;　상성
@SKILL_TYPE_竜石の連弾ブレス,ARG
#DIM 竜石変化ゲージ用スキル番号
竜石変化ゲージ用スキル番号 = PU_SKILLNUM_GET(ARG,"竜石変化")
	IF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 1
		RETURN GET_TYPE_NUM("화염")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 2
		RETURN GET_TYPE_NUM("빙결")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 3
		RETURN GET_TYPE_NUM("비구")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 4
		RETURN GET_TYPE_NUM("만능")
	ELSE
		RETURN GET_TYPE_NUM("만능")
	ENDIF

;　1 EXTRA　2 MAGIC
@SKILL_DECIDE_TYPE_竜石の連弾ブレス,ARG
RETURN 1

;　1 물리데미지로 계산　2 마법데미지로 계산
@SKILL_DAMAGETYPE_竜石の連弾ブレス,ARG
RETURN 2


;　対象が1敵か2味方か3場全体か4特殊か
@SKILL_TARGET_竜石の連弾ブレス,ARG
RETURN 1

;　사거리
@SKILL_RANGE_竜石の連弾ブレス,ARG
RETURN 3

;　범위　1 1체　2 1열　3 전체　4 적아군전체
@SKILL_SPHERE_竜石の連弾ブレス,ARG
RETURN 3

;　 효과타입　1 공격、2 회복、3 상태변화、4 특수、5 상태회복
@SKILL_EFECT_竜石の連弾ブレス,ARG
RETURN 1

;　 특수처리 여부 및 처리내용
;@SKILL_SPECIALEFECT_竜石の連弾ブレス,ARG
;ARG = 1인 경우는 처리 여부를 반환합니다
;SIF ARG == 1
;	RETURN 0
;아래쪽에 특수처리를 기술합니다

;계승타입
;@SKILL_SUCCESSION_TYPE_竜石の連弾ブレス,ARG
;RETURN 23
;검격

;속도보정
@SKILL_SPEED_竜石の連弾ブレス, ARG = -1
RETURN 0

;;　口上の表示とそのタイプ
;@SKILL_MESSAGE_竜石の連弾ブレス,ARG


;전투시 이외에 사용 가능한가
@SKILL_ACTIONABLE_FIELD_竜石の連弾ブレス, ARG = -1
RETURN 0

;没
;@SKILL_RANK_竜石の連弾ブレス
;@SKILL_RANKUP_竜石の連弾ブレス
;@계승불능_竜石の連弾ブレス

;템플릿용、추가효과 시리즈
;추가효과 스테이터스
@SKILL_ADDTIONAL_STATE_竜石の連弾ブレス,ARG
#DIM 竜石変化ゲージ用スキル番号
竜石変化ゲージ用スキル番号 = PU_SKILLNUM_GET(ARG,"竜石変化")
	IF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 1
		RETURN GET_STATE_NUM("FLAME")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 2
		RETURN GET_STATE_NUM("FREEZE")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 3
		RETURN GET_STATE_NUM("CLOSE")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 4
		RETURN 0
	ELSE
		RETURN 0
	ENDIF

;추가효과 상성
@SKILL_ADDTIONAL_TYPE_竜石の連弾ブレス,ARG
#DIM 竜石変化ゲージ用スキル番号
竜石変化ゲージ用スキル番号 = PU_SKILLNUM_GET(ARG,"竜石変化")
	IF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 1
		RETURN GET_TYPE_NUM("화염")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 2
		RETURN GET_TYPE_NUM("빙결")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 3
		RETURN GET_TYPE_NUM("정신")
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 4
		RETURN 0
	ELSE
		RETURN 0
	ENDIF

;추가효과 기본부여확률
@SKILL_ADDTIONAL_BASE_RATE_竜石の連弾ブレス,ARG
RETURN 30

;추가효과 부여확률상한
@SKILL_ADDTIONAL_MAX_RATE_竜石の連弾ブレス,ARG
RETURN 90

;;拡散攻撃用追加処理
;;ブレスなどの拡散攻撃に使う
;@SKILL_SPREAD_竜石の連弾ブレス,ARG
;RETURN 0

;攻撃命中時데미지計算前処理
@SKILL_HIT_EFFECT_竜石の連弾ブレス,ARG,ARG:1
#DIM 竜石変化ゲージ用スキル番号
竜石変化ゲージ用スキル番号 = PU_SKILLNUM_GET(ARG,"竜石変化")
	IF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 1
		CFLAG:(ARG:1):화염무효화횟수 = 0
		CFLAG:(ARG:1):화염가드킬 = 2
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 2
		CFLAG:(ARG:1):빙결무효화횟수 = 0
		CFLAG:(ARG:1):빙결가드킬 = 2
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 3
		CFLAG:(ARG:1):비구무효화횟수 = 0
		CFLAG:(ARG:1):비구가드킬 = 2
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 4
	IF GETBIT(FLAG:확산플래그,CPOS(ARG:1)) == 0
		CFLAG:(ARG:1):마법효과강화 = MAX(-16, CFLAG:(ARG:1):마법효과강화 - 4)
		SETBIT FLAG:확산플래그,CPOS(ARG:1)
	ENDIF
	ELSE
		RETURN 0
	ENDIF

;====================================================
;스킬 및 행동의 실행
;====================================================
@ACTION_竜石の連弾ブレス,ARG,ARG:1,SKILL_NUM
#DIM SKILL_NUM
FLAG:확산플래그 = 0
CALL ATTACK_RAND,ARG,ARG:1,SKILL_NUM
;====================================================
;실행내용 여기까지
;====================================================

;　説明文の表示
@SKILL_EXPLAIN_竜石の連弾ブレス,ARG
#DIM 竜石変化ゲージ用スキル番号
竜石変化ゲージ用スキル番号 = PU_SKILLNUM_GET(ARG,"竜石変化")
	IF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 1
		PRINTL 적 전체에서 랜덤하게 화염 속성으로 소위력의 마법공격을 6회 행하고、화염 속성으로 염상을 부여한다。
		PRINTL 이 공격은 적에게 명중했을 경우、화염가드킬을 부여하고 공격한다。
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 2
		PRINTL 적 전체에서 랜덤하게 빙결 속성으로 소위력의 마법공격을 6회 행하고、빙결 속성으로 동결을 부여한다。
		PRINTL 이 공격은 적에게 명중했을 경우、빙결가드킬을 부여하고 공격한다。
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 3
		PRINTL 적 전체에서 랜덤하게 비구 속성으로 소위력의 마법공격을 6회 행하고、정신 속성으로 마봉을 부여한다。
		PRINTL 이 공격은 적에게 명중했을 경우、비구가드킬을 부여하고 공격한다。
	ELSEIF SKILLGAGE_H_GET(ARG,竜石変化ゲージ用スキル番号) == 4
		PRINTL 적 전체에서 랜덤하게 만능 속성으로 소위력의 마법공격을 6회 행한다。
		PRINTL 이 공격은 적에게 명중했을 경우、마법효과를 저하시켜 공격한다。
	ELSE
		PRINTL 적 전체에서 랜덤하게 용석변화로 지정한 속성으로 소위력、대응하는 상태이상을 부여하는 마법공격을 행한다。
	ENDIF
PRINTL 
PRINTL 단발보다 위력은 떨어지지만 얕잡아보면 안되고、맞으면 퍽퍽 그 속성의 방어가 파괴된다。
PRINTL 단、발동 시 최대 HP의 ５％에 해당하는 HP를 소비한다。
PRINTL 용석변화의 효과 중에서만 사용 가능한、신룡족　치키의 용의 힘（전용）


;没
;@계승부위_竜石の連弾ブレス,ARG

;사용조건
@SKILL_SPECIAL_ACTIONABLE_竜石の連弾ブレス,ARG
#DIM 竜石変化ゲージ用スキル番号
竜石変化ゲージ用スキル番号 = PU_SKILLNUM_GET(ARG,"竜石変化")
IF SKILLGAGE_D_GET(ARG,竜石変化ゲージ用スキル番号) > 0
	RETURN 1
ELSE
	RETURN 0
ENDIF
