;스킬명
@SKILL_NAME_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	;フレイミングシャワー　→　メギドゲイザーとプリュイのいいとこどり。
	;遭遇時期はLV40
	RESULTS = FLAMING SHOWER
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	;メギドゲイザー　→　強化版デッドリーバーン。威力は据え置きだが炎上付与率が高い。
	;遭遇時期はLV35
	RESULTS = MEGIDO GAZER
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	;黄昏時のプリュイ　→　ツインクルネビュラ亜種。威力は据え置きで中央のみ疾風、それ以外飛具相性。命中が高い。
	;遭遇時期はLV35
	IF FLAG:행동순1 == ARG
		RESULTS = PLUIE AU CR%UNICODE(0x00C9)%PUSCULE
	ELSE
		RESULTS = P.AU CR%UNICODE(0x00C9)%PUSCULE
	ENDIF
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	;ドゥームズデイブラスト　→　旋回速弾亜種。威力は下げて核熱複合相性、発動激遅化
	;遭遇時期はLV45か50
	RESULTS = DOOMSDAY BLAST
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	;ターミナルデストラクション　→　超強化版玉砕破。なお敵が使う場合はイベント仕様の模様
	;ファイナルオペレーションはただの降車なのでスキルにしない
	;上記理由のためこの形で遭遇はしない
	IF FLAG:행동순1 == ARG
		RESULTS = TERMINAL DESTRUCTION
	ELSE
		RESULTS = T.DESTRUCTION
	ENDIF
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	;スタグネーションワールド　→　強化版ニブルヘイム。威力は据え置きだが状態異常率上昇、攻撃の間「だけ」魔法効果一段階低下（上限突破）
	;遭遇時期はLV45か50
	RESULTS = STAGNATION WORLD
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	;ツインメテオバースト　→　八艘跳び亜種。あちらは8*100=800、こちらは9*90=810
	;遭遇時期はLV45か50
	RESULTS = TWIN METEOR BURST
ELSE
	RESULTS = ＳＰスキル
ENDIF

;　명중
@SKILL_HITRATE_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 120
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 100
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	;せめて足場を狭めるところから命中率ぐらいは恵んであげる
	RETURN 150
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	RETURN 95
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	RETURN 200
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN 100
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	RETURN 90
ELSE
	RETURN 100
ENDIF

;　위력
@SKILL_POWER_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 420
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 420
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	RETURN 420
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	RETURN 460
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	RETURN 600
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN 395
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	RETURN 90
ELSE
	RETURN 100
ENDIF

;　최저공격횟수
@SKILL_MINATTACKNUMBER_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	RETURN 9
ELSE
	RETURN 1
ENDIF

;　최대공격횟수
@SKILL_MAXATTACKNUMBER_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	RETURN 9
ELSE
	RETURN 1
ENDIF

;一体辺りの最大ＨＩＴ数
;※今のところスラグ限定　半分以上ヒットするぞ
@SKILL_MAXATK_PER_ＳＰスキル, ARG
RETURN 5

;一体辺りの最低ＨＩＴ数
;※今のところスラグ限定　めっちゃ片寄るぞ
@SKILL_MINATK_PER_ＳＰスキル, ARG
RETURN 0

;　2 ＨＰ지불　3 ＭＰ지불
@SKILL_COSTTYPE_ＳＰスキル, ARG
RETURN 3
;소비없음＝1

;　코스트량
@SKILL_COST_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	;せめてデイサイトとヴェスパよりは高くしようぐらいの気持ち
	RETURN 50
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	;比較：デッドリーバーンが消費40　状態異常率だけ跳ね上げたので1.1倍
	RETURN 44
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	;比較：ツインクルネビュラが消費50　単一属性になったのでこんなもんでは
	RETURN 45
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	;比較：旋回速弾が消費48　威力低下＋発動遅延と複合相性でトントンに
	RETURN 48
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	;比較：玉砕破が消費10　超時間差自爆なのでコストはそこまで重要じゃないと思う……？
	RETURN 10
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	;比較：ニブルヘイムが消費42　限界突破型魔法効果低下という裏技を使ったので1.3倍に
	RETURN 54
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	;比較：八艘跳びが消費50　向こうと違って最大5ヒットなのでトントンに
	RETURN 50
ELSE
	RETURN 1
ENDIF

;　상성
@SKILL_TYPE_ＳＰスキル, ARG
#LOCALSSIZE 3
#LOCALSIZE 4
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	IF FLAG:확산플래그 == 1
		SIF ARG < 0 || 스킬속성표시중
			RETURN GET_TYPE_NUM("화염")
		SIF CFLAG:ARG:타겟 > 16 || CFLAG:ARG:타겟 < 1
			RETURN GET_TYPE_NUM("화염")
		LOCAL = POS(CFLAG:ARG:타겟)
		SIF LOCAL < 0
			RETURN GET_TYPE_NUM("화염")
		LOCAL:2 = -1000
		LOCALS = 화염
		LOCALS:1 = 화염
		LOCALS:2 = 질풍
		FOR LOCAL:1, 1, 3
			;判定用に数値を仕舞う。反射は-200扱い
			LOCAL:3 = MAXBASE:LOCAL:(LOCALS:(LOCAL:1)) == 999 ? -200 # MAXBASE:LOCAL:(LOCALS:(LOCAL:1))
			LOCAL:3 = !(HAVE_SKILL(ARG, [[스킬:영세라이도우]]) || HAVE_SKILL(ARG, 2947)) && CFLAG:LOCAL:(LOCALS:(LOCAL:1)+"무효화횟수") ? -5 # LOCAL:3
			LOCAL:3 = CFLAG:LOCAL:(LOCALS:(LOCAL:1)+"가드킬") && LOCAL:3 < 100 ? 100 # LOCAL:3
			IF LOCAL:3 > LOCAL:2
				LOCAL:2 = LOCAL:3
				LOCALS = %LOCALS:(LOCAL:1)%
			ENDIF
		NEXT
		RETURN GET_TYPE_NUM(LOCALS)
	ELSE
		RETURN GET_TYPE_NUM("화염")
	ENDIF
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN GET_TYPE_NUM("화염")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	IF FLAG:확산플래그 == 1
		RETURN GET_TYPE_NUM("질풍")
	ELSE
		RETURN GET_TYPE_NUM("비구")
	ENDIF
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	SIF ARG < 0 || 스킬속성표시중
		RETURN GET_TYPE_NUM("핵열")
	SIF CFLAG:ARG:타겟 > 16 || CFLAG:ARG:타겟 < 1
		RETURN GET_TYPE_NUM("핵열")
	LOCAL = POS(CFLAG:ARG:타겟)
	SIF LOCAL < 0
		RETURN GET_TYPE_NUM("핵열")
	LOCAL:2 = -1000
	LOCALS = 핵열
	LOCALS:1 = 핵열
	LOCALS:2 = 비구
	FOR LOCAL:1, 1, 3
		;判定用に数値を仕舞う。反射は-200扱い
		LOCAL:3 = MAXBASE:LOCAL:(LOCALS:(LOCAL:1)) == 999 ? -200 # MAXBASE:LOCAL:(LOCALS:(LOCAL:1))
		LOCAL:3 = !(HAVE_SKILL(ARG, [[스킬:영세라이도우]]) || HAVE_SKILL(ARG, 2947)) && CFLAG:LOCAL:(LOCALS:(LOCAL:1)+"무효화횟수") ? -5 # LOCAL:3
		LOCAL:3 = CFLAG:LOCAL:(LOCALS:(LOCAL:1)+"가드킬") && LOCAL:3 < 100 ? 100 # LOCAL:3
		IF LOCAL:3 > LOCAL:2
			LOCAL:2 = LOCAL:3
			LOCALS = %LOCALS:(LOCAL:1)%
		ENDIF
	NEXT
	RETURN GET_TYPE_NUM(LOCALS)
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	RETURN GET_TYPE_NUM("만능")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN GET_TYPE_NUM("빙결")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	RETURN GET_TYPE_NUM("검격")
ELSE
	RETURN 0
ENDIF

;　1 EXTRA　2 MAGIC
@SKILL_DECIDE_TYPE_ＳＰスキル, ARG
RETURN 1

;　1 물리데미지로 계산　2 마법데미지로 계산
@SKILL_DAMAGETYPE_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	RETURN 2
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN 2
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	RETURN 1
ELSE
	RETURN 1
ENDIF

;　대상　1 적　2 아군　3 양쪽전체　4 특수
@SKILL_TARGET_ＳＰスキル, ARG
RETURN 1

;　사거리
@SKILL_RANGE_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	RETURN 3
ELSE
	RETURN 1
ENDIF

;　범위　1 1체　2 1열　3 전체　4 적아군전체
@SKILL_SPHERE_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	RETURN 3
ELSE
	RETURN 1
ENDIF

;　 효과타입　1 공격、2 회복、3 상태변화、4 특수、5 상태회복
@SKILL_EFECT_ＳＰスキル, ARG
RETURN 1

;속도보정
@SKILL_SPEED_ＳＰスキル, ARG = -1
IF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	RETURN -10
ELSE
	RETURN 0
ENDIF

;전투시 이외에 사용 가능한가
@SKILL_ACTIONABLE_FIELD_ＳＰスキル, ARG = -1
RETURN 0

;템플릿용、추가효과 시리즈
;추가효과 스테이터스
@SKILL_ADDTIONAL_STATE_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN GET_STATE_NUM("FLAME")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN GET_STATE_NUM("FLAME")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN GET_STATE_NUM("FREEZE")
ELSE
	RETURN 0
ENDIF

;추가효과 상성
@SKILL_ADDTIONAL_TYPE_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN GET_TYPE_NUM("화염")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN GET_TYPE_NUM("화염")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN GET_TYPE_NUM("빙결")
ELSE
	RETURN 0
ENDIF

;추가효과 기본부여확률
@SKILL_ADDTIONAL_BASE_RATE_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 40
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 40
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	;どうせ連発できないし1ターンで解除されるし……
	RETURN 80
ELSE
	RETURN 0
ENDIF

;추가효과 부여확률상한
@SKILL_ADDTIONAL_MAX_RATE_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	RETURN 95
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	RETURN 95
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	RETURN 95
ELSE
	RETURN 0
ENDIF

;====================================================
;トリガー発動条件
;====================================================
@SKILL_TRIGGER_ACTIONABLE_ＳＰスキル, ARG, ARG:1
#DIM SKILL_NUM
SKILL_NUM = PU_SKILLNUM_GET(ARG, "ＳＰスキル")
SIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]]) && SKILLGAGE_H_GET(ARG, SKILL_NUM) && SKILLGAGE_D_GET(ARG, SKILL_NUM) == 0
	RETURN 1
RETURN 0

;====================================================
;行動によるスキルゲージ操作
;====================================================
@SKILLGAGE_CHARGE_ＳＰスキル, ARG, ARG:1
#DIM SKILL_NUM
SKILL_NUM = PU_SKILLNUM_GET(ARG, "ＳＰスキル")
IF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]]) && SKILLGAGE_H_GET(ARG, SKILL_NUM) && BASE:ARG:ＨＰ < 1
	;死んだら
	IF BASE:ARG:ＨＰ < 1
		CALL SKILLGAGE_D_SET, ARG, SKILL_NUM ,0
		CALL SKILLGAGE_H_SET, ARG, SKILL_NUM ,0
	ENDIF
ENDIF

;====================================================
;스킬 및 행동의 실행
;====================================================
@ACTION_ＳＰスキル, ARG, ARG:1, SKILL_NUM
#LOCALSIZE 3
#DIM SKILL_NUM
#DIM ターゲット配列,17

IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	IF CFLAG:ARG:포지션 < 7
		LOCAL:1 = 7
		LOCAL:2 = 17
	ELSE
		LOCAL:1 = 1
		LOCAL:2 = 7
	ENDIF
	FLAG:확산플래그 = 0
	FOR LOCAL, LOCAL:1, LOCAL:2
		LOCALS = 포지션{LOCAL}
		SIF FLAG:LOCALS < 0
			CONTINUE
		SIF GET_STATE(CFLAG:(FLAG:LOCALS):상태이상) == "DYING"
			CONTINUE
		;中央にいたら
		SELECTCASE LOCAL
		CASE 2, 5, 8, 9, 10, 13, 14, 15
			FLAG:확산플래그 = 1
			CFLAG:ARG:타겟 = LOCAL
			CALL SKILL_TYPE_ＳＰスキル, ARG
			PRINT 相性判定：
			SELECTCASE RESULT
				CASE 4
					PRINT 火炎
				CASE 14
					PRINT 疾風
			ENDSELECT
			PRINTL ！
		CASEELSE
		ENDSELECT
		CALL ATTACK_SINGLE, ARG, FLAG:LOCALS, SKILL_NUM
	NEXT
	FLAG:확산플래그 = 0
	CFLAG:ARG:타겟 = CFLAG:ARG:포지션 < 7 ? 22 # 19
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	CALL ATTACK_FIELD, ARG, ARG:1, SKILL_NUM
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	IF CFLAG:ARG:포지션 < 7
		LOCAL:1 = 7
		LOCAL:2 = 17 
	ELSE
		LOCAL:1 = 1
		LOCAL:2 = 7
	ENDIF
	FLAG:확산플래그 = 0
	FOR LOCAL, LOCAL:1, LOCAL:2
		LOCALS = 포지션{LOCAL}
		SIF FLAG:LOCALS < 0
			CONTINUE
		SIF GET_STATE(CFLAG:(FLAG:LOCALS):상태이상) == "DYING"
			CONTINUE
		;中央にいたら
		SELECTCASE LOCAL
		CASE 2, 5, 8, 9, 10, 13, 14, 15
			FLAG:확산플래그 = 1
		CASEELSE
		ENDSELECT
		CALL ATTACK_SINGLE, ARG, FLAG:LOCALS, SKILL_NUM
	NEXT
	FLAG:확산플래그 = 0
	CFLAG:ARG:타겟 = CFLAG:ARG:포지션 < 7 ? 22 # 19
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	IF FLAG:카운터중
		PRINTFORMW カウントが０になった！　爆弾が起爆する！
		IF CFLAG:ARG:포지션 < 7
			;22は敵全体を指す
			CALL ATTACK_FIELD, ARG, 22, SKILL_NUM
		ELSE
			;19は味方全体を指す
			CALL ATTACK_FIELD, ARG, 19, SKILL_NUM
		ENDIF
		SIF CFLAG:ARG:상태이상 < GET_STATE_NUM("DYING")
			CALL VAR_HP, ARG, -BASE:ARG:ＨＰ, 0
	ELSE
		PRINTFORMW %CALLNAME:ARG%は周囲に爆弾を設置した！　５ターン後に起爆する！
		CALL SKILLGAGE_H_SET, ARG, SKILL_NUM ,1
	ENDIF
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	IF CFLAG:ARG:포지션 < 7
		LOCAL:1 = 7
		LOCAL:2 = 17 
	ELSE
		LOCAL:1 = 1
		LOCAL:2 = 7
	ENDIF
	FOR LOCAL, LOCAL:1, LOCAL:2
		LOCALS = 포지션{LOCAL}
		SIF FLAG:LOCALS < 0
			CONTINUE
		SIF GET_STATE(CFLAG:(FLAG:LOCALS):상태이상) == "DYING"
			CONTINUE
		CFLAG:ARG:타겟 = LOCAL
		CALL SKILL_TYPE_ＳＰスキル, ARG
		PRINT 相性判定：
		SELECTCASE RESULT
			CASE 1
				PRINT 飛具
			CASE 16
				PRINT 核熱
		ENDSELECT
		PRINTL ！
		CALL ATTACK_SINGLE, ARG, FLAG:LOCALS, SKILL_NUM
	NEXT
	CFLAG:ARG:타겟 = CFLAG:ARG:포지션 < 7 ? 22 # 19
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	VARSET ターゲット配列, -1
	;流石に味方側で使う時は条件をつける。いずれな
	IF CFLAG:ARG:포지션 < 7
		LOCAL:1 = 7
		LOCAL:2 = 17 
	ELSE
		LOCAL:1 = 1
		LOCAL:2 = 7
	ENDIF
	FOR LOCAL, LOCAL:1, LOCAL:2
		LOCALS = 포지션{LOCAL}
		SIF FLAG:LOCALS < 0
			CONTINUE
		ターゲット配列:LOCAL = FLAG:LOCALS
		CFLAG:(ターゲット配列:LOCAL):BS부착률강화 =MIN(4, CFLAG:(ターゲット配列:LOCAL):BS부착률강화 + 4)
		;一時的に下限だろうと超える
		CFLAG:(ターゲット配列:LOCAL):마법효과강화 = CFLAG:(ターゲット配列:LOCAL):마법효과강화 - 4
	NEXT
	CALL ATTACK_FIELD, ARG, ARG:1, SKILL_NUM
	FOR LOCAL, LOCAL:1, LOCAL:2
		;攻撃前にいたやつはそのポジションの添え字にキャラ番号が入っている、それ以外は-1
		SIF ターゲット配列:LOCAL < 0
			CONTINUE
		;下げた分を元に戻す。こうすれば死んでCOMPに戻った奴も戻せるはず
		CFLAG:(ターゲット配列:LOCAL):마법효과강화 = CFLAG:(ターゲット配列:LOCAL):마법효과강화 + 4
	NEXT
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	CALL ATTACK_RAND, ARG, ARG:1, SKILL_NUM
ENDIF

CALL SKILLGAGE_D_SET, ARG, SKILL_NUM ,5
;====================================================
;실행내용 여기까지
;====================================================

;====================================================
;戦闘中スキルゲージの可視化
;====================================================
@SKILLGAGE_DISPLAY_ＳＰスキル, ARG
#DIM SKILL_NUM
#DIM 猶予
SKILL_NUM = PU_SKILLNUM_GET(ARG, "ＳＰスキル")
IF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]]) && SKILLGAGE_H_GET(ARG, SKILL_NUM)
	猶予 = SKILLGAGE_D_GET(ARG, SKILL_NUM)
	PRINTFORML 폭파까지 앞으로 {猶予}턴 남았습니다
ENDIF

;　説明文の表示
@SKILL_EXPLAIN_ＳＰスキル, ARG
IF SKILL_CHANGE(ARG, [[キャラ:입실론(X2)]])
	PRINTFORML 中央に巨大な火炎旋風、両脇に火の粉を飛び散らせる%CALLNAME:ARG%のＳＰスキル。
	;オリジナルです
	PRINTL 悪辣なる背徳者へ下す裁き。罪過に相応しき罰として烈火の雨が降り注ぐ。
	PRINTL 　
	PRINTL 敵全体に中央のポジションには火炎と疾風の複合、それ以外には火炎相性で大ダメージを与え、高確率で炎上を付与する。
	PRINTL 한 번 사용하면、재사용까지 ５턴의 쿨타임을 필요로 한다。
ELSEIF SKILL_CHANGE(ARG, [[キャラ:데이사이트(X2)]])
	PRINTFORML 両腕に火砲を装着し、圧倒的な火力で薙ぎ払う%CALLNAME:ARG%のＳＰスキル。
	;発表してすぐの頃に公開していた没詠唱をパクった
	PRINTL 内で燃え上がる炎は、燻る地獄の業火のように静かに荒れ狂い、全てを焼き尽くす。
	PRINTL 　
	PRINTL 敵全体に火炎属性で大ダメージを与え、高確率で炎上を付与する。
	PRINTL 한 번 사용하면、재사용까지 ５턴의 쿨타임을 필요로 한다。
ELSEIF SKILL_CHANGE(ARG, [[キャラ:베스파(X2)]])
	PRINTFORML 中央に巨大な竜巻、両脇に爆弾を投下する%CALLNAME:ARG%のＳＰスキル。
	;発表してすぐの頃に公開していた没詠唱をパクった
	PRINTL 高貴なる嵐に抱かれ、乙女は天を見上げる。地上に降り注ぐのはミサイルの豪雨。
	PRINTL 　
	PRINTL 敵全体に中央のポジションには疾風、それ以外には飛具相性で大ダメージを与える。命中が高い。
	PRINTL 한 번 사용하면、재사용까지 ５턴의 쿨타임을 필요로 한다。
ELSEIF SKILL_CHANGE(ARG, [[キャラ:오토크롬(X2)]])
	PRINTFORML 限界までチャージしたエネルギーを発射する%CALLNAME:ARG%のＳＰスキル。
	;オリジナルです
	PRINTL 煌めく光の柱。それらは空より降り注ぎ、悪しき侵入者を破壊する。
	PRINTL 　
	PRINTL 敵全体に飛具と核熱の複合相性で大ダメージを与える。発動が遅い。
	PRINTL 한 번 사용하면、재사용까지 ５턴의 쿨타임을 필요로 한다。
ELSEIF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	PRINTFORML 周囲に爆弾を設置し、盛大な自爆を敢行する%CALLNAME:ARG%のＳＰスキル。
	;オリジナルです
	PRINTL 起爆シーケンスを起動し、カウントダウンを始める。死なば諸共！
	PRINTL 　
	PRINTL 敵全体に万能相性で特大ダメージを与える。
	PRINTL ただし実行まで５ターンが必要であり、使用後自分は死亡する。
	PRINTL %CALLNAME:ARG%が死亡するとカウントダウンは停止し、起爆シーケンスはリセットされる。
ELSEIF SKILL_CHANGE(ARG, [[キャラ:헤일(X2)]])
	PRINTFORML 自分以外の時間を停滞させながら、相手を凍結させる%CALLNAME:ARG%のＳＰスキル。
	;オリジナルです
	PRINTL 絶対零度を超えて時間すら凍らせる冷気で包み、世界を眠りに誘う。
	PRINTL 　
	PRINTL 敵全体に氷結相性で大ダメージを与える。高確率で凍結を付与する。
	PRINTL 한 번 사용하면、재사용까지 ５턴의 쿨타임을 필요로 한다。
ELSEIF SKILL_CHANGE(ARG, [[キャラ:슬러그(X2)]])
	PRINTFORML 搭載する全ブーメランを自在に操縦し、敵を切り刻む%CALLNAME:ARG%のＳＰスキル。
	;オリジナルです
	PRINTL 九つの刃が戦場を駆け抜ける。それらは躊躇なく、慈悲もなく、敵を直ちに両断する。
	PRINTL 　
	PRINTL 敵複数体に剣撃相性で９回小ダメージを与える。
	PRINTL 한 번 사용하면、재사용까지 ５턴의 쿨타임을 필요로 한다。
ELSE
	PRINTFORML ！ＥＲＲＯＲ！対象外のキャラクターに習得しています。
	PRINTFORML 選択しても何も実行されません。
ENDIF

;사용조건
@SKILL_SPECIAL_ACTIONABLE_ＳＰスキル, ARG
#DIM SKILL_NUM
SKILL_NUM = PU_SKILLNUM_GET(ARG, "ＳＰスキル")
IF SKILL_CHANGE(ARG, [[キャラ:브리게이드(X2)]])
	SIF SKILLGAGE_D_GET(ARG, SKILL_NUM)
		RETURN 0
	SIF SKILLGAGE_H_GET(ARG, SKILL_NUM)
		RETURN 0
	RETURN 1
ELSE
	SIF SKILLGAGE_D_GET(ARG, SKILL_NUM)
		RETURN 0
	RETURN 1
ENDIF

