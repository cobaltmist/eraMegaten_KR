;스킬名　스펠카드『귀형수』。鬼形짐승キャラ습득用スペルカード素体。

@SKILL_NAME_2801,ARG
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
	RESULTS = 경질기「머슬 익스플로전」
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
	RESULTS = 선형「리니어 크리처」
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	RESULTS = 하니와「텅 빈 무진장 군단」
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RESULTS = 귀부「귀갑지옥」
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
SIF MAXBASE:ARG:ＨＰ / BASE:ARG:ＨＰ >= 2
	RESULTS = 혈전「전령 오니와타리」
	RESULTS = 귀부「오니와타리 시련」
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
	RESULTS = 석부「스톤 베이비」
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RESULTS = 석부「칠드런즈 림보」
ELSE
	RESULTS = 스펠카드『귀형수』
ENDIF

;　명중
@SKILL_HITRATE_2801, ARG
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
	RETURN 150
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
	RETURN 100
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	RETURN 100
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN 130
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN 100
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
	RETURN 85
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN 120
ELSE
	RETURN 100
ENDIF

;　威힘
@SKILL_POWER_2801, ARG
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
	RETURN 300
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
	RETURN 300
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	RETURN 150
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN 300
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
SIF MAXBASE:ARG:ＨＰ / BASE:ARG:ＨＰ >= 2
	RETURN 400
	RETURN 240
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
	RETURN 300
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN 240
ELSE
	RETURN 300
ENDIF

;　최저공격횟수
@SKILL_MINATTACKNUMBER_2801,ARG
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	RETURN 2
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN 1
ELSE
	RETURN 1
ENDIF

;　최대공격횟수
@SKILL_MAXATTACKNUMBER_2801,ARG
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
	RETURN 1
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN 1
ELSE
	RETURN 1
ENDIF

;　ＨＰ2を支払うかＭＰ3を支払うか
@SKILL_COSTTYPE_2801, ARG
RETURN 3
;소비なし＝1

;　コストの量
@SKILL_COST_2801,ARG
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
	RETURN 40
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
	RETURN 50
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	RETURN 30
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN 30
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN 25
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
	RETURN 30
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN 20
ELSE
	RETURN 20
ENDIF


;　相性
@SKILL_TYPE_2801,ARG
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
	RETURN GET_TYPE_NUM("충격")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
	RETURN GET_TYPE_NUM("만능")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	SIF CFLAG:ARG:집중플래그 == 1
		RETURN GET_TYPE_NUM("만능")
	RETURN GET_TYPE_NUM("전술")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN GET_TYPE_NUM("화염")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN GET_TYPE_NUM("비구")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
	RETURN GET_TYPE_NUM("중력")
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN GET_TYPE_NUM("수격")
ELSE
	RETURN GET_TYPE_NUM("검격")
ENDIF

;　1EXTRAか2MAGICか
@SKILL_DECIDE_TYPE_2801, ARG
	RETURN 1

;　1物理데미지で計算するか2魔法데미지で計算するか
@SKILL_DAMAGETYPE_2801, ARG
IF (U > 0 && U < CHARANUM && NO:U == [[キャラ:사키(TH)]]) || ((FLAG:行動順1) > 0 && NO:(FLAG:行動順1) == [[キャラ:사키(TH)]])
	RETURN 1;物理
ELSEIF (U > 0 && U < CHARANUM && NO:U == [[キャラ:마유미]]) || ((FLAG:行動順1) > 0 && NO:(FLAG:行動順1) == [[キャラ:마유미]])
	RETURN 1;物理
ELSE
	RETURN 2;魔法
ENDIF

;사키、마유미は物理　他魔法


;　대상が1적か2아군か3場전체か4特殊か
@SKILL_TARGET_2801
	RETURN 1
;今回は全部적공격

;사거리　1:S 2:M 3:L
@SKILL_RANGE_2801,ARG
	RETURN 3

;　範囲　11체　21열　3전체　4　적아군전체
@SKILL_SPHERE_2801,ARG
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
	RETURN 2
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	RETURN 2
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN 3
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
	RETURN 2
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN 2
ELSE
	RETURN 2
ENDIF

@SKILL_CRITICAL_RATE_2801, ARG
RETURN 20


;　 効果の타입　1공격、2회복、3상태変化、4特殊、5상태회복
@SKILL_EFECT_2801
RETURN 1

;　 特殊処理の有無、及び処理内容
@SKILL_SPECIALEFECT_2801,ARG
;ARG = 1だった場合は処理の有無を返します
SIF ARG == 1
	RETURN 0
;以下に特殊な処理を記述します

;계승타입
@SKILL_SUCCESSION_TYPE_2801
RETURN 0
;검격

;속도보정
@SKILL_SPEED_2801, ARG = -1
RETURN 0

;　구상の표시とその타입
@SKILL_MESSAGE_2801,ARG


;전투時以外に사용できるか
@SKILL_ACTIONABLE_FIELD_2801
RETURN 0

;テンプレート用、추가효과シリーズ
;추가효과스테이터스
@SKILL_ADDTIONAL_STATE_2801,ARG
SIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN GET_STATE_NUM("BIND")
SIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN GET_STATE_NUM("PANIC")
SIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN GET_STATE_NUM("POISON")
RETURN 0

;추가효과상성
@SKILL_ADDTIONAL_TYPE_2801,ARG
SIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
		RETURN GET_TYPE_NUM("신경")
SIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
		RETURN GET_TYPE_NUM("정신")
SIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
		RETURN GET_TYPE_NUM("신경")
RETURN 0

;추가효과기본부여확률
@SKILL_ADDTIONAL_BASE_RATE_2801,ARG
SIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN 40
SIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN 35
SIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN 50
RETURN 0

;추가효과부여확률上限
@SKILL_ADDTIONAL_MAX_RATE_2801,ARG
SIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	RETURN 95
SIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	RETURN 95
SIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	RETURN 95
RETURN 0

;====================================================
;스킬及び行動の実行
;====================================================
@ACTION_2801,ARG,ARG:1
#LOCALSIZE 5
IF SKILL_CHANGE(ARG, [[キャラ:사키(TH)]])
CFLAG:ARG:공격강화 = MIN(32, CFLAG:ARG:공격강화 + 4)
CFLAG:ARG:방어강화 = MIN(32, CFLAG:ARG:방어강화 + 4)
CFLAG:ARG:마법위력강화 = MIN(32, CFLAG:ARG:마법위력강화 - 8)
PRINTFORMW 마법위력이 크게 떨어지는 대신、공격력・방어력이 올라갔다！
CALL ATTACK_FIELD,ARG,ARG:1,2801
ELSEIF SKILL_CHANGE(ARG, [[キャラ:케이키]])
SELECTCASE ARG:1
	CASE 17
		LOCAL:1 = 1
		LOCAL:2 = 4
	CASE 18
		LOCAL:1 = 4
		LOCAL:2 = 7
	CASE 20
		LOCAL:1 = 7
		LOCAL:2 = 12
	CASE 21
		LOCAL:1 = 12
		LOCAL:2 = 17
ENDSELECT
LOCAL:4 = 0
FOR LOCAL, LOCAL:1, LOCAL:2
	SIF POS(LOCAL) < 0
		CONTINUE
	SIF GET_STATE(CFLAG:POS(LOCAL):ステート) == "DYING"
		CONTINUE
	LOCAL:4 = 1
	CFLAG:ARG:타겟 = LOCAL
	LOCAL:3 = BASE:POS(LOCAL):ＨＰ
	CALL ATTACK_SINGLE, ARG, POS(LOCAL), 2067, 1
	IF POS(LOCAL) > 0 && LOCAL:3 > BASE:POS(LOCAL):ＨＰ && GET_STATE(CFLAG:POS(LOCAL):ステート) != "DYING"
		PRINTFORML 　　TARGET:[{LOCAL,2}] %CALLNAME:POS(LOCAL),20,LEFT%　>>>>>>　방어력이 크게 내려갔다！
		CFLAG:POS(LOCAL):방어강화 = MAX(-16, CFLAG:POS(LOCAL):방어강화 - 8)
	ENDIF
NEXT
ELSEIF SKILL_CHANGE(ARG, [[キャラ:마유미]])
	CALL ATTACK_FIELD,ARG,ARG:1,2801
ELSEIF SKILL_CHANGE(ARG, [[キャラ:야치에]])
	CALL ATTACK_FIELD,ARG,ARG:1,2801
ELSEIF SKILL_CHANGE(ARG, [[キャラ:쿠타카]])
	CALL ATTACK_FIELD,ARG,ARG:1,2801
ELSEIF SKILL_CHANGE(ARG, [[キャラ:우루미]])
SELECTCASE ARG:1
	CASE 17
		LOCAL:1 = 1
		LOCAL:2 = 4
	CASE 18
		LOCAL:1 = 4
		LOCAL:2 = 7
	CASE 20
		LOCAL:1 = 7
		LOCAL:2 = 12
	CASE 21
		LOCAL:1 = 12
		LOCAL:2 = 17
ENDSELECT
LOCAL:4 = 0
FOR LOCAL, LOCAL:1, LOCAL:2
	SIF POS(LOCAL) < 0
		CONTINUE
	SIF GET_STATE(CFLAG:POS(LOCAL):ステート) == "DYING"
		CONTINUE
	LOCAL:4 = 1
	CFLAG:ARG:타겟 = LOCAL
	LOCAL:3 = BASE:POS(LOCAL):ＨＰ
	CALL ATTACK_SINGLE, ARG, POS(LOCAL), 2067, 1
	IF POS(LOCAL) > 0 && LOCAL:3 > BASE:POS(LOCAL):ＨＰ && GET_STATE(CFLAG:POS(LOCAL):ステート) != "DYING"
		PRINTFORML 　　TARGET:[{LOCAL,2}] %CALLNAME:POS(LOCAL),20,LEFT%　>>>>>>　회피율이 내려갔다！
		CFLAG:POS(LOCAL):회피강화 = MAX(-16, CFLAG:POS(LOCAL):회피강화 - 4)
	ENDIF
NEXT
ELSEIF SKILL_CHANGE(ARG, [[キャラ:에이카]])
	CALL ATTACK_FIELD,ARG,ARG:1,2801
ELSE
	CALL ATTACK_FIELD,ARG,ARG:1,2801
ENDIF






;====================================================
;実行内容ここまで
;====================================================

;　 説明文の표시
@SKILL_EXPLAIN_2801
IF U > 0 && U < CHARANUM && NO:U == [[キャラ:사키(TH)]]
	PRINTL 적 전체에 충격속성으로 대위력의 물리공격을 1회 실시한다。
	PRINTL 추가효과：고명중、공격 전에 자신의 공격력・방어력을 상승、마법위력 2단계 하락。
	PRINTL 사용할 수혹 마음대로 흥분하고 강화되는、모든 적을 위압하는 근육의 빛으로 공격한다。
	PRINTL 천마　쿠로코마 사키의 스펠카드（전용）
ELSEIF U > 0 && U < CHARANUM && NO:U == [[キャラ:케이키]]
	PRINTL 적 1열에 만능속성으로 대위력의 마법공격을 1회 실시한다。
	PRINTL 추가효과：방어력 2단계 저하
	PRINTL 무수한 선형상의 공격을 발사해、상대의 방어력을 파괴하고 새롭게 만든다。
	PRINTL 조형신　하니야스신 케이키의 스펠카드（전용）
ELSEIF U > 0 && U < CHARANUM && NO:U == [[キャラ:마유미]]
	PRINTL 적 1열에 전술속성으로 소위력의 물리공격을 2~3회 실시한다。
	PRINTL 추가효과：컨센트레이트 시 만능 속성화。
	PRINTL 하니와 병단을 지휘하여 적을 공격한다。집중으로 보다 공격의 연도가 높아져、빈틈을 적확하게 때린다。
	PRINTL 병장　조토구 마유미의 스펠카드（전용）
ELSEIF U > 0 && U < CHARANUM && NO:U == [[キャラ:야치에]]
	PRINTL 적 전체에 화염속성으로 대위력의 마법공격을 1회 실시한다。
	PRINTL 추가효과：고명중。신경속성 구속（고확률）
	PRINTL 귀갑문으로 도망갈 곳을 막고 집요하게 표적을 쫓아다니는 화염탄을 쏜다。
	PRINTL 용왕　킷쵸 야치에의 스펠카드（전용）
ELSEIF U > 0 && U < CHARANUM && NO:U == [[キャラ:쿠타카]]
	PRINTL 적 전체에 비구속성으로 중위력의 마법공격을 1회 실시한다。
	PRINTL 추가효과：정신속성 혼란。HP 잔량 절반 이하시 위력 증가。
	PRINTL 령의 무리를 쏘아、다각도에서 저격한다。상처를 입으면 령 자체도 추적 공격을 시작한다。
	PRINTL 신조 　니와타리 쿠타카의 스펠카드（전용）
ELSEIF U > 0 && U < CHARANUM && NO:U == [[キャラ:우루미]]
	PRINTL 적 1열에 중력속성으로 대위력의 마법공격을 1회 실시한다。
	PRINTL 추가효과：저명중、회피율저하。
	PRINTL 너무나 무거운 아기 석상을 던져 공격한다。건네주지 않는다는 것은、맞으면 아프다。
	PRINTL 규키　우시자키 우루미의 스펠카드（전용）
ELSEIF U > 0 && U < CHARANUM && NO:U == [[キャラ:에이카]]
	PRINTL 적 1열에 수격속성으로 중위력의 마법공격을 1회 실시한다。
	PRINTL 추가효과：신경속성 독（고확률）
	PRINTL 그년들의 왕국으로부터 따라왔을 것인 미즈코의 령들에 의한 영장공격。
	PRINTL 미즈코의령　에비스 에이카의 스펠카드（전용）
ELSE
	PRINTL 축생계와 관련된 환상소녀들이 가지고 있는 스펠카드의 소체。
	PRINTL 본인들이 취득하면 각각의 특수기를 사용할 수 있게 된다。
	PRINTL 만약 적합하지 않은 자가 사용할 경우、검격마법이 된다。
ENDIF

;스킬変化？用랭크
@SKILL_RANK_2801
RETURN 17

@SKILL_RANKUP_2801
RETURN 0

@継承不能_2801
RETURN 1


;사용조건
@SKILL_SPECIAL_ACTIONABLE_2801,ARG
RETURN 1
;とくにない

