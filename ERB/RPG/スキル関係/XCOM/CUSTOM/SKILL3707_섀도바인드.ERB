;XCOM2 WOTC 스팩터의 기술

;스킬명
@SKILL_NAME_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RESULTS = 섀도바인드

;　명중
@SKILL_HITRATE_3707, ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 9999

;　위력
@SKILL_POWER_3707, ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 0

;　최저공격횟수
@SKILL_MINATTACKNUMBER_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1

;　최대공격횟수
@SKILL_MAXATTACKNUMBER_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1

;　ＨＰ를 소모하면 2 ＭＰ를 소모하면 3
@SKILL_COSTTYPE_3707, ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1
;소모없음＝1

;　비용의 양
@SKILL_COST_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 0

;　상성
@SKILL_TYPE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 17
;만능

;계승불능
@継承不能_3707
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1

;　EXTRA면 1, MAGIC이면 2
@SKILL_DECIDE_TYPE_3707, ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1
;EXTRA. 근접계 특수기

;　물리 타격 판정 1 마법 타격 판정2
@SKILL_DAMAGETYPE_3707, ARG
RETURN 1

;　공격대상 : 1적 2아군 3 전체 4특수
@SKILL_TARGET_3707
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1

;　사거리
@SKILL_RANGE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1

;　범위　1 1체　2 1열　3 전체　4 적아군전체
@SKILL_SPHERE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1

;　 효과타입　1공격、2회복、3상태변화、4특수、5상태회복
@SKILL_EFECT_3707
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 3

;　 特殊処理の有無、及び処理内容
@SKILL_SPECIALEFECT_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
;ARG = 1だった場合は処理の有無を返します
SIF ARG == 1
	RETURN 0
;以下に特殊な処理を記述します

;계승타입
@SKILL_SUCCESSION_TYPE_3707
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 20
;만능

;속도보정
@SKILL_SPEED_3707, ARG = -1
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN -20000

;　구상의 표시와 그 타입
@SKILL_MESSAGE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2

;전투시 이외에 사용 가능한가
@SKILL_ACTIONABLE_FIELD_3707
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 0

;스킬변화？用랭크
@SKILL_RANK_3707
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 0

;テン플레이트用、추가효과シリーズ
;추가효과스테이터스
@SKILL_ADDTIONAL_STATE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 0

;추가효과상성
@SKILL_ADDTIONAL_TYPE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 0
;만능

;추가효과기본부여확률
@SKILL_ADDTIONAL_BASE_RATE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 0

;추가효과부여확률上限
@SKILL_ADDTIONAL_MAX_RATE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 0

;====================================================
;스킬及び行動の実行
;====================================================
@ACTION_3707,ARG,ARG:1
#LOCALSIZE 2
#LOCALSSIZE 2
LOCAL = POS(ARG:1)
LOCALS = 포지션{ARG:1}

;すでに倒しているなら飛ばす
SIF LOCAL < 0
	RETURN 0
SIF GET_STATE(CFLAG:(FLAG:LOCALS):ステート) == "DYING"
	RETURN 0

;만약 방어중일때?
IF CFLAG:LOCAL:방어플래그
	CFLAG:LOCAL:방어플래그 = 0
PRINTFORM 　　TARGET:[{LOCAL,2}] %CALLNAME:LOCAL,20,LEFT%　>>>>>>　
	PRINTFORML DYING
	CALL DEAD_CHARA, LOCAL
PRINTFORM 스팩터의 그림자가 나타났다!

CALL INCREASE_ANALYZE([[キャラ:스팩터그림자]],1000)

;희생자를 대신해 즉시 스팩터그림자 등장
CALL SET_ENEMY,8,[[キャラ:스팩터그림자]],BASE:LOCAL:LV,0,0
BASE:(CHARANUM-1):힘 = BASE:LOCAL:힘
BASE:(CHARANUM-1):인내력 = BASE:LOCAL:인내력
BASE:(CHARANUM-1):속도 = BASE:LOCAL:속도
BASE:(CHARANUM-1):지혜 = BASE:LOCAL:지혜
BASE:(CHARANUM-1):마력 = BASE:LOCAL:마력
BASE:(CHARANUM-1):운 = BASE:LOCAL:운
CALL SYNC_STATUS,(CHARANUM-1)

ABL:(CHARANUM-1):스킬1 = ABL:LOCAL:장비스킬1
ABL:(CHARANUM-1):스킬2 = ABL:LOCAL:장비스킬2
ABL:(CHARANUM-1):스킬3 = ABL:LOCAL:장비스킬3
ABL:(CHARANUM-1):스킬4 = ABL:LOCAL:장비스킬4
ABL:(CHARANUM-1):스킬5 = ABL:LOCAL:장비스킬5
ABL:(CHARANUM-1):스킬6 = ABL:LOCAL:장비스킬6
ABL:(CHARANUM-1):스킬7 = ABL:LOCAL:장비스킬7
ABL:(CHARANUM-1):스킬8 = ABL:LOCAL:장비스킬8
ABL:(CHARANUM-1):스킬9 = ABL:LOCAL:장비스킬9
ABL:(CHARANUM-1):스킬10 = ABL:LOCAL:장비스킬10
ABL:(CHARANUM-1):스킬11 = ABL:LOCAL:장비스킬11
ABL:(CHARANUM-1):스킬12 = ABL:LOCAL:장비스킬12
ABL:(CHARANUM-1):장비스킬13 = ABL:LOCAL:장비스킬13
ABL:(CHARANUM-1):장비스킬14 = ABL:LOCAL:장비스킬14
ABL:(CHARANUM-1):장비스킬15 = ABL:LOCAL:장비스킬15
ABL:(CHARANUM-1):장비스킬16 = ABL:LOCAL:장비스킬16
ABL:(CHARANUM-1):장비스킬17 = ABL:LOCAL:장비스킬17
ABL:(CHARANUM-1):장비스킬18 = ABL:LOCAL:장비스킬18
ABL:(CHARANUM-1):장비스킬19 = ABL:LOCAL:장비스킬19
ABL:(CHARANUM-1):장비스킬20 = ABL:LOCAL:장비스킬20
ABL:(CHARANUM-1):장비스킬21 = ABL:LOCAL:장비스킬21

ABL:(CHARANUM-1):장비스킬1 = ABL:LOCAL:스킬1
ABL:(CHARANUM-1):장비스킬2 = ABL:LOCAL:스킬2
ABL:(CHARANUM-1):장비스킬3 = ABL:LOCAL:스킬3
ABL:(CHARANUM-1):장비스킬4 = ABL:LOCAL:스킬4
ABL:(CHARANUM-1):장비스킬5 = ABL:LOCAL:스킬5
ABL:(CHARANUM-1):장비스킬6 = ABL:LOCAL:스킬6
ABL:(CHARANUM-1):장비스킬7 = ABL:LOCAL:스킬7
ABL:(CHARANUM-1):장비스킬8 = ABL:LOCAL:스킬8
ABL:(CHARANUM-1):장비스킬9 = ABL:LOCAL:스킬9
ABL:(CHARANUM-1):장비스킬10 = ABL:LOCAL:스킬10
ABL:(CHARANUM-1):장비스킬11 = ABL:LOCAL:스킬11
ABL:(CHARANUM-1):장비스킬12 = ABL:LOCAL:스킬12

EQUIP:(CHARANUM-1):검 = EQUIP:LOCAL:검
EQUIP:(CHARANUM-1):총 = EQUIP:LOCAL:총
EQUIP:(CHARANUM-1):팔 = EQUIP:LOCAL:팔
EQUIP:(CHARANUM-1):머리 = EQUIP:LOCAL:머리
EQUIP:(CHARANUM-1):몸통 = EQUIP:LOCAL:몸통
EQUIP:(CHARANUM-1):발 = EQUIP:LOCAL:발
EQUIP:(CHARANUM-1):악세사리 = EQUIP:LOCAL:악세사리

CALL HEALTH_CHARA,(CHARANUM-1)

		IF TALENT:LOCAL:남자 == 0
			TALENT:(CHARANUM-1):남자 = 0
			SIF TALENT:LOCAL:처녀 == 1
				TALENT:(CHARANUM-1):처녀 = 1
		ENDIF
	ELSE
PRINTFORM 　　TARGET:[{LOCAL,2}] %CALLNAME:LOCAL,20,LEFT%　>>>>>>　
	PRINTFORML DYING
	CALL DEAD_CHARA, LOCAL
PRINTFORM 스팩터의 그림자가 나타났다!

;희생자를 대신해 즉시 스팩터그림자 등장
CALL SET_ENEMY,8,[[キャラ:스팩터그림자]],BASE:LOCAL:LV,0,0
BASE:(CHARANUM-1):힘 = BASE:LOCAL:힘
BASE:(CHARANUM-1):인내력 = BASE:LOCAL:인내력
BASE:(CHARANUM-1):속도 = BASE:LOCAL:속도
BASE:(CHARANUM-1):지혜 = BASE:LOCAL:지혜
BASE:(CHARANUM-1):마력 = BASE:LOCAL:마력
BASE:(CHARANUM-1):운 = BASE:LOCAL:운
CALL SYNC_STATUS,(CHARANUM-1)

ABL:(CHARANUM-1):스킬1 = ABL:LOCAL:장비스킬1
ABL:(CHARANUM-1):스킬2 = ABL:LOCAL:장비스킬2
ABL:(CHARANUM-1):스킬3 = ABL:LOCAL:장비스킬3
ABL:(CHARANUM-1):스킬4 = ABL:LOCAL:장비스킬4
ABL:(CHARANUM-1):스킬5 = ABL:LOCAL:장비스킬5
ABL:(CHARANUM-1):스킬6 = ABL:LOCAL:장비스킬6
ABL:(CHARANUM-1):스킬7 = ABL:LOCAL:장비스킬7
ABL:(CHARANUM-1):스킬8 = ABL:LOCAL:장비스킬8
ABL:(CHARANUM-1):스킬9 = ABL:LOCAL:장비스킬9
ABL:(CHARANUM-1):스킬10 = ABL:LOCAL:장비스킬10
ABL:(CHARANUM-1):스킬11 = ABL:LOCAL:장비스킬11
ABL:(CHARANUM-1):스킬12 = ABL:LOCAL:장비스킬12
ABL:(CHARANUM-1):장비스킬13 = ABL:LOCAL:장비스킬13
ABL:(CHARANUM-1):장비스킬14 = ABL:LOCAL:장비스킬14
ABL:(CHARANUM-1):장비스킬15 = ABL:LOCAL:장비스킬15
ABL:(CHARANUM-1):장비스킬16 = ABL:LOCAL:장비스킬16
ABL:(CHARANUM-1):장비스킬17 = ABL:LOCAL:장비스킬17
ABL:(CHARANUM-1):장비스킬18 = ABL:LOCAL:장비스킬18
ABL:(CHARANUM-1):장비스킬19 = ABL:LOCAL:장비스킬19
ABL:(CHARANUM-1):장비스킬20 = ABL:LOCAL:장비스킬20
ABL:(CHARANUM-1):장비스킬21 = ABL:LOCAL:장비스킬21

ABL:(CHARANUM-1):장비스킬1 = ABL:LOCAL:스킬1
ABL:(CHARANUM-1):장비스킬2 = ABL:LOCAL:스킬2
ABL:(CHARANUM-1):장비스킬3 = ABL:LOCAL:스킬3
ABL:(CHARANUM-1):장비스킬4 = ABL:LOCAL:스킬4
ABL:(CHARANUM-1):장비스킬5 = ABL:LOCAL:스킬5
ABL:(CHARANUM-1):장비스킬6 = ABL:LOCAL:스킬6
ABL:(CHARANUM-1):장비스킬7 = ABL:LOCAL:스킬7
ABL:(CHARANUM-1):장비스킬8 = ABL:LOCAL:스킬8
ABL:(CHARANUM-1):장비스킬9 = ABL:LOCAL:스킬9
ABL:(CHARANUM-1):장비스킬10 = ABL:LOCAL:스킬10
ABL:(CHARANUM-1):장비스킬11 = ABL:LOCAL:스킬11
ABL:(CHARANUM-1):장비스킬12 = ABL:LOCAL:스킬12

EQUIP:(CHARANUM-1):검 = EQUIP:LOCAL:검
EQUIP:(CHARANUM-1):총 = EQUIP:LOCAL:총
EQUIP:(CHARANUM-1):팔 = EQUIP:LOCAL:팔
EQUIP:(CHARANUM-1):머리 = EQUIP:LOCAL:머리
EQUIP:(CHARANUM-1):몸통 = EQUIP:LOCAL:몸통
EQUIP:(CHARANUM-1):발 = EQUIP:LOCAL:발
EQUIP:(CHARANUM-1):악세사리 = EQUIP:LOCAL:악세사리

CALL HEALTH_CHARA,(CHARANUM-1)

	IF TALENT:LOCAL:남자 == 0
		TALENT:(CHARANUM-1):남자 = 0
		SIF TALENT:LOCAL:처녀 == 1
			TALENT:(CHARANUM-1):처녀 = 1
	ENDIF
ENDIF
;====================================================
;実行内容ここまで
;====================================================

;　 설명文の표시
@SKILL_EXPLAIN_3707
#LOCALSIZE 2
#LOCALSSIZE 2
PRINTL 스팩터의 특수기. 적의 방어나 상성 여부 관계 없이 무조건 즉사시킨다.
PRINTL 회피 불가. 이후 희생자의 스텟 능력과 착용 장비를 그대로 복사한 카피를 전장에 소환한다.
PRINTL 사용 확률은 3%. 그러나 운을 너무 믿지 말자.

;사용조건
@SKILL_SPECIAL_ACTIONABLE_3707,ARG
#LOCALSIZE 2
#LOCALSSIZE 2
RETURN 1
;とくにない