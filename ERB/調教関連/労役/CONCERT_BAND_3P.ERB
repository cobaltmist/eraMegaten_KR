;==============================
;보컬&기타를 맡을 조건 - 3인 밴드
;==============================
@VOCAL_GUITAR_3P_CASTING(ARG)
#LOCALSIZE 2
#LOCALSSIZE 2

;뱅드림 캐릭터들의 솜씨 회수
CALL RETRIEVE_BANGDREAM_SKILL, ARG

SIF !USE_HAND(ARG) || IS_BEAST(ARG)
	RETURN 0
SIF CFLAG:ARG:노역플래그 > 0
	RETURN 0
SIF CFLAG:ARG:이자리에없는플래그 == 1
	RETURN 0
;란, 카스미
IF ARG != MASTER && NO:ARG != [[キャラ:란BD]] && NO:ARG != 7915
	SIF !(TALENT:ARG:연모 || TALENT:ARG:친애 || TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
	SIF MARK:ARG:굴복각인 < 3 && (TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
ENDIF
SIF BASE:ARG:체력 < 800
	RETURN 0
;다른 역할을 이미 맡은 캐릭은 제외
SIF ARG == BASS || ARG == DRUM || ARG == ILLRUSTATOR || ARG == KEYBORAD
	RETURN 0
SIF !(ABL:ARG:가창기능 >= 3 && CFLAG:ARG:기타숙련도 >= 300)
	RETURN 0
RETURN 1

;==============================
;베이스를 맡을 조건 - 3인 밴드
;==============================
@BASS_3P_CASTING(ARG)
#LOCALSIZE 2
#LOCALSSIZE 2

;뱅드림 캐릭터들의 솜씨 회수
CALL RETRIEVE_BANGDREAM_SKILL, ARG

SIF !USE_HAND(ARG) || IS_BEAST(ARG)
	RETURN 0
SIF CFLAG:ARG:노역플래그 > 0
	RETURN 0
SIF CFLAG:ARG:이자리에없는플래그 == 1
	RETURN 0
;히마리, 하구미, 리사, 리미, 치사토, 나나미, 레이
IF ARG != MASTER && NO:ARG != [[キャラ:히마리BD]] && NO:ARG != 7909 && NO:ARG != 7914 && NO:ARG != 7917 && NO:ARG != 7922 && NO:ARG != 7927 && NO:ARG != 7930
	SIF !(TALENT:ARG:연모 || TALENT:ARG:친애 || TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
	SIF MARK:ARG:굴복각인 < 3 && (TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
ENDIF
SIF BASE:ARG:체력 < 800
	RETURN 0
;다른 역할을 이미 맡은 캐릭은 제외
SIF ARG == VOCAL_GUITAR || ARG == DRUM || ARG == ILLRUSTATOR || ARG == KEYBORAD
	RETURN 0
SIF !(ABL:ARG:가창기능 >= 1 && CFLAG:ARG:베이스숙련도 >= 300)
	RETURN 0
RETURN 1

;==============================
;드럼을 맡을 조건 - 3인 밴드
;==============================
@DRUM_3P_CASTING(ARG)
#LOCALSIZE 2
#LOCALSSIZE 2

;뱅드림 캐릭터들의 솜씨 회수
CALL RETRIEVE_BANGDREAM_SKILL, ARG

SIF !USE_HAND(ARG) || IS_BEAST(ARG)
	RETURN 0
SIF CFLAG:ARG:노역플래그 > 0
	RETURN 0
SIF CFLAG:ARG:이자리에없는플래그 == 1
	RETURN 0
;토모에, 카논, 아코, 사아야, 마야, 츠쿠시, 마스키
IF ARG != MASTER && NO:ARG != [[キャラ:토모에BD]] && NO:ARG != 7908 && NO:ARG != 7913 && NO:ARG != 7919 && NO:ARG != 7923 && NO:ARG != 7928 && NO:ARG != 7932
	SIF !(TALENT:ARG:연모 || TALENT:ARG:친애 || TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
	SIF MARK:ARG:굴복각인 < 3 && (TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
ENDIF
SIF BASE:ARG:체력 < 800
	RETURN 0
;다른 역할을 이미 맡은 캐릭은 제외
SIF ARG == VOCAL_GUITAR || ARG == BASS || ARG == ILLRUSTATOR || ARG == KEYBORAD
	RETURN 0
SIF !(ABL:ARG:가창기능 >= 1 && CFLAG:ARG:드럼숙련도 >= 300)
	RETURN 0
RETURN 1

;==============================
;일러스트를 맡을 조건 - 3인 밴드
;==============================
@ILLRUSTATOR_3P_CASTING(ARG)
#LOCALSIZE 2
#LOCALSSIZE 2

;뱅드림 캐릭터들의 솜씨 회수
CALL RETRIEVE_BANGDREAM_SKILL, ARG

SIF !USE_HAND(ARG) || IS_BEAST(ARG)
	RETURN 0
SIF CFLAG:ARG:노역플래그 > 0
	RETURN 0
SIF CFLAG:ARG:이자리에없는플래그 == 1
	RETURN 0
IF ARG != MASTER
	SIF !(TALENT:ARG:연모 || TALENT:ARG:친애 || TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
	SIF MARK:ARG:굴복각인 < 3 && (TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
ENDIF
SIF BASE:ARG:체력 < 800
	RETURN 0
;다른 역할을 이미 맡은 캐릭은 제외
SIF ARG == VOCAL_GUITAR || ARG == BASS || ARG == DRUM || ARG == KEYBORAD
	RETURN 0
SIF !(CFLAG:ARG:그림그리기숙련도 >= 700)
	RETURN 0
RETURN 1

;==============================
;키보드를 맡을 조건 - 3인 밴드
;==============================
@KEYBORAD_3P_CASTING(ARG)
#LOCALSIZE 2
#LOCALSSIZE 2

;뱅드림 캐릭터들의 솜씨 회수
CALL RETRIEVE_BANGDREAM_SKILL, ARG

SIF !USE_HAND(ARG) || IS_BEAST(ARG)
	RETURN 0
SIF CFLAG:ARG:노역플래그 > 0
	RETURN 0
SIF CFLAG:ARG:이자리에없는플래그 == 1
	RETURN 0
;츠구미, 린코, 아리사, 이브, 루이(바이올린), 레오나
IF ARG != MASTER && NO:ARG != [[キャラ:츠구미BD]] && NO:ARG != 7912 && NO:ARG != 7916 && NO:ARG != 7924 && NO:ARG != 7929 && NO:ARG != 7933
	SIF !(TALENT:ARG:연모 || TALENT:ARG:친애 || TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
	SIF MARK:ARG:굴복각인 < 3 && (TALENT:ARG:신뢰 || TALENT:ARG:동료)
		RETURN 0
ENDIF
SIF BASE:ARG:체력 < 800
	RETURN 0
;다른 역할을 이미 맡은 캐릭은 제외
SIF ARG == VOCAL_GUITAR || ARG == BASS || ARG == DRUM || ARG == ILLRUSTATOR
	RETURN 0
SIF !(ABL:ARG:가창기능 >= 1 && CFLAG:ARG:키보드숙련도 >= 300)
	RETURN 0
RETURN 1


;==============================
;3인 밴드유형의 UI 함수
;BAND TYPE - 밴드 유형 지역변수
;==> 1: 보컬&기타 + 베이스 + 드럼(기본값)
;==> 2: 보컬&기타 + 일러스트 + 키보드
;==============================
@TENSI_3P_INTERFACE
#LOCALSIZE 2
#LOCALSSIZE 2
#DIM DYNAMIC BAND_TYPE = 1
REDRAW 0
LOCAL = LINECOUNT

CUSTOMDRAWLINE =
PRINTL ★ 역할에 노예를 배치해주세요 ★
CUSTOMDRAWLINE =

SIF BAND_TYPE == 1
	SETCOLOR COLOR("aqua")
PRINT [0] 유형1
RESETCOLOR
SIF BAND_TYPE == 2
	SETCOLOR COLOR("aqua")
PRINTL  [1] 유형2
RESETCOLOR
DRAWLINE

IF BAND_TYPE == 1
;보컬&기타 + 베이스 + 드럼
	;와카나 레이일 경우 이 포지션은 기타 서브보컬이 된다
	IF BASS > -1 && NO:BASS == 7930
		PRINTFORM [2]%TEXT_LJ("서브보컬&기타: ", 15)%
	ELSE
		PRINTFORM [2]%TEXT_LJ("보컬&기타: ", 15)%
	ENDIF
	IF VOCAL_GUITAR > -1
		IF TALENT:VOCAL_GUITAR:유아체형 == 1
			SETCOLOR 0x00ff40
			PRINTFORML %NAME:VOCAL_GUITAR%
			RESETCOLOR
		ELSE
			PRINTFORML %NAME:VOCAL_GUITAR%
		ENDIF
	ELSE
		PRINTFORML 미지정
	ENDIF
	;와카나 레이일 경우 베이스 보컬이다
	IF BASS > -1 && NO:BASS == 7930
		PRINTFORM [3]%TEXT_LJ("보컬&베이스: ", 15)%
	ELSE
		PRINTFORM [3]%TEXT_LJ("베이스: ", 15)%
	ENDIF
	IF BASS > -1
		IF TALENT:BASS:유아체형 == 1
			SETCOLOR 0x00ff40
			PRINTFORML %NAME:BASS%
			RESETCOLOR
		ELSE
			PRINTFORML %NAME:BASS%
		ENDIF
	ELSE
		PRINTFORML 미지정
	ENDIF
	PRINTFORM [4]%TEXT_LJ("드럼: ", 15)%
	IF DRUM > -1
		IF TALENT:DRUM:유아체형 == 1
			SETCOLOR 0x00ff40
			PRINTFORML %NAME:DRUM%
			RESETCOLOR
		ELSE
			PRINTFORML %NAME:DRUM%
		ENDIF
	ELSE
		PRINTFORML 미지정
	ENDIF
ELSEIF BAND_TYPE == 2
;보컬&기타 + 일러스트 + 키보드
	PRINTFORM [2]%TEXT_LJ("보컬&기타: ", 15)%
	IF VOCAL_GUITAR > -1
		IF TALENT:VOCAL_GUITAR:유아체형 == 1
			SETCOLOR 0x00ff40
			PRINTFORML %NAME:VOCAL_GUITAR%
			RESETCOLOR
		ELSE
			PRINTFORML %NAME:VOCAL_GUITAR%
		ENDIF
	ELSE
		PRINTFORML 미지정
	ENDIF
	PRINTFORM [3]%TEXT_LJ("일러스트: ", 15)%
	IF ILLRUSTATOR > -1
		IF TALENT:ILLRUSTATOR:유아체형 == 1
			SETCOLOR 0x00ff40
			PRINTFORML %NAME:ILLRUSTATOR%
			RESETCOLOR
		ELSE
			PRINTFORML %NAME:ILLRUSTATOR%
		ENDIF
	ELSE
		PRINTFORML 미지정
	ENDIF
	;야시오 루이일 경우 바이올린이다
	IF KEYBORAD > -1 && NO:KEYBORAD == 7929
		PRINTFORM [4]%TEXT_LJ("바이올린: ", 15)%
	ELSE
		PRINTFORM [4]%TEXT_LJ("키보드: ", 15)%
	ENDIF
	IF KEYBORAD > -1
		IF TALENT:KEYBORAD:유아체형 == 1
			SETCOLOR 0x00ff40
			PRINTFORML %NAME:KEYBORAD%
			RESETCOLOR
		ELSE
			PRINTFORML %NAME:KEYBORAD%
		ENDIF
	ELSE
		PRINTFORML 미지정
	ENDIF
ENDIF
DRAWLINE
IF BAND_TYPE == 1
	IF VOCAL_GUITAR > -1 && BASS > -1 && DRUM > -1
		PRINTL [99] 실행
	ELSE
		SETCOLOR 0x1c1c1c
		PRINTL [x] 실행
		RESETCOLOR
	ENDIF
ELSEIF BAND_TYPE == 2
	IF VOCAL_GUITAR > -1 && ILLRUSTATOR > -1 && KEYBORAD > -1
		PRINTL [99] 실행
	ELSE
		SETCOLOR 0x1c1c1c
		PRINTL [x] 실행
		RESETCOLOR
	ENDIF
ENDIF

PRINTL [100] 그만둔다
$INPUT_3P_NOMINATE_LOOP
INPUT
IF RESULT == 0
;밴드유형1로
	CLEARLINE LINECOUNT - LOCAL
	BAND_TYPE = 1
	;역할변수 초기화
	VOCAL_GUITAR = -1
	BASS = -1
	DRUM = -1
	ILLRUSTATOR = -1
	KEYBORAD = -1
	RESTART
ELSEIF RESULT == 1
;밴드유형2로
	CLEARLINE LINECOUNT - LOCAL
	BAND_TYPE = 2
	;역할변수 초기화
	VOCAL_GUITAR = -1
	BASS = -1
	DRUM = -1
	ILLRUSTATOR = -1
	KEYBORAD = -1
	RESTART
ELSEIF RESULT == 2
;보컬&기타
	CALL INPUT_CONCERT_CHARA_LIST("보컬&기타를 맡을 노예를 선택하십시오", "VOCAL_GUITAR_3P_CASTING")
	SIF RESULT != 1000
		VOCAL_GUITAR = RESULT
	CLEARLINE LINECOUNT - LOCAL
	RESTART
ELSEIF RESULT == 3
;베이스 or 일러스트
	IF BAND_TYPE == 1
		CALL INPUT_CONCERT_CHARA_LIST("베이스를 맡을 노예를 선택하십시오", "BASS_3P_CASTING")
		SIF RESULT != 1000
			BASS = RESULT
	ELSE
		CALL INPUT_CONCERT_CHARA_LIST("일러스트를 맡을 노예를 선택하십시오", "ILLRUSTATOR_3P_CASTING")
		SIF RESULT != 1000
			ILLRUSTATOR = RESULT
	ENDIF
	CLEARLINE LINECOUNT - LOCAL
	RESTART
ELSEIF RESULT == 4
;드럼 or 키보드
	IF BAND_TYPE == 1
		CALL INPUT_CONCERT_CHARA_LIST("드럼을 맡을 노예를 선택하십시오", "DRUM_3P_CASTING")
		SIF RESULT != 1000
			DRUM = RESULT
	ELSE
		CALL INPUT_CONCERT_CHARA_LIST("키보드를 맡을 노예를 선택하십시오", "KEYBORAD_3P_CASTING")
		SIF RESULT != 1000
			KEYBORAD = RESULT
	ENDIF
	CLEARLINE LINECOUNT - LOCAL
	RESTART
ELSEIF RESULT == 99
;밴드 공연 시작
	IF BAND_TYPE == 1 && (VOCAL_GUITAR > -1 && BASS > -1 && DRUM > -1)
	;보컬&기타 + 베이스 + 드럼
		CALL BAND_3P_LIVE, VOCAL_GUITAR, BASS, DRUM
		;역할변수 초기화
		VOCAL_GUITAR = -1
		BASS = -1
		DRUM = -1
		ILLRUSTATOR = -1
		KEYBORAD = -1
	ELSEIF BAND_TYPE == 2 && (VOCAL_GUITAR > -1 && ILLRUSTATOR > -1 && KEYBORAD > -1)
	;보컬&기타 + 일러스트 + 키보드
		CALL BAND_3P_LIVE, VOCAL_GUITAR, ILLRUSTATOR, KEYBORAD
		;역할변수 초기화
		VOCAL_GUITAR = -1
		BASS = -1
		DRUM = -1
		ILLRUSTATOR = -1
		KEYBORAD = -1
	ENDIF
	RESTART
ELSEIF RESULT == 100
	;역할변수 초기화
	VOCAL_GUITAR = -1
	BASS = -1
	DRUM = -1
	ILLRUSTATOR = -1
	KEYBORAD = -1
	REDRAW 1 ;emuera 재(再)그리기 on
	RETURN 0
ELSE
	CLEARLINE 1
	REUSELASTLINE
	GOTO INPUT_3P_NOMINATE_LOOP
ENDIF



;==============================
;3인 밴드 공연 함수
;ARG - 1번째 연주자 캐릭번호
;ARG:1 - 2번째 연주자 캐릭번호
;ARG:2 - 3번째 연주자 캐릭번호
;==============================
@BAND_3P_LIVE, ARG, ARG:1, ARG:2
#DIMS DYNAMIC FIRST_LOCALS ;1번째 연주자 악기숙련도 소질 문자열
#DIMS DYNAMIC SECOND_LOCALS ;2번째 연주자 악기숙련도 소질 문자열
#DIMS DYNAMIC THIRD_LOCALS ;3번째 연주자 악기숙련도 소질 문자열
#DIMS DYNAMIC FIRST_INST ;1번째 연주자 악기명
#DIMS DYNAMIC SECOND_INST ;2번째 연주자 악기명
#DIMS DYNAMIC THIRD_INST ;3번째 연주자 악기명
#DIM DYNAMIC SCORE1 ;1번째 연주자 라이브 점수
#DIM DYNAMIC SCORE2 ;2번째 연주자 라이브 점수
#DIM DYNAMIC SCORE3 ;3번째 연주자 라이브 점수
#DIM DYNAMIC BASE_SCORE ;평가용 기준점수
#DIM DYNAMIC TOTAL_SCORE ;전체 점수

;점수 초기화
SCORE1 = 0
SCORE2 = 0
SCORE3 = 0

R = 0
Q = 0
G = 0

;1번째 연주자 악기 체크
CALL SEARCH_INSTRUMENT_3P, ARG
;1번째 연주자 악기숙련도 문자 대입
SELECTCASE RESULT
	CASE 0
		FIRST_LOCALS = 기타숙련도
		FIRST_INST = 기타
	CASE 1
		FIRST_LOCALS = 베이스숙련도
		FIRST_INST = 베이스
	CASE 2
		FIRST_LOCALS = 드럼숙련도
		FIRST_INST = 드럼
	CASE 3
		FIRST_LOCALS = 그림그리기숙련도
		FIRST_INST = 태블릿
	CASE 4
		FIRST_LOCALS = 키보드숙련도
		FIRST_INST = 키보드
ENDSELECT

;2번째 연주자 악기 체크
CALL SEARCH_INSTRUMENT_3P, ARG:1
;2번째 연주자 악기숙련도 문자 대입
SELECTCASE RESULT
	CASE 0
		SECOND_LOCALS = 기타숙련도
		SECOND_INST = 기타
	CASE 1
		SECOND_LOCALS = 베이스숙련도
		SECOND_INST = 베이스
	CASE 2
		SECOND_LOCALS = 드럼숙련도
		SECOND_INST = 드럼
	CASE 3
		SECOND_LOCALS = 그림그리기숙련도
		SECOND_INST = 태블릿
	CASE 4
		SECOND_LOCALS = 키보드숙련도
		SECOND_INST = 키보드
ENDSELECT

;3번째 연주자 악기 체크
CALL SEARCH_INSTRUMENT_3P, ARG:2
;3번째 연주자 악기숙련도 문자 대입
SELECTCASE RESULT
	CASE 0
		THIRD_LOCALS = 기타숙련도
		THIRD_INST = 기타
	CASE 1
		THIRD_LOCALS = 베이스숙련도
		THIRD_INST = 베이스
	CASE 2
		THIRD_LOCALS = 드럼숙련도
		THIRD_INST = 드럼
	CASE 3
		THIRD_LOCALS = 그림그리기숙련도
		THIRD_INST = 태블릿
	CASE 4
		THIRD_LOCALS = 키보드숙련도
		;야시오 루이일 경우 바이올린이다
		IF NO:(ARG:2) == 7929
			THIRD_INST = 바이올린
		ELSE
			THIRD_INST = 키보드
		ENDIF
ENDSELECT

;1번째 연주자 소질 점수 환산
CALL CONCERT_TALENT_CHECKING, ARG
SCORE1 += RESULT

;2번째 연주자 소질 점수 환산
CALL CONCERT_TALENT_CHECKING, ARG:1
SCORE2 += RESULT

;3번째 연주자 소질 점수 환산
CALL CONCERT_TALENT_CHECKING, ARG:2
SCORE3 += RESULT

;1번째 연주자 악기솜씨 점수 환산
IF CFLAG:ARG:FIRST_LOCALS <= 50
	SCORE1 += 10
ELSEIF CFLAG:ARG:FIRST_LOCALS <= 100
	SCORE1 += 50
ELSEIF CFLAG:ARG:FIRST_LOCALS <= 200
	SCORE1 += 120
ELSEIF CFLAG:ARG:FIRST_LOCALS <= 300
	SCORE1 += 210
ELSEIF CFLAG:ARG:FIRST_LOCALS <= 400
	SCORE1 += 290
ELSEIF CFLAG:ARG:FIRST_LOCALS <= 500
	SCORE1 += 380
ELSEIF CFLAG:ARG:FIRST_LOCALS <= 600
	SCORE1 += 450
ELSEIF CFLAG:ARG:FIRST_LOCALS <= 700
	SCORE1 += 540
ELSEIF CFLAG:ARG:FIRST_LOCALS <= 800
	SCORE1 += 670
ELSE
	SCORE1 += 780
ENDIF

;2번째 연주자 악기솜씨 점수 환산
IF CFLAG:(ARG:1):SECOND_LOCALS <= 50
	SCORE2 += 10
ELSEIF CFLAG:(ARG:1):SECOND_LOCALS <= 100
	SCORE2 += 50
ELSEIF CFLAG:(ARG:1):SECOND_LOCALS <= 200
	SCORE2 += 120
ELSEIF CFLAG:(ARG:1):SECOND_LOCALS <= 300
	SCORE2 += 210
ELSEIF CFLAG:(ARG:1):SECOND_LOCALS <= 400
	SCORE2 += 290
ELSEIF CFLAG:(ARG:1):SECOND_LOCALS <= 500
	SCORE2 += 380
ELSEIF CFLAG:(ARG:1):SECOND_LOCALS <= 600
	SCORE2 += 450
ELSEIF CFLAG:(ARG:1):SECOND_LOCALS <= 700
	SCORE2 += 540
ELSEIF CFLAG:(ARG:1):SECOND_LOCALS <= 800
	SCORE2 += 670
ELSE
	SCORE2 += 780
ENDIF

;3번째 연주자 악기솜씨 점수 환산
IF CFLAG:(ARG:2):THIRD_LOCALS <= 50
	SCORE3 += 10
ELSEIF CFLAG:(ARG:2):THIRD_LOCALS <= 100
	SCORE3 += 50
ELSEIF CFLAG:(ARG:2):THIRD_LOCALS <= 200
	SCORE3 += 120
ELSEIF CFLAG:(ARG:2):THIRD_LOCALS <= 300
	SCORE3 += 210
ELSEIF CFLAG:(ARG:2):THIRD_LOCALS <= 400
	SCORE3 += 290
ELSEIF CFLAG:(ARG:2):THIRD_LOCALS <= 500
	SCORE3 += 380
ELSEIF CFLAG:(ARG:2):THIRD_LOCALS <= 600
	SCORE3 += 450
ELSEIF CFLAG:(ARG:2):THIRD_LOCALS <= 700
	SCORE3 += 540
ELSEIF CFLAG:(ARG:2):THIRD_LOCALS <= 800
	SCORE3 += 670
ELSE
	SCORE3 += 780
ENDIF

;로리는 배율을 2배로! (원작 천사의 3p 보정)
SIF TALENT:ARG:유아체형 == 1
	SCORE1 *= 2
SIF TALENT:(ARG:1):유아체형 == 1
	SCORE2 *= 2
SIF TALENT:(ARG:2):유아체형 == 1
	SCORE3 *= 2

;평가용 기준점수 환산
BASE_SCORE = SCORE1 + SCORE2 + SCORE3

PRINTFORML 공연을 실행합니까？
CALL INPUT_YN, "실행한다", "그만둔다"
IF RESULT == 0
	PRINTFORML 3인 밴드 공연을 실시했습니다
	PRINTL 
	PRINTW ♩~♪
	PRINTW ♪~~♭♪
	PRINTW ♩~♪♪~~♭♬
	PRINTW ♪~~♭♪
	PRINTW ♩~♪
	PRINTL 
	PRINTFORM %조사처리(CALLNAME:ARG, "는")% 
	IF FIRST_INST == "태블릿"
		PRINTFORM 태블릿으로 그림을 
	ELSE
		PRINTFORM %조사처리(FIRST_INST, "로")% 연주를 
	ENDIF
	;1번째 연주자의 연주동조율에 따라 점수를 조정
	IF CFLAG:ARG:연주동조율 <= 50
		TIMES SCORE1 , 1.05
		IF FIRST_INST == "태블릿"
			PRINTL 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 100
		TIMES SCORE1 , 1.10
		IF FIRST_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 150
		TIMES SCORE1 , 1.15
		IF FIRST_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 200
		TIMES SCORE1 , 1.20
		IF FIRST_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 250
		TIMES SCORE1 , 1.25
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 300
		TIMES SCORE1 , 1.30
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 350
		TIMES SCORE1 , 1.35
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 400
		TIMES SCORE1 , 1.40
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 450
		TIMES SCORE1 , 1.45
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 500
		TIMES SCORE1 , 1.50
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 550
		TIMES SCORE1 , 1.55
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 600
		TIMES SCORE1 , 1.60
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 650
		TIMES SCORE1 , 1.65
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 700
		TIMES SCORE1 , 1.70
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 750
		TIMES SCORE1 , 1.75
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 800
		TIMES SCORE1 , 1.80
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 850
		TIMES SCORE1 , 1.85
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 900
		TIMES SCORE1 , 1.90
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ELSEIF CFLAG:ARG:연주동조율 <= 950
		TIMES SCORE1 , 1.95
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ELSE
		TIMES SCORE1 , 2.00
		IF FIRST_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ENDIF
	PRINTFORM %조사처리(CALLNAME:(ARG:1), "는")% 
	IF SECOND_INST == "태블릿"
		PRINTFORM 태블릿으로 그림을 
	ELSE
		PRINTFORM %조사처리(SECOND_INST, "로")% 연주를 
	ENDIF
	;2번째 연주자의 연주동조율에 따라 점수를 조정
	IF CFLAG:(ARG:1):연주동조율 <= 50
		TIMES SCORE2 , 1.05
		IF SECOND_INST == "태블릿"
			PRINTL 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 100
		TIMES SCORE2 , 1.10
		IF SECOND_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 150
		TIMES SCORE2 , 1.15
		IF SECOND_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 200
		TIMES SCORE2 , 1.20
		IF SECOND_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 250
		TIMES SCORE2 , 1.25
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 300
		TIMES SCORE2 , 1.30
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 350
		TIMES SCORE2 , 1.35
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 400
		TIMES SCORE2 , 1.40
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 450
		TIMES SCORE2 , 1.45
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 500
		TIMES SCORE2 , 1.50
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 550
		TIMES SCORE2 , 1.55
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 600
		TIMES SCORE2 , 1.60
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 650
		TIMES SCORE2 , 1.65
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 700
		TIMES SCORE2 , 1.70
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 750
		TIMES SCORE2 , 1.75
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 800
		TIMES SCORE2 , 1.80
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 850
		TIMES SCORE2 , 1.85
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 900
		TIMES SCORE2 , 1.90
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ELSEIF CFLAG:(ARG:1):연주동조율 <= 950
		TIMES SCORE2 , 1.95
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ELSE
		TIMES SCORE2 , 2.00
		IF SECOND_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ENDIF
	PRINTFORM %조사처리(CALLNAME:(ARG:2), "는")% 
	IF THIRD_INST == "태블릿"
		PRINTFORM 태블릿으로 그림을 
	ELSE
		PRINTFORM %조사처리(THIRD_INST, "로")% 연주를 
	ENDIF
	;3번째 연주자의 연주동조율에 따라 점수를 조정
	IF CFLAG:(ARG:2):연주동조율 <= 50
		TIMES SCORE3 , 1.05
		IF THIRD_INST == "태블릿"
			PRINTL 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 100
		TIMES SCORE3 , 1.10
		IF THIRD_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 150
		TIMES SCORE3 , 1.15
		IF THIRD_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 200
		TIMES SCORE3 , 1.20
		IF THIRD_INST == "태블릿"
			PRINTL 노력을 하고 있는 것 같지만, 반주에 맞추지 않고 제멋대로 그리고 있다
		ELSE
			PRINTL 노력은 하는 것 같지만, 주위 멤버의 화음과 맞추지 않은 채 하고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 250
		TIMES SCORE3 , 1.25
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 300
		TIMES SCORE3 , 1.30
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 350
		TIMES SCORE3 , 1.35
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 연습을 많이 했는지, 그림이 반주의 이미지에 약간이나마 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 연습을 많이 했는지, 주위 멤버의 화음과 약간이나마 어울리고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 400
		TIMES SCORE3 , 1.40
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 450
		TIMES SCORE3 , 1.45
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 500
		TIMES SCORE3 , 1.50
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 550
		TIMES SCORE3 , 1.55
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 약간 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 약간 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 600
		TIMES SCORE3 , 1.60
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 650
		TIMES SCORE3 , 1.65
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 700
		TIMES SCORE3 , 1.70
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 꽤나 봐줄만한 정도로, 그림이 반주의 이미지에 맞아들어가고 있다
		ELSE
			PRINTL 하고 있다
			PRINTL 꽤나 듣기 좋을 정도로, 주위 멤버의 화음과 맞아들어가고 있다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 750
		TIMES SCORE3 , 1.75
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 800
		TIMES SCORE3 , 1.80
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 850
		TIMES SCORE3 , 1.85
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지와 하나가 한 것 같다
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버와 완전 척척 들어맞는다
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 900
		TIMES SCORE3 , 1.90
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ELSEIF CFLAG:(ARG:2):연주동조율 <= 950
		TIMES SCORE3 , 1.95
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ELSE
		TIMES SCORE3 , 2.00
		IF THIRD_INST == "태블릿"
			PRINTL 그리고 있다
			PRINTL 그림이 반주의 이미지를 넘어서, 그 이상의 경지를 초월하고 있다!
		ELSE
			PRINTL 하고 있다
			PRINTL 화음이 주위의 멤버의 화음을 받쳐주면서, 그 싱크로율을 한층 더 끌어올리고 있다!
		ENDIF
	ENDIF
	;전체 점수환산
	TOTAL_SCORE = SCORE1 + SCORE2 + SCORE3
	
	;성공 여부
	;솜씨가 좋을수록 실패확률이 줄어들고, 얻는 수익도 증가한다
	IF (TOTAL_SCORE - BASE_SCORE) <= (BASE_SCORE / 8)
		PRINTW 서로의 솜씨를 맞춰본 결과、도무지 봐줄 수 없을 정도로 손발이 안 맞았다
		IF RAND:(2 + (TALENT:ARG:유아체형 || TALENT:(ARG:1):유아체형 || TALENT:(ARG:2):유아체형)) == 0
		;실패
			PRINTW 따라서、공연은 보기 좋게 실패로 끝났다
			F = 0
			R = 300
			Q = 2
			G = 1
		ELSE
		;성공
			PRINTW 하지만 다행히、선정한 곡도 좋았고 어찌어찌 분발한 탓에 공연은 성공적으로 끝났다
			F = 1
			R = 600
			Q = 4
			G = 2
		ENDIF
	ELSEIF (TOTAL_SCORE - BASE_SCORE) <= (BASE_SCORE / 4)
		PRINTW 서로의 솜씨를 맞춰본 결과、일원들 개개인이 서로에게 맞추려고 하는 노력이 꽤 엿보였다
		IF RAND:(3 + (TALENT:ARG:유아체형 || TALENT:(ARG:1):유아체형 || TALENT:(ARG:2):유아체형)) == 0
		;실패
			PRINTW 그러나 아쉽게도、여러모로 불협화음이 일어나 공연은 실패로 끝났다
			F = 0
			R = 600
			Q = 4
			G = 2
		ELSE
		;성공
			PRINTW 그랬기에、어느정도 들어줄 만한 라이브가 연주되었다
			F = 1
			R = 1200
			Q = 8
			G = 4
		ENDIF
	ELSEIF (TOTAL_SCORE - BASE_SCORE) <= (BASE_SCORE / 2)
		PRINTW 서로의 솜씨를 맞춰본 결과、꽤나 좋은 느낌이다
		IF RAND:(4 + (TALENT:ARG:유아체형 || TALENT:(ARG:1):유아체형 || TALENT:(ARG:2):유아체형)) == 0
		;실패
			IF RAND:2 == 0
				PRINTW 하지만 아쉽게도、일원 중 누군가의 컨디션 이상으로 실수가 일어나 공연은 실패로 끝났다
			ELSE
				PRINTW 하지만 아쉽게도、어딘가에 불협화음이 일어나 공연은 실패로 끝났다
			ENDIF
			F = 0
			R = 1200
			Q = 8
			G = 3
		ELSE
		;성공
			PRINTW 따라서、공연의 결과는 아주 성공적이었다
			F = 1
			R = 2400
			Q = 16
			G = 6
		ENDIF
	ELSEIF (TOTAL_SCORE - BASE_SCORE) <= BASE_SCORE
		PRINTW 서로의 솜씨를 맞춰본 결과、아주 완벽할 정도로 호흡이 척척이었다
		IF RAND:(5 + (TALENT:ARG:유아체형 || TALENT:(ARG:1):유아체형 || TALENT:(ARG:2):유아체형)) == 0
		;실패
			IF RAND:2 == 0
				PRINTW 하지만 아쉽게도、일원 중 누군가의 컨디션 이상으로 실수가 일어나 공연은 실패로 끝났다
			ELSE
				PRINTW 하지만 아쉽게도、어딘가에 불협화음이 일어나 공연은 실패로 끝났다
			ENDIF
			F = 0
			R = 2400
			Q = 16
			G = 4
		ELSE
		;성공
			PRINTW 따라서、공연의 결과는 무척이나 성공적으로 끝났다!
			F = 1
			R = 3000
			Q = 32
			G = 8
		ENDIF
	ENDIF
	
	;체력 감소
	BASE:ARG:0 -= MAXBASE:ARG:0 / 3
	BASE:(ARG:1):0 -= MAXBASE:(ARG:1):0 / 3
	BASE:(ARG:2):0 -= MAXBASE:(ARG:2):0 / 3
	
	;경험 증가
	EXP:ARG:가창경험 += Q
	EXP:(ARG:1):가창경험 += Q
	EXP:(ARG:2):가창경험 += Q
	EXP:ARG:라이브경험 += 1
	EXP:(ARG:1):라이브경험 += 1
	EXP:(ARG:2):라이브경험 += 1
	JUEL:ARG:습득 += R
	JUEL:(ARG:1):습득 += R
	JUEL:(ARG:2):습득 += R
	
	SIF CFLAG:ARG:스트레스치 > 0
		CFLAG:ARG:스트레스치 -= 1
	SIF CFLAG:(ARG:1):스트레스치 > 0
		CFLAG:(ARG:1):스트레스치 -= 1
	SIF CFLAG:(ARG:2):스트레스치 > 0
		CFLAG:(ARG:2):스트레스치 -= 1	
	G = (1 + RAND:(1 + RAND:3)) * (F + 1)	
	PRINTL
	PRINTFORML %EXPNAME:64%＋{Q} (모든 밴드일원)
	PRINTFORML %EXPNAME:74%＋1 (모든 밴드일원)
	PRINTFORML %PALAMNAME:8%＋{R} (모든 밴드일원)
	CALL AFFECTION_BANGDREAM_UP, ARG, 300
	CALL AFFECTION_BANGDREAM_UP, (ARG:1), 300
	CALL AFFECTION_BANGDREAM_UP, (ARG:2), 300
	IF F == 1
	;성공시
		SIF ITEM:라이브하우스
			G += 1
		SIF ITEM:무도관
			G += 2
		CFLAG:ARG:아이돌인기 += G
		CFLAG:(ARG:1):아이돌인기 += G
		CFLAG:(ARG:2):아이돌인기 += G
		PRINTFORML 아이돌인기＋{G} (모든 밴드일원)
	ELSE
	;실패시
		CFLAG:ARG:아이돌인기 -= G
		CFLAG:(ARG:1):아이돌인기 -= G
		CFLAG:(ARG:2):아이돌인기 -= G
		PRINTFORML 아이돌인기－{G} (모든 밴드일원)
	ENDIF
	PRINTL
	FOR LOCAL, 0, 3
		IF LOCAL == 0
			LOCAL = ARG
		ELSEIF LOCAL == 1
			LOCAL = ARG:1
		ELSEIF LOCAL == 2
			LOCAL = ARG:2
		ENDIF
		IF !TALENT:LOCAL:인기
			IF CFLAG:LOCAL:아이돌인기 > 70
				TALENT:LOCAL:인기 = 1
				PRINTFORML %CALLNAME:LOCAL%의 인기가 치솟는 게 보이고 있다
				PRINTFORML %조사처리(CALLNAME:LOCAL, "는")% 【인기】를 얻었다
			ENDIF
		ELSEIF TALENT:LOCAL:인기
			IF CFLAG:LOCAL:아이돌인기 < -5
				TALENT:LOCAL:인기 = 0
				PRINTFORML %CALLNAME:LOCAL%의 인기가 가라앉고 있다
				PRINTFORML %조사처리(CALLNAME:LOCAL, "는")% 【인기】를 잃었다
			ENDIF
		ENDIF
	NEXT
	IF F == 1
	;성공시
		PRINTFORMW 그리고 %조사처리(CALLNAME:MASTER,"는")% 라이브를 통해 ￥{TOTAL_SCORE}의 이윤을 얻었다
		MONEY += TOTAL_SCORE
	ELSE
	;실패시
		PRINTFORMW 따라서 원래 예상수익인 ￥{TOTAL_SCORE}보다 훨씬 낮은 ￥{BASE_SCORE}의 이윤밖에 벌어들일 수 없었다
		MONEY += BASE_SCORE
	ENDIF
	CALL 帳簿閲覧_노역, A, S, 0, 6
	DRAWLINE
	;휴식플래그を立てる
	FLAG:휴식플래그 += 1
	BEGIN TURNEND
ELSE
	RETURN 0
ENDIF
