;-------------------------------------------------
;3P
;섹스系派生コマンド
;-------------------------------------------------
@ACT_COM500
;他の3Pから飛んできた場合の調整
SIF TEQUIP:TARGET:Ｖ삽입자 == SUBPLAYER()
	TEQUIP:TARGET:Ａ삽입자 = PLAYER
SIF TEQUIP:TARGET:Ａ삽입자 == SUBPLAYER()
	TEQUIP:TARGET:Ｖ삽입자 = PLAYER
PRINTL 양구멍삽입
TSTR:0 = 양구멍삽입
CALL ACT_3P
RETURN 1
;SELECTCOM = 500
;３Pの実際の処理
@ACT_3P
#DIM CHARA, 1
;CALL KOJO_MESSAGE_COM
;-------------------------------------------------
;挿入部位管理
;-------------------------------------------------
;直接コマンドを指定した場合
;IF SELECTCOM == 64
;	TFLAG:40 = 1
;	TFLAG:41 = 2
;ELSE
;	SIF SELECTCOM == 60 || SELECTCOM == 61 || SELECTCOM == 66
;		A = 1
;	SIF SELECTCOM == 62 || SELECTCOM == 63 || SELECTCOM == 67
;		A = 2
;	SIF SELECTCOM == 81 || SELECTCOM == 140
;		A = 3
;	SIF SELECTCOM == 60 || SELECTCOM == 61 || SELECTCOM == 66
;		B = 1
;	SIF SELECTCOM == 62 || SELECTCOM == 63 || SELECTCOM == 67
;		B = 2
;	SIF SELECTCOM == 81 || SELECTCOM == 140
;		B = 3
;	;전회コマンドが3Pでない
;	IF TFLAG:42 == 0
;		;今回조교자が조수=전회조교자が主人
;		IF ASSIPLAY
;			TFLAG:40 = B
;			TFLAG:41 = A
;		;今回조교자が主人=전회조교자が조수
;		ELSE
;			TFLAG:40 = A
;			TFLAG:41 = B
;		ENDIF
;	;전회コマンドが3Pである
;	ELSE
;		;今回조교자が조수=전회조교자が主人
;		IF ASSIPLAY
;			;조수の사용部位が전회の主人と同じ場合
;;			SIF A == TFLAG:40
;				TFLAG:40 = TFLAG:41
;			TFLAG:41 = A
;		ELSE
;			;主人の사용部位が전회の조수と同じ場合
;			SIF A == TFLAG:41
;				TFLAG:41 = TFLAG:40
;			TFLAG:40 = A
;		ENDIF
;	ENDIF
;ENDIF
;V경험을수반하는커맨드のフラグ(처녀膜재생対応)
;SIF TFLAG:40 == 1 || TFLAG:41 == 1
SIF TEQUIP:TARGET:Ｖ삽입자 >= 0
	TFLAG:19 = 1

;SIF (TALENT:3 || TALENT:6) && ASSIPLAY == 0 && EXP:0 == 0 && TFLAG:40 == 1
SIF (TALENT:연모 || TALENT:친애) && ASSIPLAY == 0 && EXP:0 == 0 && TEQUIP:TARGET:Ｖ삽입자 == MASTER
	TFLAG:20 = 1

;-------------------------------------------------
;사정ゲージ체크（PLAYER）
;-------------------------------------------------
FOR LOCAL:1, 0 ,2
	CHARA = LOCAL:1 ? SUBPLAYER() # PLAYER
	SIF !HAVE_PENIS(MASTER)
		CONTINUE
	LOCAL = 2500
	;ABL:조교자の기교をみる
	IF ABL:CHARA:2 == 0
		TIMES LOCAL , 1.00
	ELSEIF ABL:CHARA:2 == 1
		TIMES LOCAL , 1.20
	ELSEIF ABL:CHARA:2 == 2
		TIMES LOCAL , 1.40
	ELSEIF ABL:CHARA:2 == 3
		TIMES LOCAL , 1.60
	ELSEIF ABL:CHARA:2 == 4
		TIMES LOCAL , 1.80
	ELSE
		TIMES LOCAL , 2.00
	ENDIF

	;ABL:순종をみる
	IF ABL:0 == 0
		TIMES LOCAL , 0.80
	ELSEIF ABL:0 == 1
		TIMES LOCAL , 0.90
	ELSEIF ABL:0 == 2
		TIMES LOCAL , 1.00
	ELSEIF ABL:0 == 3
		TIMES LOCAL , 1.10
	ELSEIF ABL:0 == 4
		TIMES LOCAL , 1.20
	ELSE
		TIMES LOCAL , 1.30
	ENDIF

	;ABL:욕망をみる
	IF ABL:1 == 0
		TIMES LOCAL , 1.00
	ELSEIF ABL:1 == 1
		TIMES LOCAL , 1.10
	ELSEIF ABL:1 == 2
		TIMES LOCAL , 1.20
	ELSEIF ABL:1 == 3
		TIMES LOCAL , 1.30
	ELSEIF ABL:1 == 4
		TIMES LOCAL , 1.40
	ELSE
		TIMES LOCAL , 1.50
	ENDIF

	;VとAに挿入時、PALAM:윤활をみる
	IF TFLAG:40 <= 2
		IF PALAM:TARGET:윤활 < PALAMLV:1
			TIMES LOCAL , 0.60
		ELSEIF PALAM:TARGET:윤활 < PALAMLV:2
			TIMES LOCAL , 0.80
		ELSEIF PALAM:TARGET:윤활 < PALAMLV:3
			TIMES LOCAL , 1.00
		ELSEIF PALAM:TARGET:윤활 < PALAMLV:4
			TIMES LOCAL , 1.20
		ELSEIF PALAM:TARGET:윤활 >= PALAMLV:4
			TIMES LOCAL , 1.40
		ENDIF
	ENDIF

	;플레이어のABL:Ｃ감각をみる
	IF ABL:CHARA:3 == 0
		TIMES LOCAL , 1.00
	ELSEIF ABL:CHARA:3 == 1
		TIMES LOCAL , 1.50
	ELSEIF ABL:CHARA:3 == 2
		TIMES LOCAL , 2.00
	ELSEIF ABL:CHARA:3 == 3
		TIMES LOCAL , 2.50
	ELSEIF ABL:CHARA:3 == 4
		TIMES LOCAL , 3.50
	ELSE
		TIMES LOCAL , 5.00
	ENDIF

	;EXP:Ｖ경험をみる→まぁ少しならしててもセーフということに
	;(純正)처녀だと増える
	SIF TALENT:TARGET:처녀
		TIMES LOCAL , 1.50
	;SIF HAVE_PENIS(MASTER)
		BASE:CHARA:2 += LOCAL
NEXT
;-------------------------------------------------
;사정ゲージ체크（조수）
;-------------------------------------------------
;B = 2500

;ABL:조교자の기교をみる
;IF ABL:SUBPLAYER():2 == 0
;	TIMES B , 1.00
;ELSEIF ABL:SUBPLAYER():2 == 1
;	TIMES B , 1.20
;ELSEIF ABL:SUBPLAYER():2 == 2
;	TIMES B , 1.40
;ELSEIF ABL:SUBPLAYER():2 == 3
;	TIMES B , 1.60
;ELSEIF ABL:SUBPLAYER():2 == 4
;	TIMES B , 1.80
;ELSE
;	TIMES B , 2.00
;ENDIF

;ABL:순종をみる
;IF ABL:0 == 0
;	TIMES B , 0.80
;ELSEIF ABL:0 == 1
;	TIMES B , 0.90
;ELSEIF ABL:0 == 2
;	TIMES B , 1.00
;ELSEIF ABL:0 == 3
;	TIMES B , 1.10
;ELSEIF ABL:0 == 4
;	TIMES B , 1.20
;ELSE
;	TIMES B , 1.30
;ENDIF

;ABL:욕망をみる
;IF ABL:1 == 0
;	TIMES B , 1.00
;ELSEIF ABL:1 == 1
;	TIMES B , 1.10
;ELSEIF ABL:1 == 2
;	TIMES B , 1.20
;ELSEIF ABL:1 == 3
;	TIMES B , 1.30
;ELSEIF ABL:1 == 4
;	TIMES B , 1.40
;ELSE
;	TIMES B , 1.50
;ENDIF

;VとAに挿入時、PALAM:윤활をみる
;IF TFLAG:41 <= 2
;	IF PALAM:4 < PALAMLV:1
;		TIMES B , 0.60
;	ELSEIF PALAM:4 < PALAMLV:2
;		TIMES B , 0.80
;	ELSEIF PALAM:4 < PALAMLV:3
;		TIMES B , 1.00
;	ELSEIF PALAM:4 < PALAMLV:4
;		TIMES B , 1.20
;	ELSEIF PALAM:4 >= PALAMLV:4
;		TIMES B , 1.40
;	ENDIF
;ENDIF

;플레이어のABL:Ｃ감각をみる
;IF ABL:SUBPLAYER():3 == 0
;	TIMES B , 1.00
;ELSEIF ABL:SUBPLAYER():3 == 1
;	TIMES B , 1.50
;ELSEIF ABL:SUBPLAYER():3 == 2
;	TIMES B , 2.00
;ELSEIF ABL:SUBPLAYER():3 == 3
;	TIMES B , 2.50
;ELSEIF ABL:SUBPLAYER():3 == 4
;	TIMES B , 3.50
;ELSE
;	TIMES B , 5.00
;ENDIF

;SIF HAVE_PENIS(MASTER)
;	BASE:ASSI:2 += B

;조교자←→조교대상
TFLAG:28 = 3
TFLAG:삽입속행 = 1
;-------------------------------------------------
;ソース추가処理
;-------------------------------------------------
;소비체력、기력
DOWNBASE:TARGET:체력 += 160
DOWNBASE:TARGET:기력 += 350

SOURCE:TARGET:정애 = 300
SOURCE:TARGET:성행위 = 100
SOURCE:TARGET:중독충족 = 500
SOURCE:TARGET:굴종 = 500
SOURCE:TARGET:일탈 = 500
SOURCE:TARGET:반감 = 500

;挿入している部位によって、ソースの数値が변화する
;Vに挿入している場合
;IF TFLAG:40 == 1 || TFLAG:41 == 1
IF TEQUIP:TARGET:Ｖ삽입자 >= 0
	SOURCE:1 += 400
	SOURCE:TARGET:성행위 += 100
	SOURCE:TARGET:아픔 += 500
ENDIF
;Aに挿入している場合
;IF TFLAG:40 == 2 || TFLAG:41 == 2
IF TEQUIP:TARGET:Ａ삽입자 >= 0
	SOURCE:TARGET:쾌Ａ += 400
	SOURCE:TARGET:성행위 += 100
	SOURCE:TARGET:아픔 += 800
ENDIF
;입に挿入している場合
;IF TFLAG:40 == 3 || TFLAG:41 == 3
IF TEQUIP:TARGET:입삽입자 >= 0
	SOURCE:TARGET:성행위 += 420
	SOURCE:TARGET:달성 += 150
ENDIF


;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;억압、저항持ちには、억울ソース추가
SIF TALENT:32 || TALENT:34
	SOURCE:TARGET:울굴 += 500

;정조관념持ちで연모、친애持ち以外には常に반발のソースを추가する（섹스系のみ）
SIF TALENT:30 && !IS_LOVER(TARGET)
	SOURCE:TARGET:반감 += 1000

;Vに挿入している場合
;IF TFLAG:40 == 1 || TFLAG:41 == 1
IF TEQUIP:TARGET:Ｖ삽입자 >= 0
	;처녀だった場合は、고통のソースと반발のソースを추가する
	IF TALENT:0 == 1
		SOURCE:TARGET:아픔 += 5500
		SOURCE:TARGET:반감 += 3000
	ENDIF

	;재생처녀だった場合は、고통のソースと반발のソースを추가する
	IF TALENT:1 == 1
		SOURCE:TARGET:아픔 += 5500
		SOURCE:TARGET:반감 += 1000
	ENDIF

	;Vへの고통は先に処理しておく
	;EXP:Ｖ경험をみる（처녀の반감は別途処理済みなので생략）
	IF EXP:0 < EXPLV:1
		TIMES SOURCE:TARGET:아픔 , 2.50
	ELSEIF EXP:0 < EXPLV:2
		TIMES SOURCE:TARGET:아픔 , 0.80
		TIMES SOURCE:TARGET:반감 , 1.20
	ELSEIF EXP:0 < EXPLV:3
		TIMES SOURCE:TARGET:아픔 , 0.40
	ELSEIF EXP:0 < EXPLV:4
		TIMES SOURCE:TARGET:아픔 , 0.10
	ELSEIF EXP:0 < EXPLV:5
		TIMES SOURCE:TARGET:아픔 , 0.00
	ELSEIF EXP:0 >= EXPLV:5
		TIMES SOURCE:TARGET:아픔 , 0.00
	ENDIF

	;PALAM:윤활をみる
	IF PALAM:4 < PALAMLV:1
		TIMES SOURCE:TARGET:아픔 , 1.20
		TIMES SOURCE:TARGET:반감 , 1.50
	ELSEIF PALAM:4 < PALAMLV:2
		TIMES SOURCE:TARGET:아픔 , 0.70
		TIMES SOURCE:TARGET:반감 , 1.20
	ELSEIF PALAM:4 < PALAMLV:3
		TIMES SOURCE:TARGET:아픔 , 0.40
	ELSEIF PALAM:4 < PALAMLV:4
		TIMES SOURCE:TARGET:아픔 , 0.10
	ELSEIF PALAM:4 >= PALAMLV:4
		TIMES SOURCE:TARGET:아픔 , 0.10
	ENDIF
ENDIF

;Aに挿入している場合
;IF TFLAG:40 == 2 || TFLAG:41 == 2
IF TEQUIP:TARGET:Ａ삽입자 >= 0
	;Aへの고통は先に処理しておく
	;EXP:Ａ경험をみる
	IF EXP:1 < EXPLV:1
		TIMES SOURCE:TARGET:아픔 , 3.00
		TIMES SOURCE:TARGET:반감 , 3.00
	ELSEIF EXP:1 < EXPLV:2
		TIMES SOURCE:TARGET:아픔 , 1.20
		TIMES SOURCE:TARGET:반감 , 2.00
	ELSEIF EXP:1 < EXPLV:3
		TIMES SOURCE:TARGET:아픔 , 0.80
		TIMES SOURCE:TARGET:반감 , 1.50
	ELSEIF EXP:1 < EXPLV:4
		TIMES SOURCE:TARGET:아픔 , 0.60
		TIMES SOURCE:TARGET:반감 , 1.20
	ELSEIF EXP:1 < EXPLV:5
		TIMES SOURCE:TARGET:아픔 , 0.40
	ELSEIF EXP:1 >= EXPLV:5
		TIMES SOURCE:TARGET:아픔 , 0.20
	ENDIF

	;PALAM:윤활をみる
	IF PALAM:4 < PALAMLV:1
		TIMES SOURCE:TARGET:아픔 , 1.20
		TIMES SOURCE:TARGET:반감 , 2.00
	ELSEIF PALAM:4 < PALAMLV:2
		TIMES SOURCE:TARGET:아픔 , 1.00
		TIMES SOURCE:TARGET:반감 , 1.50
	ELSEIF PALAM:4 < PALAMLV:3
		TIMES SOURCE:TARGET:아픔 , 0.60
	ELSEIF PALAM:4 < PALAMLV:4
		TIMES SOURCE:TARGET:아픔 , 0.30
	ELSEIF PALAM:4 >= PALAMLV:4
		TIMES SOURCE:TARGET:아픔 , 0.20
	ENDIF
ENDIF

;섹스중독を見る
IF ABL:18 == 0
	TIMES SOURCE:TARGET:중독충족 , 0.00
ELSEIF ABL:18 == 1
	TIMES SOURCE:TARGET:중독충족 , 0.30
ELSEIF ABL:18 == 2
	TIMES SOURCE:TARGET:중독충족 , 0.60
ELSEIF ABL:18 == 3
	TIMES SOURCE:TARGET:중독충족 , 0.90
ELSEIF ABL:18 == 4
	TIMES SOURCE:TARGET:중독충족 , 1.20
ELSEIF ABL:18 == 5
	TIMES SOURCE:TARGET:중독충족 , 1.50
ELSEIF ABL:18 == 6
	TIMES SOURCE:TARGET:중독충족 , 1.80
ELSEIF ABL:18 == 7
	TIMES SOURCE:TARGET:중독충족 , 2.10
ELSEIF ABL:18 == 8
	TIMES SOURCE:TARGET:중독충족 , 2.40
ELSEIF ABL:18 == 9
	TIMES SOURCE:TARGET:중독충족 , 3.00
ELSEIF ABL:18 >= 10
	TIMES SOURCE:TARGET:중독충족 , 5.00
ENDIF


;-------------------------------------------------
;사정체크１（主人）
;-------------------------------------------------

;사정先타입の설정
TCVAR:MASTER:페니스사용대상 = TARGET
IF TEQUIP:TARGET:Ｖ삽입자 == MASTER
	TCVAR:MASTER:사정개소 = 1
ELSEIF TEQUIP:TARGET:Ａ삽입자 == MASTER
	TCVAR:MASTER:사정개소 = 2
ELSE
	TCVAR:MASTER:사정개소 = 4
ENDIF
;사정전선택の可・
TFLAG:704 = 0

;-------------------------------------------------
;사정체크２（조수）
;-------------------------------------------------

;사정先타입の설정
TCVAR:ASSI:페니스사용대상 = TARGET
IF TEQUIP:TARGET:Ｖ삽입자 == ASSI
	TCVAR:ASSI:사정개소 = 1
ELSEIF TEQUIP:TARGET:Ａ삽입자 == ASSI
	TCVAR:ASSI:사정개소 = 2
ELSE
	TCVAR:ASSI:사정개소 = 4
ENDIF
;사정전선택の可・
TFLAG:704 = 0

;-------------------------------------------------
;불결の処理
;-------------------------------------------------
FOR LOCAL:1, 0, 2
	CHARA = LOCAL:1 ? SUBPLAYER() # PLAYER
	IF TEQUIP:TARGET:Ｖ삽입자 == CHARA
		;질내に파과혈の불결を付加
		SIF TALENT:0 == 1 || TALENT:1 == 1
			CALL SET_STAIN("질내", "파과혈", TARGET)
		;奴隷の질내⇔조교자のＰの불결が移動
		SIF HAVE_PENIS(CHARA)
			CALL MOVE_STAIN("질내", TARGET, "페니스", CHARA)
	ELSEIF TEQUIP:TARGET:Ａ삽입자 == CHARA
		;奴隷のＡ⇔조교자のＰの불결が移動
		SIF HAVE_PENIS(CHARA)
			CALL MOVE_STAIN("애널", TARGET, "페니스", CHARA)
	ELSE
		;奴隷の입⇔조교자のＰの불결が移動
		SIF HAVE_PENIS(CHARA)
			CALL MOVE_STAIN("입", TARGET, "페니스", CHARA)
	ENDIF
NEXT
;IF TFLAG:41 == 1
;	;질내に파과혈の불결を付加
;	SIF TALENT:0 == 1 || TALENT:1 == 1
;		CALL SET_STAIN("질내", "파과혈", TARGET)
;	;奴隷の질내⇔조수のＰの불결が移動
;	IF HAVE_PENIS(ASSI)
;		STAIN:TARGET:6 |= STAIN:ASSI:2
;		STAIN:ASSI:2 |= STAIN:TARGET:6
;	ENDIF
;ELSEIF TFLAG:41 == 2
;	;奴隷のＡ⇔조수のＰの불결が移動
;	IF HAVE_PENIS(ASSI)
;		STAIN:TARGET:4 |= STAIN:ASSI:2
;		STAIN:ASSI:2 |= STAIN:TARGET:4
;	ENDIF
;ELSEIF TFLAG:41 == 3
;	;奴隷の입⇔조수のＰの불결が移動
;	IF HAVE_PENIS(ASSI)
;		STAIN:TARGET:0 |= STAIN:ASSI:2
;		STAIN:ASSI:2 |= STAIN:TARGET:0
;	ENDIF
;ENDIF


;-------------------------------------------------
;경험の処理
;-------------------------------------------------
FOR LOCAL:1, 0, 2
	CHARA = LOCAL:1 ? SUBPLAYER() # PLAYER
	;Vに挿入している場合
	IF TEQUIP:TARGET:Ｖ삽입자 == CHARA
		CALL ADDS_EXP("Ｖ경험", 1, TARGET)
		CALL ADDS_EXP("성교경험", 1, TARGET)
		SIF TALENT:처녀
			CALL ADDS_ABNORMAL_EXP("처녀상실（３Ｐ）", TARGET)
		SIF !IS_MALE(CHARA) 
			CALL ADDS_ABNORMAL_EXP("처녀탈취（동성）", CHARA)
		SIF !IS_MALE(CHARA)
			CALL ADDS_ABNORMAL_EXP("처녀상실（동성）", TARGET)
		;근친상간の場合이상경험부여
		IF 근친체크(TARGET , CHARA)
			CALL ADDS_ABNORMAL_EXP( @"근친상간（%RESULTS:0%）", TARGET)
			CALL ADDS_ABNORMAL_EXP( @"근친상간（%RESULTS:1%）", CHARA)
		ENDIF
	ENDIF
	;Aに挿入している場合
	IF TEQUIP:TARGET:Ａ삽입자 == CHARA
		CALL ADDS_EXP("Ａ경험", 2, TARGET)
		CALL ADDS_EXP("성교경험", 1, TARGET)
	ENDIF
	;입に挿入している場合
	IF TEQUIP:TARGET:입삽입자 == CHARA
		CALL ADDS_EXP("펠라경험", 1, TARGET)
	ENDIF
NEXT
;女1人を、男ふたりで犯して、それで男の間に동성愛が成立…するのはへんなきがするので
;조교자間の경험획득はとりあえずコメントアウトしておきます
IF IS_LESBIAN(TARGET,MASTER)
	CALL ADDS_EXP("레즈경험", 5, TARGET)
	CALL ADDS_EXP("레즈경험", 5, MASTER)
ENDIF
IF IS_LESBIAN(TARGET,ASSI)
	CALL ADDS_EXP("레즈경험", 5, TARGET)
	CALL ADDS_EXP("레즈경험", 5, ASSI)
ENDIF
IF IS_LESBIAN(MASTER,ASSI)
	;CALL ADDS_EXP("레즈경험", 5, MASTER)
	;CALL ADDS_EXP("레즈경험", 5, ASSI)
ENDIF
IF IS_GAY(TARGET,MASTER)
	CALL ADDS_EXP("ＢＬ경험", 5, TARGET)
	CALL ADDS_EXP("ＢＬ경험", 5, MASTER)
ENDIF
IF IS_GAY(TARGET,ASSI)
	CALL ADDS_EXP("ＢＬ경험", 5, TARGET)
	CALL ADDS_EXP("ＢＬ경험", 5, ASSI)
ENDIF
IF IS_GAY(MASTER,ASSI)
	;CALL ADDS_EXP("ＢＬ경험", 5, MASTER)
	;CALL ADDS_EXP("ＢＬ경험", 5, ASSI)
ENDIF
;Vに挿入している場合
;IF TFLAG:40 == 1 || TFLAG:41 == 1
;	CALL ADDS_EXP("Ｖ경험", 1, TARGET)
;ENDIF

;Aに挿入している場合
;IF TFLAG:40 == 2 || TFLAG:41 == 2
;	CALL ADDS_EXP("Ａ경험", 2, TARGET)
;	PRINTL Ａ경험＋２
;ENDIF

;성교경험
;VとAに挿入している場合（입に挿入していない場合）
;IF TFLAG:40 != 3 && TFLAG:41 != 3
;	CALL ADDS_EXP("성교경험", 2, TARGET)
;	PRINTS EXPNAME:4
;	PRINTL +2
;ELSE
;	CALL ADDS_EXP("성교경험", 1, TARGET)
;	PRINTS EXPNAME:4
;	PRINTL +1
;ENDIF

;이상경험
;IF (TFLAG:40 == 1 || TFLAG:41 == 1) && TALENT:0 == 1
;	EXP:50 += 2
;	PRINTFORML %EXPNAME:50%＋２
;	CALL ADDS_ABNORMAL_EXP("처녀상실（３Ｐ）", TARGET)
;ENDIF




;레즈경험
;IF IS_LESBIAN(TARGET,MASTER) && IS_LESBIAN(TARGET,ASSI) && IS_LESBIAN(MASTER,ASSI)
;	A = 10
;	PRINTFORML %EXPNAME:40%+{A}
;	PRINTFORML %EXPNAME:40%(주인)+{A}
;	PRINTFORML %EXPNAME:40%(조수)+{A}
;	CALL ADDS_EXP("레즈경험", A, TARGET)
;	CALL ADDS_EXP("레즈경험", A, MASTER)
;	CALL ADDS_EXP("레즈경험", A, ASSI)
;ELSEIF IS_LESBIAN(TARGET,MASTER)
;	A = 5
;	PRINTFORML %EXPNAME:40%+{A}
;	PRINTFORML %EXPNAME:40%(주인)+{A}
;	CALL ADDS_EXP("레즈경험", A, TARGET)
;	CALL ADDS_EXP("레즈경험", A, MASTER)
;ELSEIF IS_LESBIAN(TARGET,ASSI)
;	A = 5
;	PRINTFORML %EXPNAME:40%+{A}
;	PRINTFORML %EXPNAME:40%(조수)+{A}
;	CALL ADDS_EXP("레즈경험", A, TARGET)
;	CALL ADDS_EXP("레즈경험", A, ASSI)
;ELSEIF IS_LESBIAN(MASTER,ASSI)
;	A = 5
;	PRINTFORML %EXPNAME:40%(주인)+{A}
;	PRINTFORML %EXPNAME:40%(조수)+{A}
;	CALL ADDS_EXP("레즈경험", A, MASTER)
;	CALL ADDS_EXP("레즈경험", A, ASSI)
;ENDIF

;ＢＬ경험
;IF IS_GAY(TARGET,MASTER) && IS_GAY(TARGET,ASSI) && IS_GAY(MASTER,ASSI)
;	A = 10
;	PRINTFORML %EXPNAME:41%+{A}
;	PRINTFORML %EXPNAME:41%(주인)+{A}
;	PRINTFORML %EXPNAME:41%(조수)+{A}
;	CALL ADDS_EXP("ＢＬ경험", A, TARGET)
;	CALL ADDS_EXP("ＢＬ경험", A, MASTER)
;	CALL ADDS_EXP("ＢＬ경험", A, ASSI)
;ELSEIF IS_GAY(TARGET,MASTER)
;	A = 5
;	PRINTFORML %EXPNAME:41%+{A}
;	PRINTFORML %EXPNAME:41%(주인)+{A}
;	CALL ADDS_EXP("ＢＬ경험", A, TARGET)
;	CALL ADDS_EXP("ＢＬ경험", A, MASTER)
;ELSEIF IS_GAY(TARGET,ASSI)
;	A = 5
;	PRINTFORML %EXPNAME:41%+{A}
;	PRINTFORML %EXPNAME:41%(조수)+{A}
;	CALL ADDS_EXP("ＢＬ경험", A, TARGET)
;	CALL ADDS_EXP("ＢＬ경험", A, ASSI)
;ELSEIF IS_GAY(MASTER,ASSI)
;	A = 5
;	PRINTFORML %EXPNAME:41%(주인)+{A}
;	PRINTFORML %EXPNAME:41%(조수)+{A}
;	CALL ADDS_EXP("ＢＬ경험", A, MASTER)
;	CALL ADDS_EXP("ＢＬ경험", A, ASSI)
;ENDIF

;의존도ベクトル
TFLAG:33 = 1

;의존도보정値(主人かつ연모で1、친애で2）
IF TALENT:3 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:6 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF


RETURN 1

;===================================================
;조교타입
;===================================================
@COMTYPE_500
RETURN COMTYPE("派生系")


