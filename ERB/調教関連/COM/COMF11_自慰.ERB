;-------------------------------------------------
;자위
;애무계コマンド、레벨3
;-------------------------------------------------
@ACT_COM11
;자위
;바이브、애널바이브、ビデオ촬영の時に内容변화

;ビデオ촬영中なら공개オナニー
;샤워사용중なら샤워オナニー
;読心中なら読心オナニー
;바이브、애널바이브、或いは両方장비で바이브オナニー
SIF TEQUIP:28
	PRINT 공개
SIF TEQUIP:32
	PRINT 샤워
IF TEQUIP:13 && TEQUIP:14
	PRINT 양구멍바이브
ELSEIF TEQUIP:13
	PRINT 바이브
ELSEIF TEQUIP:14
	PRINT 애널바이브
ENDIF

IF TEQUIP:28 || TEQUIP:32 || TEQUIP:13 || TEQUIP:14
	PRINTL 자위
ELSE
	PRINTL 자위
ENDIF

TSTR:0 = 자위
;CALL KOJO_MESSAGE_COM

;조교대상→조교대상
TFLAG:28 = 4


;-------------------------------------------------
;ソース추가処理
;-------------------------------------------------
;소비체력、기력
DOWNBASE:TARGET:체력 += 5
DOWNBASE:TARGET:기력 += 50

SOURCE:TARGET:쾌Ｃ = 80
SOURCE:TARGET:쾌Ｂ = 80
SOURCE:TARGET:성행위 = 100
SOURCE:TARGET:무서움 = 200
SOURCE:TARGET:중독충족 = 200
SOURCE:TARGET:노출 = 400
SOURCE:TARGET:굴종 = 500
SOURCE:TARGET:일탈 = 300
SOURCE:TARGET:반감 = 250
;바이브
IF TEQUIP:13
	SOURCE:TARGET:굴종 += 100
	SOURCE:TARGET:반감 += 100
	TIMES SOURCE:TARGET:쾌Ｃ , 0.70
	TIMES SOURCE:TARGET:쾌Ｂ , 0.70
ENDIF
;애널바이브
IF TEQUIP:14
	SOURCE:TARGET:굴종 += 150
	SOURCE:TARGET:반감 += 150
	TIMES SOURCE:TARGET:쾌Ｃ , 0.70
	TIMES SOURCE:TARGET:쾌Ｂ , 0.70
ENDIF
;샤워
IF TEQUIP:32
	SOURCE:TARGET:쾌Ｃ += 50
	SOURCE:TARGET:노출 += 100
	SOURCE:TARGET:굴종 += 50
	SOURCE:TARGET:반감 += 80
ENDIF
;ビデオ
IF TEQUIP:28
	SOURCE:TARGET:액체 += 50
	SOURCE:TARGET:욕정 += 100
	SOURCE:TARGET:반감 += 200
ENDIF



;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;억압、저항持ちには、억울ソース추가
SIF TALENT:32 || TALENT:34
	SOURCE:TARGET:울굴 += 400

;중독による중독충족のソースは先に処理しておく
;자위중독を見る
IF ABL:15 == 0
	TIMES SOURCE:TARGET:쾌Ｃ , 1.00
	TIMES SOURCE:TARGET:쾌Ｖ , 1.00
	TIMES SOURCE:TARGET:쾌Ａ , 1.00
	TIMES SOURCE:TARGET:쾌Ｂ , 1.00
	TIMES SOURCE:TARGET:도구쾌Ｃ , 1.00
	TIMES SOURCE:TARGET:도구쾌Ｖ , 1.00
	TIMES SOURCE:TARGET:도구쾌Ａ , 1.00
	TIMES SOURCE:TARGET:도구쾌Ｂ , 1.00
	TIMES SOURCE:TARGET:중독충족 , 0.00
ELSEIF ABL:15 == 1
	TIMES SOURCE:TARGET:쾌Ｃ , 1.10
	TIMES SOURCE:TARGET:쾌Ｖ , 1.10
	TIMES SOURCE:TARGET:쾌Ａ , 1.10
	TIMES SOURCE:TARGET:쾌Ｂ , 1.10
	TIMES SOURCE:TARGET:도구쾌Ｃ , 1.10
	TIMES SOURCE:TARGET:도구쾌Ｖ , 1.10
	TIMES SOURCE:TARGET:도구쾌Ａ , 1.10
	TIMES SOURCE:TARGET:도구쾌Ｂ , 1.10
	TIMES SOURCE:TARGET:중독충족 , 0.30
ELSEIF ABL:15 == 2
	TIMES SOURCE:TARGET:쾌Ｃ , 1.20
	TIMES SOURCE:TARGET:쾌Ｖ , 1.20
	TIMES SOURCE:TARGET:쾌Ａ , 1.20
	TIMES SOURCE:TARGET:쾌Ｂ , 1.20
	TIMES SOURCE:TARGET:도구쾌Ｃ , 1.20
	TIMES SOURCE:TARGET:도구쾌Ｖ , 1.20
	TIMES SOURCE:TARGET:도구쾌Ａ , 1.20
	TIMES SOURCE:TARGET:도구쾌Ｂ , 1.20
	TIMES SOURCE:TARGET:중독충족 , 0.60
ELSEIF ABL:15 == 3
	TIMES SOURCE:TARGET:쾌Ｃ , 1.30
	TIMES SOURCE:TARGET:쾌Ｖ , 1.30
	TIMES SOURCE:TARGET:쾌Ａ , 1.30
	TIMES SOURCE:TARGET:쾌Ｂ , 1.30
	TIMES SOURCE:TARGET:도구쾌Ｃ , 1.30
	TIMES SOURCE:TARGET:도구쾌Ｖ , 1.30
	TIMES SOURCE:TARGET:도구쾌Ａ , 1.30
	TIMES SOURCE:TARGET:도구쾌Ｂ , 1.30
	TIMES SOURCE:TARGET:중독충족 , 0.90
ELSEIF ABL:15 == 4
	TIMES SOURCE:TARGET:쾌Ｃ , 1.50
	TIMES SOURCE:TARGET:쾌Ｖ , 1.50
	TIMES SOURCE:TARGET:쾌Ａ , 1.50
	TIMES SOURCE:TARGET:쾌Ｂ , 1.50
	TIMES SOURCE:TARGET:도구쾌Ｃ , 1.50
	TIMES SOURCE:TARGET:도구쾌Ｖ , 1.50
	TIMES SOURCE:TARGET:도구쾌Ａ , 1.50
	TIMES SOURCE:TARGET:도구쾌Ｂ , 1.50
	TIMES SOURCE:TARGET:중독충족 , 1.20
ELSEIF ABL:15 == 5
	TIMES SOURCE:TARGET:쾌Ｃ , 1.70
	TIMES SOURCE:TARGET:쾌Ｖ , 1.70
	TIMES SOURCE:TARGET:쾌Ａ , 1.50
	TIMES SOURCE:TARGET:쾌Ｂ , 1.50
	TIMES SOURCE:TARGET:중독충족 , 1.50
ELSEIF ABL:15 == 6
	TIMES SOURCE:TARGET:쾌Ｃ , 2.00
	TIMES SOURCE:TARGET:쾌Ｖ , 2.00
	TIMES SOURCE:TARGET:쾌Ａ , 1.70
	TIMES SOURCE:TARGET:쾌Ｂ , 1.70
	TIMES SOURCE:TARGET:도구쾌Ｃ , 2.00
	TIMES SOURCE:TARGET:도구쾌Ｖ , 2.00
	TIMES SOURCE:TARGET:도구쾌Ａ , 1.70
	TIMES SOURCE:TARGET:도구쾌Ｂ , 1.70
	TIMES SOURCE:TARGET:중독충족 , 1.80
ELSEIF ABL:15 == 7
	TIMES SOURCE:TARGET:쾌Ｃ , 2.30
	TIMES SOURCE:TARGET:쾌Ｖ , 2.30
	TIMES SOURCE:TARGET:쾌Ａ , 2.00
	TIMES SOURCE:TARGET:쾌Ｂ , 2.00
	TIMES SOURCE:TARGET:도구쾌Ｃ , 2.30
	TIMES SOURCE:TARGET:도구쾌Ｖ , 2.30
	TIMES SOURCE:TARGET:도구쾌Ａ , 2.00
	TIMES SOURCE:TARGET:도구쾌Ｂ , 2.00
	TIMES SOURCE:TARGET:중독충족 , 2.10
ELSEIF ABL:15 == 8
	TIMES SOURCE:TARGET:쾌Ｃ , 2.50
	TIMES SOURCE:TARGET:쾌Ｖ , 2.50
	TIMES SOURCE:TARGET:쾌Ａ , 2.50
	TIMES SOURCE:TARGET:쾌Ｂ , 2.50
	TIMES SOURCE:TARGET:도구쾌Ｃ , 2.50
	TIMES SOURCE:TARGET:도구쾌Ｖ , 2.50
	TIMES SOURCE:TARGET:도구쾌Ａ , 2.50
	TIMES SOURCE:TARGET:도구쾌Ｂ , 2.50
	TIMES SOURCE:TARGET:중독충족 , 2.40
ELSEIF ABL:15 == 9
	TIMES SOURCE:TARGET:쾌Ｃ , 3.00
	TIMES SOURCE:TARGET:쾌Ｖ , 3.00
	TIMES SOURCE:TARGET:쾌Ａ , 3.00
	TIMES SOURCE:TARGET:쾌Ｂ , 3.00
	TIMES SOURCE:TARGET:도구쾌Ｃ , 3.00
	TIMES SOURCE:TARGET:도구쾌Ｖ , 3.00
	TIMES SOURCE:TARGET:도구쾌Ａ , 3.00
	TIMES SOURCE:TARGET:도구쾌Ｂ , 3.00
	TIMES SOURCE:TARGET:중독충족 , 3.00
ELSEIF ABL:15 >= 10
	TIMES SOURCE:TARGET:쾌Ｃ , 3.50
	TIMES SOURCE:TARGET:쾌Ｖ , 3.50
	TIMES SOURCE:TARGET:쾌Ａ , 3.50
	TIMES SOURCE:TARGET:쾌Ｂ , 3.50
	TIMES SOURCE:TARGET:도구쾌Ｃ , 3.50
	TIMES SOURCE:TARGET:도구쾌Ｖ , 3.50
	TIMES SOURCE:TARGET:도구쾌Ａ , 3.50
	TIMES SOURCE:TARGET:도구쾌Ｂ , 3.50
	TIMES SOURCE:TARGET:중독충족 , 5.00
ENDIF


;-------------------------------------------------
;불결の処理
;-------------------------------------------------
;奴隷の指⇔奴隷のＢの불결が移動
CALL MOVE_STAIN("손", TARGET, "가슴", TARGET)
;奴隷の指⇔奴隷のＶの불결が移動
CALL MOVE_STAIN("손", TARGET, "바기나", TARGET)
;奴隷の가슴⇔奴隷のＶの불결が移動
CALL MOVE_STAIN("가슴", TARGET, "바기나", TARGET)

;샤워オナニーの場合불결を리셋、윤활更に半分。
IF TEQUIP:32 == 1
	RESET_STAIN TARGET
	PALAM:4 /= 2
ENDIF

;-------------------------------------------------
;경험の処理
;-------------------------------------------------
;ビデオ촬영時は경험にプラス
IF TEQUIP:28
	CALL ADDS_EXP("자위경험", 2, TARGET)
	;PRINTL 자위경험＋２
	CALL ADDS_EXP("조교자위경험", 2, TARGET)
	;PRINTL 조교자위경험＋２
ELSE
	CALL ADDS_EXP("자위경험", 1, TARGET)
	;PRINTL 자위경험＋１
	CALL ADDS_EXP("조교자위경험", 1, TARGET)
	;PRINTL 조교자위경험＋１
ENDIF
;공개オナニー時は이상경험付加
IF TEQUIP:28 || TEQUIP:46
	CALL ADDS_ABNORMAL_EXP("공개자위", TARGET)
;	EXP:50 += 1
;	PRINTL 이상경험＋１
ENDIF

;촬영時の조교内容체크
IF TEQUIP:13 && TEQUIP:14
	TFLAG:90 = 993
ELSEIF TEQUIP:13
	TFLAG:90 = 991
ELSEIF TEQUIP:14
	TFLAG:90 = 992
ELSEIF TEQUIP:32
	TFLAG:90 = 994
ENDIF

A = 3
IF IS_LESBIAN(TARGET,PLAYER)
	CALL ADDS_EXP("레즈경험", A, TARGET)
	CALL ADDS_EXP("레즈경험", A, PLAYER)
ELSEIF IS_GAY(TARGET,PLAYER)
	CALL ADDS_EXP("ＢＬ경험", A, TARGET)
	CALL ADDS_EXP("ＢＬ경험", A, PLAYER)
ENDIF

;의존도ベクトル
TFLAG:33 = 3

;의존도보정値(복종で1、예속で2）
IF TALENT:5 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:8 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF


RETURN 1
;-------------------------------------------------
;実行판정処理
;가슴자위と同じ部分は가슴자위で処理
;-------------------------------------------------
@COM_ORDER_11, ARG, ARG:1
IF TEQUIP:ARG:음문발동
	CALL ADD_COM_ORDER, "판정無視", "음문 발동중"
	RETURN 0
ENDIF
CALL COM_ORDER_10, ARG, ARG:1
;난이도上昇 공개で+10、바이브で+5、애널바이브で+5、샤워で＋3
;SIF TEQUIP:ARG:비디오카메라
;	CALL ADD_COM_ORDER, "EXTRA", "비디오카메라", -10, ARG, ARG:1
SIF TEQUIP:ARG:바이브

	CALL ADD_COM_ORDER, "EXTRA", "바이브", -5, ARG, ARG:1
SIF TEQUIP:ARG:애널바이브
	CALL ADD_COM_ORDER, "EXTRA", "애널바이브", -5, ARG, ARG:1
SIF TEQUIP:ARG:샤워
	CALL ADD_COM_ORDER, "EXTRA", "샤워", -3, ARG, ARG:1
;-------------------------------------------------
;実行値
;-------------------------------------------------
@COM_ORDER_NUM_11
RETURN 33

;===================================================
;조교타입
;===================================================
@COMTYPE_11
RETURN COMTYPE("애무계")
