@SELECT_RANDOM_CHARA
#DIM CHARA, 1
#DIM LINE, 2
#DIM LINE2, 2

$ROUYA_LOOP2
LINE = LINECOUNT
DRAWLINE
IF 이벤트플래그:88:0 == 0
	LOCAL:4 = -1
ELSE
	PRINTFORML 　　어떤 타입의 노예를 찾습니까？
	;랜덤キャラボーナス
	;횟수で色々해방
	SETCOLOR COLOR("PINK")
	;3人눈ボーナス
	SIF 이벤트플래그:88:0 > 1
		PRINTFORML ☆체력・기력 보너스(하한치+500/상한치+1000)
	;4人눈ボーナス
	SIF 이벤트플래그:88:0 > 2
		PRINTFORML ☆소질 발현율 UP
	;;5人눈ボーナス(隠しボーナス扱い)
	;;(링크악마の高Lv率UP。도구지식とかオマケが付く場合がある。純サマは自動스킬を깨달음えるように)
	;SIF 이벤트플래그:88:0 > 2
	;	PRINTFORML ☆그 외 뭔가 잡다한 강화
	RESETCOLOR

	;타입選択
	LOCAL:1 = 0
	FOR LOCAL, 4901, 4912
		IF LOCAL == 4911
			PRINT [-1] 적당히 고른다
		ELSE
			SIF !EXISTCSV(LOCAL, 0)
				CONTINUE
			PRINTFORM %@"[{LOCAL-4901,2}] %CSVCALLNAME(LOCAL, 0)%", 24, LEFT%
		ENDIF
		SIF LOCAL:1 % 3 == 2
			PRINTL 
		LOCAL:1++
	NEXT
	INPUT
	SIF !RANGE(RESULT, -1, 99)
		RESTART
	LOCAL:4 = RESULT == -1 ? -1 # 4901+RESULT
ENDIF
$ROUYA_LOOP3
LOCAL:6 = 1

FOR LOCAL:5, 0, LOCAL:6
	CALL MAKE_RANDOM_CHARA, LOCAL:4, RAND(1, 10)
	LOCAL:7 = RESULT
	CHARA = RESULT:1
	LOCAL:9 = RESULT:2
	IF RESULT
		;확인する際は1、しないなら0
		IF 0
			PRINTL 스킬
			FOR LOCAL, 1, 20
				LOCALS = \@CFLAG:CHARA:초기링크악마 ? 초기변신악마# \@스킬{LOCAL}
				IF ABL:CHARA:LOCALS > 0
					CALLFORM SKILL_NAME_{ABL:CHARA:LOCALS}
					PRINTFORML [{LOCAL}] %RESULTS%
				ENDIF
			NEXT
			PRINTL 습득
			FOR LOCAL, 1, 20
				LOCALS = \@CFLAG:CHARA:초기링크악마 ? 초기변신악마# \@습득스킬{LOCAL}
				LOCALS:1 = \@CFLAG:CHARA:초기링크악마 ? 초기변신악마# \@습득LV{LOCAL}
				IF ABL:CHARA:LOCALS > 0
					CALLFORM SKILL_NAME_{ABL:CHARA:LOCALS}
					PRINTFORML [{LOCAL}] %RESULTS%(Lv{ABL:CHARA:(LOCALS:1)})
				ENDIF
			NEXT
		ENDIF
		;확인する際は1
		SIF 1
			LINE2 = LINECOUNT
			CALL CHECK_RANDOM_CHARA,CHARA,LOCAL:9
		IF RESULT == 0
			PRINTFORML 　　다른 노예를 찾습니다・・・
			TWAIT 1000,0
			CLEARLINE LINECOUNT - LINE
			GOTO ROUYA_LOOP2
		ELSEIF RESULT == 9
			PRINTFORML 　　다른 노예를 찾습니다・・・
			TWAIT 1000,0
			CLEARLINE LINECOUNT - LINE2
			GOTO ROUYA_LOOP3
		ENDIF
	ENDIF
NEXT

