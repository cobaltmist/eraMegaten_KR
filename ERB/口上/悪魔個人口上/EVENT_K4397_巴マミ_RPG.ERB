@BATTLE_MESSAGE_K4397, ARG,ARG:1 = 0
LOCAL:1 = 1
LOCAL = CFLAG:ARG:입력행동
LOCALS = "EMPTY"

;붕괴してる場合は구상표시しない
;몇몇 이탈리아어 기술명은 마마마 포터블에서 찾을 수 있었음. 링크는 아래
;https://namu.wiki/w/%EB%A7%88%EB%B2%95%EC%86%8C%EB%85%80%20%EB%A7%88%EB%8F%84%EC%B9%B4%E2%98%86%EB%A7%88%EA%B8%B0%EC%B9%B4%20%ED%8F%AC%ED%84%B0%EB%B8%94/%EC%8A%A4%ED%82%AC%20%EC%A0%95%EB%B3%B4#s-2.2
;나머지는 괜히 한글로 바뀐 것도 있고 해서 번역을 못 함. 어디 나오는 기술명인지 정보도 없고...
SIF TALENT:ARG:9
	RETURN 0

CALLFORM SKILL_EFECT_{LOCAL}
IF RESULT == 1
	CALLFORM SKILL_TYPE_{CFLAG:ARG:입력행동}
	SELECTCASE RESULT
		;검격
		CASE 0
			IF RAND:2
				LOCALS = 리본이여、베어갈라라！
			ELSE
				LOCALS = 총 뿐이라고 생각했어？유감이네。
			ENDIF
		;비구
		CASE 1
			IF RAND:2
				LOCALS = 토카、티로、다시 토카！
					;마마마 포터블에 토카라는 기술이 있음
			ELSE
				LOCALS = 마탄의 무도、춤추는 마법소녀！
			ENDIF
		;타격
		CASE 2
			IF RAND:2
				LOCALS = 좀 떨어져줄래？
			ELSE
				LOCALS = 총 뿐이라고 생각했어？유감이네。
			ENDIF
		;전술
		CASE 3
			IF RAND:2
				LOCALS = 리본이여、물어뜯어라！
			ELSE
				LOCALS = 총 뿐이라고 생각했어？유감이네。
			ENDIF
		;화염
		CASE 4
			IF RAND:2
				LOCALS = 『라・팔로톨라・체・브루시아』！ 
					;La pallottola che brucia, 불태우는 탄환
			ELSE
				LOCALS =  새까맣게 타버렸네！
			ENDIF
		;빙결
		CASE 5
			IF RAND:2
				LOCALS = 『우나・팔로톨라・기아치아타』！ 
					;Una pallottola ghiacciatta, 빙설의 탄환
			ELSE
				LOCALS = 『이터널 포ー…』　…아무것도 아냐。
					;이터널 포스 블리자드
			ENDIF
		;전격
		CASE 6
			IF RAND:2
				LOCALS = 『라・팔로톨라・디무・투오노』！ 
					;La pallottola (?) tuono, 천둥의 탄환
			ELSE
				LOCALS = 마비되어주세요？
			ENDIF
		;충격
		CASE 7
			IF RAND:2
				LOCALS = 『온다・디무・코르포』！
					;어디서 나오는 건지는 모르겠음.
			ELSE
				LOCALS = 충격파로 직접 쏴맞추는 거야！
					;충격波を直接打ち込む
			ENDIF
		;신경
		CASE 8	
			IF RAND:2
				LOCALS = 『フレティア・디무・ベレノ』！
					;이것도 역시 모름.
			ELSE
				LOCALS = 독으로 약화되는 거야！
			ENDIF
		;정신
		CASE 9
			IF RAND:2
				LOCALS = 어때？무서워？나 말이야。
			ELSE
				LOCALS = 사쿠라 씨 정도까진 아니어도、쓸만하다고？
			ENDIF
		;파마
		;ここらへんからネタが切れる
		CASE 10
			IF RAND:2
				LOCALS = 『파사의 힘으로…』　…아무것도 아냐。
					;원래는 『파사の힘で相手はし…』였음. 그런데 相手はし는 上손はし를 잘못 쓴 게 아닌가 싶음. 사실 문제는 저 'はし'다음에 뭐가 이어지는지를 모른다는 거임.
			ELSE
				LOCALS = 빛으로 돌아가세요！
			ENDIF
		;주살
		CASE 11
			LOCALS = 『버닝・다크・플레…』　…아무것도 아냐。
		;지변
		;うっせぇ
		CASE 12
			IF RAND:2
				LOCALS = 地속성ってあんまりネタがな…　…何でもないわ。
			ELSE
				LOCALS = 地속성って文字通り地味…　…何も言ってないわ。
			ENDIF
					;언어유희는 너무 어려웠음. 죄송할 따름...
		;수격
		CASE 13
			IF RAND:2
				LOCALS = 『ラッセロ・라비ドー』！
			ELSE
				LOCALS = 물이라도 뒤집어쓰고 반성하세요！
			ENDIF
		;질풍
		CASE 14
			IF RAND:2
				LOCALS = 『ラ・パロッタ・디무・ウン・タービン』！
			ELSE
				LOCALS = 바람이여！적을 찢어발겨라！
			ENDIF
		;중력
		;デブさんをマミって言ったやつは天誅
		CASE 15
			IF RAND:2
				LOCALS = 케이크만 먹고 있는 건 아냐！　…관계없지만。
			ELSE
				LOCALS = 가슴이 크고 뚱뚱해보인다는 거네。　…관계없지만。
			ENDIF
		;핵열
		;「勇気」を「유귀」に変換するうろぶちワープロ
		CASE 16
			IF RAND:2
				LOCALS = 『우나・팔로톨라・솔라레』！
					;Una pallottola solare, 태양의 탄환
			ELSE
				LOCALS = 태양이여！ 사랑에 용기를 더해줘！
			ENDIF
		;만능
		CASE 17
			LOCALS = 모든 마력을 이 일격에…！
		;사이코
		;CASE 18
		CASEELSE
			LOCALS = 저、당신、マルカジリ！
				;마루카지리가 뭔지 몰라서 번역을 못 함.
	ENDSELECT
;회복
ELSEIF RESULT == 2 && RAND:3 == 0
	IF CFLAG:ARG:타겟 > 6
		IF RAND:2
			LOCALS = 여러분！　지금、회복합니다！
		ELSE
			LOCALS = 모두 건강하게 되어라%UNICODE(0x2661)%
		ENDIF
	ELSE
		IF FLAG:(CFLAG:ARG:타겟) == 0 && 함락(ARG)
			IF RAND:2
				LOCALS = 주인님、상처를 치유합니다！
			ELSE
				LOCALS = 당신은 여기서 죽어선 안 돼！
			ENDIF
		ELSE
			IF RAND:2
				LOCALS = 아픔아 아픔아、날아가라！
			ELSE
				LOCALS = 치친프이프이、대승 브이%UNICODE(0x2661)%
			ENDIF
		ENDIF
	ENDIF
;상태변화
;ELSEIF RESULT == 3
;特殊
;ELSEIF RESULT == 4
;상태회복
ELSEIF RESULT == 5
;ELSE
	IF RAND:3 == 0
		LOCALS = 《アバーッ！》
	ELSEIF RAND:2
		LOCALS = 《イヤーッ！》
	ELSE
		LOCALS = 《グワーッ！》
	ENDIF
ENDIF

;롯소・판타즈마
IF LOCAL == 2995
	SELECTCASE RAND:3
	CASE 0
		LOCALS = 『롯소・판타즈마』！！！　…언제 들어도 좋은 이름이네.
	CASE 1
		LOCALS = 빌릴게、사쿠라！　『롯소・판타즈마』！！！
	CASEELSE
		LOCALS = 이 마법을 내가 사용…인과네。
	ENDSELECT
;티로・피날레
ELSEIF LOCAL == 2997

	SELECTCASE RAND:7
	CASE 0
		LOCALS = 『티로・피날레』！！！
	CASE 1
		LOCALS = 티로・피나아아아아아ーーー알레！！！
	CASE 2
		LOCALS = 멈춰！　『티로・피날레』！！！
	CASE 3
		LOCALS = 제거한다！　『티로・피날레』！！！
	CASE 4
		LOCALS = 빈틈투성이네！　『티로・피날레』！！！
	CASE 5
		LOCALS = 『필로・피날레』！！！　　　　　…어라？
	CASEELSE
		LOCALS = 티이이로・피나알ーーー레！！！
	ENDSELECT

;이하 마마마 포터블에서 가져온 기술명들
;108_찰나장대비쏘기
ELSEIF LOCAL == 108
	LOCALS = 『무한의 마탄』！
;112_연속사격
ELSEIF LOCAL == 10
	LOCALS = 『티로・보레』！
;113_산탄사격
ELSEIF LOCAL == 25
	LOCALS = 『티로・도피에타』！
;125_멸살수전
ELSEIF LOCAL == 229
	LOCALS = 『봄바르다멘토』！
;bombardaménto
;223_뇌정축
ELSEIF LOCAL == 230
	LOCALS = 좀 떨어져줄래？『황금의 미각(黄金の美다리)』！
;508_스쿤・다
ELSEIF LOCAL == 328
	LOCALS = 미봉책이지만、이걸로 몸을 지킬 정도의 도움은 되겠지。
;601_테트라쟈
ELSEIF LOCAL == 502
	LOCALS = 이걸로 이제 괜찮아！
;1101_시바브
ELSEIF LOCAL == 515
	LOCALS = 『레가레』！
;1122_파라라・웨이브
ELSEIF LOCAL == 516
	LOCALS = 『레가레・바스타리아』！
ENDIF

SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)

@BATTLE_EVENT_K4397, ARG, ARG:1, ARG:2
SIF ARG < 0 && NO:ARG != 4518
	RETURN 0
LOCAL:1 = 1
LOCALS = EMPTY
SELECTCASE TFLAG:전투이벤트
	;COOP発動 ARGは発動者
	CASE 1
		IF RAND:3 == 0
			LOCALS = 가랏！
		ELSEIF !RAND:2
			LOCALS = 이걸로 마지막이야！
		ELSE
			LOCALS = 단번에 결정내버리는 거야！
		ENDIF
	CASE 2
	;공격　ARGが공격을する仲魔、ARG:1が적、ARG:2が데미지量
	CASE 11
		CALLFORM SKILL_TYPE_{CFLAG:ARG:입력행동}
		LOCAL = MAXBASE:(ARG:1):GET_TYPE(RESULT)
		;相手が死んだ
		IF BASE:(ARG:1):ＨＰ <= 0
			IF 함락(ARG) && RAND:2
				LOCALS = 너무 보기 흉한 꼴은 보일 수 없네。
			ELSE
				IF RAND:2
					LOCALS = 일 하나는 해결됐네。
				ELSE
					LOCALS = 지는 건가요。
				ENDIF
			ENDIF
		;약점をついた。つまりCOOP
		ELSEIF LOCAL > 100 && LOCAL < 999
			IF CFLAG:(ARG:1):방어플래그
				LOCALS = 그렇게 간단히는 가지 않는 건가。
			ELSE
				;こっちはCOOP発動に回すためにカット
				RETURN 0
			ENDIF
		;大데미지
		ELSEIF 데미지비율(ARG:1, ARG:2) > 50
			IF RAND:2
				LOCALS = 앞으로 조금밖에 안 남았네。
			ELSE
				LOCALS = 또 한 발…！
			ENDIF
		ELSEIF 데미지비율(ARG:1, ARG:2) > 20
			IF RAND:2
				LOCALS = 견제는 순조롭네。
			ELSE
				LOCALS = 다음 머스켓을 보충！
			ENDIF
		ELSEIF 데미지비율(ARG:1, ARG:2) > 0
			IF RAND:2
				LOCALS = 꽤 끈질기네！
			ELSE
				LOCALS = 급소가 아닌 건가。
			ENDIF
		;무효화された
		ELSEIF ARG:2 == 0
			IF RAND:2
				LOCALS = 거짓말、효과가 없어…！？
			ELSE
				LOCALS = 그런！？
			ENDIF
		;흡수された
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = 이런 일이 일어나다니！
			ELSE
				LOCALS = 공격을 먹었다고！？
			ENDIF
		ENDIF
	;피데미지
	;ARGが공격을受ける仲魔、ARG:1が적、ARG:2が데미지量
	CASE 12
		;死んだ
		IF BASE:ARG:ＨＰ <= 0
			IF 함락(ARG) && RAND:2
				LOCALS = 내 몸、이제 움직이지 않네…죄송해요、주인…ㄴ…
			ELSE
				IF RAND:2
					LOCALS = 또、죽어버리는 거네…
				ELSE
					LOCALS = 에…？
				ENDIF
			ENDIF
		;大데미지
		;死亡フラーグ
		ELSEIF 데미지비율(ARG, ARG:2) > 50 || 현HP비율(ARG) < 25
			IF 함락(ARG) && RAND:2
				LOCALS = 나、혼자가 아닌 걸…！
			ELSE
				IF RAND:2
					LOCALS = 이제 아무것도 두렵지 않아…！
				ELSE
					LOCALS = 몸이 가벼워…！
				ENDIF
			ENDIF
		ELSEIF 데미지비율(ARG, ARG:2) > 20
			IF RAND:2
				LOCALS = 좀 방심해버렸어。
			ELSE
				LOCALS = 꽤 하잖아！
			ENDIF
		ELSEIF 데미지비율(ARG, ARG:2) > 0
			IF RAND:2
				LOCALS = 다치지는 않은 건가。
			ELSE
				LOCALS = 얕아！
			ENDIF
		;무효
		ELSEIF ARG:2 == 0
			IF RAND:2
				LOCALS = 방어！
			ELSE
				LOCALS = 네、유감입니다！
			ENDIF
		;흡수
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = 공격이 소울젬에 흡수됐다！？
			ELSE
				LOCALS = 앗！　기、기분좋아ー%UNICODE(0x2661)%
			ENDIF
		ENDIF
	CASE 15
		;被반사
		PRINTFORMW ARG:2 = {ARG:2}
		IF RAND:2
			LOCALS = 거짓말이지…！？
		ELSE
			LOCALS = 자기 공격이 이렇게나 아픈 건…！
		ENDIF
	CASE 16
		;반사
		IF RAND:2
			LOCALS = 답례품이야！
		ELSE
			LOCALS = 튕겨나라！
		ENDIF
	CASE 17
		;적회피
		IF RAND:2
			LOCALS = 반응、빠르잖아！？
		ELSE
			LOCALS = 움직임、빠르잖아！？
		ENDIF
	CASE 18
		;自分회피
		IF RAND:2
			LOCALS = 이제、구경거리가 아니라고？
		ELSE
			LOCALS = 하앗！
		ENDIF
ENDSELECT
SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)
