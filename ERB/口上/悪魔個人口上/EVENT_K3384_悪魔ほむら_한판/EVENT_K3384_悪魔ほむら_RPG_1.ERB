@BATTLE_MESSAGE_K3384_1, ARG,ARG:1 = 0
LOCAL:1 = 1
LOCAL = CFLAG:ARG:입력행동
LOCALS = 얼른 처리해버리자？

;붕괴してる場合は구상표시しない
SIF TALENT:ARG:9
	RETURN 0

;必死にくるみ割り人形のモチーフを加えてみた
CALLFORM SKILL_EFECT_{LOCAL}
IF RESULT == 1 && RAND:3 == 0
	CALLFORM SKILL_TYPE_{CFLAG:ARG:입력행동}
	SELECTCASE RESULT
		;검격
		CASE 0
			IF RAND:2
				LOCALS = 철저하게 찢겨져버리세요
			ELSE
				LOCALS = 특별히 원한은 없지만、미안해
			ENDIF
		;비구
		CASE 1
			IF RAND:2
				LOCALS = 옛날 생각이 나네…%UNICODE(0x2661)%
			ELSE
				LOCALS = 이렇게되고 나서도 사격이라니 과거의 습관은 역시 바뀌지 않는거네
			ENDIF
		;타격
		CASE 2
			IF RAND:2
				LOCALS = 부서져버려、저주받은 인형처럼
			ELSE
				LOCALS = 작은 소녀의 일격 맛은 어때？
			ENDIF
		;전술
		CASE 3
			IF RAND:2
				LOCALS = 후후、산산조각내줄게…%UNICODE(0x2661)%
			ELSE
				LOCALS = 쓸데없는 시간낭비는 하고싶지 않아
			ENDIF
		;화염
		CASE 4
			IF RAND:2
				LOCALS = 먼지가 되세요
			ELSE
				LOCALS = 악마가 휘두르는 지옥의 불길의 맛은 어떨까？
			ENDIF
		;빙결
		CASE 5
			IF RAND:2
				LOCALS = 눈송이가 신나게 춤추고 있군요…
			ELSE
				LOCALS = 비참하게 속박당해봐、이전의 私처럼
			ENDIF
		;전격
		CASE 6
			IF RAND:2
				LOCALS = 후후、마음껏 부들부들하고 떨어보세요…！
			ELSE
				LOCALS = 움직이지 말렴、매우 성가시니까
			ENDIF
		;충격
		CASE 7
			IF RAND:2
				LOCALS = 지금의 私라면 날려버리는 것쯤은 할 수 있어
			ELSE
				LOCALS = 이것이라면 어떨까
			ENDIF
		;신경
		CASE 8	
			LOCALS = 私에게 제대로 된 신경 마법이라니、딱히 특별히 없는걸
		;정신
		CASE 9
			IF RAND:2
				LOCALS = 후후、당신의 기억은 정말 정확할까요？
			ELSE
				LOCALS = 꿈이라도 꾸세요、작은 클라라처럼
;くるみ割り人形の主人公、人形サイズに小さくなる、夢落ちで終わる場合を採用
			ENDIF
		;파마
		CASE 10
			IF RAND:2
				LOCALS = 마도카의 힘의 일부、이런 형태로 쓰이는거구나
			ELSE
				LOCALS = 원환의 이치로 되돌아가라
			ENDIF
		;주살
		CASE 11
			IF RAND:2
				LOCALS = 사악한 힘、그 힘에 대한 감상은 어떠니？
			ELSE
				LOCALS = 성스러운 것을 아래로 끌어내리는、이 힘에 대한 감상은 어떠니？
			ENDIF
		;지변
		CASE 12
			LOCALS = 지금의 私라면 대지를 조종하는 것 정돈 별거 아니야
		;수격
		CASE 13
			IF RAND:2
				LOCALS = 머리를 식혀볼래？
			ELSE
				LOCALS = 비참하게 익사하세요、불쌍한 인어공주처럼 말이야
			ENDIF
		;질풍
		CASE 14
				LOCALS = 날려버려줄게…
		;중력
		CASE 15
			IF RAND:2
				LOCALS = 무너져버려、그 죄를 가득떠안고!
			ELSE
				LOCALS = 격렬하게 갈까、안대의 그녀처럼.
			ENDIF
		;핵열
		CASE 16
			IF RAND:2
				LOCALS = 사라져버려、그 영혼까지도 전부!
			ELSE
				LOCALS = 만약 그때 이것이 쓰였다면、승산이 있지 않았을까？
			ENDIF
		;만능
		CASE 17
			LOCALS = 신에게 반역한 힘의 일부를、잘 맛보도록 하렴
		;사이코
		;CASE 18
		CASEELSE
			LOCALS = アタシ、アンタ、マルカジリ！
	ENDSELECT
;회복
ELSEIF RESULT == 2
	IF CFLAG:ARG:타겟 > 6
		IF RAND:2
			LOCALS = 상처를 치유하는 것 정도는、지금 私에겐 별거 아니야
		ELSE
			LOCALS = 겨우 그 정도로 악을 쳐부술 수 있을거라 생각했어？
		ENDIF
	ELSE
		IF RAND:2
			LOCALS = 일른 일어서、고작 그 정도밖에는 안되는 건 아니겠지？
		ELSE
			LOCALS = 눈에 거슬리긴 하지만、당신은 아직 필요해
		ENDIF
	ENDIF
;상태変化
;ELSEIF RESULT == 3
;特殊
;ELSEIF RESULT == 4
;상태회복
ELSEIF RESULT == 5
	LOCALS = 만약 자는 척하고 있다면 쳐죽이기 전에、얼른 일어나!
ENDIF

;사랑을품은검은날개
IF LOCAL == 2988
	LOCALS = 세계를 변화시키는 힘、그 몸으로 받으세요

;찰나장대비쏘기ち
ELSEIF LOCAL == 108
	LOCALS = 충분히 단련된 사격실력、그 몸으로 제대로 감상하세요！
;연속사격
ELSEIF LOCAL == 112
	LOCALS = 당신의 속도로 私를 따라올 수 있을까나？
;비구가드브레이크
ELSEIF LOCAL == 129
	LOCALS = 어느 누구나 私의 탄환을 피할 수 없을거야……！
;타루카쟈
ELSEIF LOCAL == 501
	LOCALS = 제대로 공격을 꽃아넣으세요
;스쿠카쟈
ELSEIF LOCAL == 502
	LOCALS = 이 마법을 쓰고 있자면 옛날생각이 나네
;마카카쟈
ELSEIF LOCAL == 503
	LOCALS = 약간 마력을 융통해 드릴까나？
;라쿠카쟈
ELSEIF LOCAL == 504
	LOCALS = 당신은 빈틈이 너무 크지 않아？
;デクンダ
ELSEIF LOCAL == 505
	LOCALS = 그런 짓 해봤자 다 헛수고야
;스쿤다
ELSEIF LOCAL == 507
	LOCALS = 후후후、놓치지 않-을거야
;デカジャ
ELSEIF LOCAL == 509
	LOCALS = 쓸데없이 발악해봤자 쓸모없어
;기합
ELSEIF LOCAL == 511
	LOCALS = 이건 마도카를 위해서가 아냐! 나 자신을 위해서야!
;컨센트레이트
ELSEIF LOCAL == 512
	LOCALS = 집중이 필요해…
;도발
ELSEIF LOCAL == 515
	LOCALS = 옛날의 私보다 더 약해빠졌어、망가진 인형같아
;리벨리온
ELSEIF LOCAL == 516
	LOCALS = 자、시작해볼까?
;이악물기
;불굴의투지
ELSEIF LOCAL == 2406 || LOCAL == 2407
	LOCALS = 아하하하、이때를 기다렸어
;스쿠카쟈오토
ELSEIF LOCAL == 2417
	LOCALS = 옛날에 쓰던 마법이 떠오르네…
ELSEIF LOCAL == 2981
	LOCALS = 사라져버려、원환의 이치에 의해
ELSEIF LOCAL == 420
	LOCALS = 私의 사랑을 볼 생각일까나？
ELSEIF LOCAL == 539
	LOCALS = 마(魔)의 힘의 일부를 보여드리죠
ELSEIF LOCAL == 1406
	LOCALS = 마(魔)라는 건 무엇인지、가르쳐줄게…
ELSEIF LOCAL == 1838
	LOCALS = 그래、私는 아침이 오는 꿈을 보곤 해… 영원히 끝나지 않는 밤중에 말야…
ENDIF

SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)

@BATTLE_EVENT_K3384_1, ARG, ARG:1, ARG:2
SIF ARG < 0 && NO:ARG != 4518
	RETURN 0
LOCAL:1 = 1
LOCALS = EMPTY
SELECTCASE TFLAG:전투이벤트
	;COOP発動 ARGは発動者
	CASE 1
		IF RAND:3 == 0
			LOCALS = 뭐어、부디 고이 잠드시길
		ELSEIF !RAND:2
			LOCALS = 찬스는 만들었어、나머지는 좋을대로 날뛰어줘
		ELSE
			LOCALS =  저딴 빈틈, 노리는 건 식은 죽 먹기아냐？
		ENDIF
	CASE 2
		IF RAND:3 == 0
			LOCALS = 죽어버리세요
		ELSEIF !RAND:2
			LOCALS = 부디 찌그러져 주시길
		ELSE
			LOCALS = 얼른 멸(滅)해줄게…
		ENDIF
	;공격　ARGが공격をする仲魔、ARG:1が적、ARG:2がダメージ量
	CASE 11
		CALLFORM SKILL_TYPE_{CFLAG:ARG:입력행동}
		LOCAL = MAXBASE:(ARG:1):GET_TYPE(RESULT)
		;相手が死んだ
		IF BASE:(ARG:1):ＨＰ <= 0
			IF 함락(ARG) && RAND:2
				LOCALS = 사요나라、이제 만날 일도 없겠죠。
			ELSE
				IF RAND:2
					LOCALS = 다음으로 사라지고 싶은 것은 누굴까?
				ELSE
					LOCALS = 고작 그 정도의 힘으로、私를 이길 수 있다고 생각했니？
				ENDIF
			ENDIF
		;弱点をついた。つまりCOOP
		ELSEIF LOCAL > 100 && LOCAL < 999
			IF CFLAG:(ARG:1):방어플래그
				LOCALS = 단지 막았을 뿐인거야？ 별거 아니네
			ELSE
				;こっちはCOOP発動に回すためにカット
				RETURN 0
			ENDIF
		;大ダメージ
		ELSEIF 데미지비율(ARG:1, ARG:2) > 50
			IF RAND:2
				LOCALS = 어라、고작 그 정도？
			ELSE
				LOCALS = 지금 편하게 해줄게。
			ENDIF
		ELSEIF 데미지비율(ARG:1, ARG:2) > 20
			IF RAND:2
				LOCALS = 뭐어、고작 이정도일까나?
			ELSE
				LOCALS = 특별히 대단한 것도 아니잖아
			ENDIF
		ELSEIF 데미지비율(ARG:1, ARG:2) > 0
			IF RAND:2
				LOCALS = 어라、쓸데없이 튼튼하네
			ELSE
				LOCALS = 튼튼한 것을 제외하곤 할줄 아는 건 없니？
			ENDIF
		;무효화された
		ELSEIF ARG:2 == 0
			IF 함락(ARG) && RAND:2
				LOCALS = 에헤、이것으론 안될 것 같은데…
			ELSE
				LOCALS = …과연
			ENDIF
		;흡수された
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = 당신、역시나 기분나쁘네
			ELSE
				LOCALS = 당신도 私와 비슷한 부류인거네？ ;円環を흡수したほむほむ
			ENDIF
		ENDIF
	;被ダメージ
	;ARGが공격を受ける仲魔、ARG:1が적、ARG:2がダメージ量
	CASE 12
		;死んだ
		IF BASE:ARG:ＨＰ <= 0
			LOCALS = 미안…。
		;大ダメージ
		ELSEIF 데미지비율(ARG, ARG:2) > 50 || 현HP비율(ARG) < 25
			LOCALS = 그래 맞아、쓰러져 줄만큼 나는 상냥하지 않아
		ELSEIF 데미지비율(ARG, ARG:2) > 20
			IF RAND:2
				LOCALS = 마(魔)의 힘을 말하는 것일까나？
			ELSE
				LOCALS = 생각했던 거보단 제법이구나…
			ENDIF
		ELSEIF 데미지비율(ARG, ARG:2) > 0
			IF RAND:2
				LOCALS = 당신의 그 정도의 힘으로 私에게 맞서려는 거니？
			ELSE
				LOCALS = 아직 물러도 한참 무르네、고작 그 정도야？
			ENDIF
		;無効
		ELSEIF ARG:2 == 0
			IF RAND:2
				LOCALS = 유감이네、私에겐 그런 건 통하지 않아
			ELSE
				LOCALS = 통한다고 생각한거니？　보기보다 우둔하구나。
			ENDIF
		;흡수
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = 어라、힘을 나눠주는거니？
			ELSE
				LOCALS = 엄청 바보네、힘을 줘서 고마워
			ENDIF
		ENDIF
	CASE 15
		;被반사
		PRINTFORMW ARG:2 = {ARG:2}
		IF RAND:2
			LOCALS = 후후、재미있네…
		ELSE
			LOCALS = 재미있는 게 여기 있구나…
		ENDIF
	CASE 16
		;반사
		IF RAND:2
			LOCALS = 악마에게 그런 게 먹힌다고 생각하고 있는걸까、이 악마는?
		ELSE
			LOCALS = 아무런 생각이 없는걸까？
		ENDIF
	CASE 17
		;적회피
		IF RAND:2
			LOCALS = 에헤、약간은 하네
		ELSE
			LOCALS = 그럭저럭은 날렵하네、당신
		ENDIF
	CASE 18
		;自分회피
		IF RAND:2
			LOCALS = 그걸로 공격했다고 할 수 있을까？
		ELSE
			LOCALS = 보기 흉하네、당신
		ENDIF
ENDSELECT
SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)
