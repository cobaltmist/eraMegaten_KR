@BATTLE_MESSAGE_K4398, ARG,ARG:1 = 0
LOCAL:1 = 1
LOCAL = CFLAG:ARG:입력행동
LOCALS = 준비는 됐어?

;붕괴되어 있을 땐 구상 표시 하지 않는다
SIF TALENT:ARG:9
	RETURN 0


CALLFORM SKILL_EFECT_{LOCAL}
IF RESULT == 1 && RAND:3 == 0
	CALLFORM SKILL_TYPE_{CFLAG:ARG:입력행동}
	SELECTCASE RESULT
		;검격
		CASE 0
			IF RAND:2
				LOCALS = 버텨낼 수 있을까!
			ELSE
				LOCALS = 거기야! 때려박아줄게!
			ENDIF
		;비구
		CASE 1
			IF RAND:2
				LOCALS = 표적은 놓치지 않아
			ELSE
				LOCALS = 이것만큼은 질 생각 없어
			ENDIF
		;타격
		CASE 2
			IF RAND:2
				LOCALS = 격투전으로 몰아갈게
			ELSE
				LOCALS = 거기야, 먹어랏!
			ENDIF
		;전술
		CASE 3
			IF RAND:2
				LOCALS = 와이어로 붙잡을게!
			ELSE
				LOCALS = 자, 계속 갈게
			ENDIF
		;화염
		CASE 4
			IF RAND:2
				LOCALS = 다 구워줄게！
			ELSE
				LOCALS = 혼의 한조각 까지 연소시키겠어!
			ENDIF
		;빙결
		CASE 5
			IF RAND:2
				LOCALS = 얼어버려！
			ELSE
				LOCALS = 총만이 득의가 아니라구
			ENDIF
		;전격
		CASE 6
			IF RAND:2
				LOCALS = 마비되버려!
			ELSE
				LOCALS = 상대의 움직임을 제한하려면……！
			ENDIF
		;충격
		CASE 7
			IF RAND:2
				LOCALS = 박살나라!
			ELSE
				LOCALS = 이거라면 어때!
			ENDIF
		;신경
		CASE 8	
			IF RAND:2
				LOCALS = 수단을 가리진 않아
			ELSE
				LOCALS = 상대의 신경계를 파괴한다……！
			ENDIF
		;정신
		CASE 9
			IF RAND:2
				LOCALS = 마음만큼 가냘픈 것도 없지……
			ELSE
				LOCALS = 그 마음을 박살내겠어！
			ENDIF
		;파마
		CASE 10
			IF RAND:2
				LOCALS = 사악이여, 사라져라!
			ELSE
				LOCALS = 나답진 않지만……！
			ENDIF
		;주살
		CASE 11
			LOCALS = 이게 우리들의 저주야
		;지변
		CASE 12
			IF RAND:2
				LOCALS = 흙 맛은 어때?
			ELSE
				LOCALS = 이거 아플걸
			ENDIF
		;수격
		CASE 13
			IF RAND:2
				LOCALS = 머리 좀 식혀볼래?
			ELSE
				LOCALS = 이런 식의 응용도 가능하다고!
			ENDIF
		;질풍
		CASE 14
				LOCALS = 바람이여! 가랏!
		;중력
		CASE 15
			IF RAND:2
				LOCALS = 일그러트려 뭉개버려라 중력이여……！
			ELSE
				LOCALS = 격렬하게 가볼까, 안대쓴 그녀처럼.
			ENDIF
		;핵열
		CASE 16
			IF RAND:2
				LOCALS = 녹아 튀어버려!
			ELSE
				LOCALS = 인류가 낳은 멸망의 빛이여!
			ENDIF
		;만능
		CASE 17
			LOCALS = 이것이, 내가 낼 수 있는 전력!!
		;사이코
		;CASE 18
		CASEELSE
			LOCALS = 나, 너, 먹을래!
	ENDSELECT
;회복
ELSEIF RESULT == 2
	IF CFLAG:ARG:타겟 > 6
		IF RAND:2
			LOCALS = 정말이지, 나도 물러졌네.
		ELSE
			LOCALS = 잘은 못하지만, 하지 못하는 것도 아니야.
		ENDIF
	ELSE
		IF FLAG:(CFLAG:ARG:타겟) == 0 && 함락(ARG)
			IF RAND:2
				LOCALS = 부탁해, 정신차려!
			ELSE
				LOCALS = 무슨 일이 있더라도 당신만큼은 절대로……！
			ENDIF
		ELSE
			IF RAND:2
				LOCALS = 얼른 일어나, 그 정도 심한건 아니잖아?
			ELSE
				LOCALS = 얼른 나아서 복귀해.
			ENDIF
		ENDIF
	ENDIF
;상태변화
;ELSEIF RESULT == 3
;特殊
;ELSEIF RESULT == 4
;상태회복
ELSEIF RESULT == 5
	LOCALS = 정신차려!
ENDIF

;롯소・판타즈마
IF LOCAL == 2995
	SELECTCASE RAND:3
	CASE 0
		LOCALS = ……빌려갈게, 사쿠라 쿄코.
	CASE 1
		LOCALS = 당신은 그녀의 묘기, 알아 볼 수 있을까
	CASEELSE
		LOCALS = 『롯소・판타즈마』！　간다!
	ENDSELECT
;스쿠왈타로레
ELSEIF LOCAL == 2996
	SELECTCASE RAND:3
	CASE 0
		LOCALS = ……빌려갈게, 미키 사야카.
	CASE 1
		LOCALS = 검의 난무, 간다……！
	CASEELSE
		LOCALS = 잘은 못하지만 말이야!
	ENDSELECT
;티로・피날레
ELSEIF LOCAL == 2997
	SELECTCASE RAND:3
	CASE 0
		LOCALS = 마미……네 기술 빌려갈게.
	CASE 1
		LOCALS = 티, 티로……무, 무리야!
	CASEELSE
		LOCALS = 성능은 그렇다 쳐도 네이밍 센스가 좀…….
	ENDSELECT
;침식하는검은날개
ELSEIF LOCAL == 2998
	;연모、친애
	IF TALENT:3 || TALENT:6
		SELECTCASE RAND:3
		CASE 0
			LOCALS = 당신을 위해서……기도여, 퍼져라!
		CASE 1
			LOCALS = 내 전력, 받아봐!!
		CASEELSE
			LOCALS = 검은 날개여, 모든 것을 삼켜버려라!!
		ENDSELECT
	;음란、창부
	ELSEIF TALENT:4 || TALENT:7
		SELECTCASE RAND:3
		CASE 0
			LOCALS = 세계여 물들어라, 내 색으로……
		CASE 1
			LOCALS = 그 비명으로 나를 느끼게 해줘……！
		CASEELSE
			LOCALS = 흑익이여, 쾌락으로 세상을 채워!
		ENDSELECT
	;복종、예속
	ELSEIF TALENT:5 || TALENT:8
		SELECTCASE RAND:3
		CASE 0
			LOCALS = 퍼져라 흑익, 주인을 위하여
		CASE 1
			LOCALS = 내 주인 앞에 무릎을 꿇어라, 어중이 떠중이들. 
		CASEELSE
			LOCALS = 쓰레기들이, 삼켜져버려라
		ENDSELECT
	;それ以外
	ELSE
		LOCALS = 나의……마도카의 바람을 싣고……！
	ENDIF
;피니투라・프레차
ELSEIF LOCAL == 2999
	SELECTCASE RAND:3
	CASE 0
		LOCALS = 부탁해 마도카, 힘을 빌려줘……！
	CASE 1
		LOCALS = 꿰뚫어라, 기원의 화살！
	CASEELSE
		LOCALS = 설령 기억하는 사람이 없게 되더라도……！
	ENDSELECT
;各所から色々と参考にさせていただきました
;찰나장대비쏘기
ELSEIF LOCAL == 108
	LOCALS = 단련한 총술, 그 몸에 새겨 줄게！
;연속사격
ELSEIF LOCAL == 112
	LOCALS = 퀵 드로우! 라, 랄까……나.
;비구가드브레이크
ELSEIF LOCAL == 129
	LOCALS = 내 탄환으로부턴 그 누구도 피해갈 수 없어……！
;타루카쟈
ELSEIF LOCAL == 501
	LOCALS = 제대로 노리자
;스쿠카쟈
ELSEIF LOCAL == 502
	LOCALS = 가속한다……클록업!
;마카카쟈
ELSEIF LOCAL == 503
	LOCALS = 마력을, 바람을 좀더 끌어내!
;라쿠・카쟈
ELSEIF LOCAL == 504
	LOCALS = 방어를 굳건히 해!
;デクンダ
ELSEIF LOCAL == 505
	LOCALS = 시간을, 되돌린다!
;스쿤다
ELSEIF LOCAL == 507
	LOCALS = 쫓아오지 못해, 클록다운!
;デカジャ
ELSEIF LOCAL == 509
	LOCALS = 미안하지만 다시 시작하라구
;기합
ELSEIF LOCAL == 511
	LOCALS = 호무무무무!!
;컨센트레이트
ELSEIF LOCAL == 512
	LOCALS = 호ー무호무……뭇！
;우렁찬외침?
ELSEIF LOCAL == 514
	LOCALS = 마도카아앗―――！！
;도발
ELSEIF LOCAL == 515
	LOCALS = 훗, 겨우 그정도? 당신, 별거 아니네
;리벨리온
ELSEIF LOCAL == 516
	LOCALS = 자, 시작해볼까
;이악물기
ELSEIF LOCAL == 2406
	LOCALS = 이걸로 쓰러질 거라면……처음부터 일어나지도 않아!
;불굴의투지
ELSEIF LOCAL == 2407
	LOCALS = 아직이야……나는 아직 일어날 수 있어. 아직 싸울 수 있어……！
;스쿠카쟈오토
ELSEIF LOCAL == 2417
	LOCALS = 군사는 신속을 명심해……클락 업
;네버기브업
ELSEIF LOCAL == 2958
	LOCALS = 끝났다고? ……정말로 그럴까?
ENDIF

SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)

@BATTLE_EVENT_K4398, ARG, ARG:1, ARG:2
SIF ARG < 0 && NO:ARG != 4518
	RETURN 0
LOCAL:1 = 1
LOCALS = EMPTY
SELECTCASE TFLAG:전투이벤트
	;COOP発動 ARGは発動者
	CASE 1
		IF RAND:3 == 0
			LOCALS = 자, 한방에 끝낼게
		ELSEIF !RAND:2
			LOCALS = 찬스네, 바로 이어갈게
		ELSE
			LOCALS = 이 틈, 놓치지 않아!
		ENDIF
	CASE 2
		IF RAND:3 == 0
			LOCALS = 이어갈게!
		ELSEIF !RAND:2
			LOCALS = 여기서 침몰시켜버리겠어！
		ELSE
			LOCALS = 바보네, 도망치게 둘리가 없잖아!
		ENDIF
	;공격　ARGが공격을する仲魔、ARG:1が적、ARG:2が데미지量
	CASE 11
		CALLFORM SKILL_TYPE_{CFLAG:ARG:입력행동}
		LOCAL = MAXBASE:(ARG:1):GET_TYPE(RESULT)
		;相손が死んだ
		IF BASE:(ARG:1):ＨＰ <= 0
			IF 함락(ARG) && RAND:2
				LOCALS = 안녕, 더 이상 만날 일도 없겠지만.
			ELSE
				IF RAND:2
					LOCALS = 다음에 사라지고 싶은 건 누구일려나.
				ELSE
					LOCALS = 유감이네.
				ENDIF
			ENDIF
		;약점をついた。つまりCOOP
		ELSEIF LOCAL > 100 && LOCAL < 999
			IF CFLAG:(ARG:1):방어플래그
				LOCALS = 큭, 단단하네!
			ELSE
				;こっちはCOOP発動に回すためにカット
				RETURN 0
			ENDIF
		;大데미지
		ELSEIF 데미지비율(ARG:1, ARG:2) > 50
			IF RAND:2
				LOCALS = 공략할게!
			ELSE
				LOCALS = 편히 보내줄게.
			ENDIF
		ELSEIF 데미지비율(ARG:1, ARG:2) > 20
			IF RAND:2
				LOCALS = 다음!
			ELSE
				LOCALS = 집중……！
			ENDIF
		ELSEIF 데미지비율(ARG:1, ARG:2) > 0
			IF RAND:2
				LOCALS = 아직 방심할 수 없네.
			ELSE
				LOCALS = 이어간다!
			ENDIF
		;무효화された
		ELSEIF ARG:2 == 0
			IF 함락(ARG) && RAND:2
				LOCALS = 통하지 않아!?
			ELSE
				LOCALS = 설마 무효화 될 줄이야……！
			ENDIF
		;흡수された
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = 흡수당했다……！？
			ELSE
				LOCALS = 선택을 잘못했네……큭！
			ENDIF
		ENDIF
	;피데미지
	;ARGが공격을受ける仲魔、ARG:1が적、ARG:2が데미지量
	CASE 12
		;死んだ
		IF BASE:ARG:ＨＰ <= 0
			IF 함락(ARG) && RAND:2
				LOCALS = 미안해……용서해줘…….
			ELSE
				IF RAND:2
					LOCALS = 아직……쓰러지고 싶지 않은데…….
				ELSE
					LOCALS = 마도……카……。
				ENDIF
			ENDIF
		;大데미지
		ELSEIF 데미지비율(ARG, ARG:2) > 50 || 현HP비율(ARG) < 25
			IF 함락(ARG) && RAND:2
				LOCALS = 아직이야, 아직 쓰러질 순 없어!
			ELSE
				IF RAND:2
					LOCALS = 이건, 당했네……
				ELSE
					LOCALS = 아직, 쓰러지지 않아!
				ENDIF
			ENDIF
		ELSEIF 데미지비율(ARG, ARG:2) > 20
			IF RAND:2
				LOCALS = 행동에 지장은 없어
			ELSE
				LOCALS = 큰 일은 아니네
			ENDIF
		ELSEIF 데미지비율(ARG, ARG:2) > 0
			IF RAND:2
				LOCALS = 이정도라면 걱정하지 않아도 괜찮아
			ELSE
				LOCALS = 무르네, 이정도?
			ENDIF
		;무효
		ELSEIF ARG:2 == 0
			IF RAND:2
				LOCALS = 유감이네, 내게 그건 통하지 않아
			ELSE
				LOCALS = 통할거라 생각했어? 생각했던 것 보다 우둔하네.
			ENDIF
		;흡수
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = 어머, 힘을 나눠주는거야?
			ELSE
				LOCALS = 멍청이네, 힘 고마워.
			ENDIF
		ENDIF
	CASE 15
		;被반사
		PRINTFORMW ARG:2 = {ARG:2}
		IF RAND:2
			LOCALS = 큭, 방심했어……
		ELSE
			LOCALS = 조금 실패했을 뿐이야
		ENDIF
	CASE 16
		;반사
		IF RAND:2
			LOCALS = 잠깐, 잘 보고 움직여
		ELSE
			LOCALS = 조금은 침착하게 상대를 살펴봐
		ENDIF
	CASE 17
		;적회피
		IF RAND:2
			LOCALS = 큿!
		ELSE
			LOCALS = 피했어!?
		ENDIF
	CASE 18
		;自分회피
		IF RAND:2
			LOCALS = 그거 공격한거 맞아?
		ELSE
			LOCALS = 흉하네, 당신
		ENDIF
ENDSELECT
SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)
