;エクストラという名の実質原神ガチャ実装のためのヤツ
;
@エクストライベントガチャ
#DIM ゲシン点呼
ゲシン点呼 = 0

SIF FINDCHARA_B([[キャラ:기묘한바르바토스]]) > -1
	ゲシン点呼 += 1
SIF FINDCHARA_B([[キャラ:기묘한모라쿠스]]) > -1
	ゲシン点呼 += 10
SIF FINDCHARA_B([[キャラ:기묘한바알]]) > -1
	ゲシン点呼 += 100

IF ゲシン点呼 == 0
	IF RAND:3 == 0
		CALL 奇妙なバルバトス召喚
	ELSEIF RAND:2 == 0
		CALL 奇妙なモラクス召喚
	ELSE
		CALL 奇妙なバアル召喚
	ENDIF
ELSEIF ゲシン点呼 == 1
	IF RAND:2 == 0
		CALL 奇妙なモラクス召喚
	ELSE
		CALL 奇妙なバアル召喚
	ENDIF
ELSEIF ゲシン点呼 == 10
	IF RAND:2 == 0
		CALL 奇妙なバルバトス召喚
	ELSE
		CALL 奇妙なバアル召喚
	ENDIF
ELSEIF ゲシン点呼 == 100
	IF RAND:2 == 0
		CALL 奇妙なバルバトス召喚
	ELSE
		CALL 奇妙なモラクス召喚
	ENDIF
ELSEIF ゲシン点呼 == 11
		CALL 奇妙なバアル召喚
ELSEIF ゲシン点呼 == 101
		CALL 奇妙なモラクス召喚
ELSEIF ゲシン点呼 == 110
		CALL 奇妙なバルバトス召喚
ELSE
		;３人共持っていた場合レア以上確定ガチャ呼び出し。
		CALL GACHA_ONCE,2,FLAG:현재가챠토픽
ENDIF

@奇妙なバルバトス召喚
	SETCOLOR 0x00EEEE
	PRINTFORML [ＳＲ魔神]　奇妙なバルバトス
	RESETCOLOR
		CALL ADD_NEW_COMPANION, [[キャラ:기묘한바르바토스]], 100
		SIF RESULT > 0
			CFLAG:(RESULT:1):전투참가불가능 = -1

@奇妙なモラクス召喚
	SETCOLOR 0x00EEEE
	PRINTFORML [ＳＲ魔神]　奇妙なモラクス
	RESETCOLOR
		CALL ADD_NEW_COMPANION, [[キャラ:기묘한모라쿠스]], 100
		SIF RESULT > 0
			CFLAG:(RESULT:1):전투참가불가능 = -1

@奇妙なバアル召喚
	SETCOLOR 0x00EEEE
	PRINTFORML [ＳＲ魔神]　奇妙なバアル
	RESETCOLOR
		CALL ADD_NEW_COMPANION, [[キャラ:기묘한바알]], 100
		SIF RESULT > 0
			CFLAG:(RESULT:1):전투참가불가능 = -1

