;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	Module		:OPTION.ERB
;	Facility	:オプション設定関連の関数群です。
;
;	Licence		:ライセンスフリー
;
;	Modification Data:
;
;	Edit	Date			Author					Reason
;	001		20XX/XX/XX		----					新規作成
;	002		2011/02/04		黒天					労役実行確認省略オプション追加
;	003		2011/03/10		Ｎ鳥					夜這い不許可性別設定オプション追加
;	004		2011/04/07		Ｎ鳥					ＮＴＲ機能設定オプション追加
;	005		2011/04/08		黒天					休憩確認設定オプション追加
;	006		2011/04/25		P						PALAM表示設定と控え表示設定のオプションを追加
;	007		2011/05/05		黒天					休憩確認設定オプション拡張。[休憩]コマンドの[朝まで休憩]変更を追加
;	008		2011/06/23		黒天					妊娠機能拡張。[男の娘]の妊娠を選択できるように。
;	009		2011/09/08		Ｎ鳥					ＮＴＲ関係のオプションをひとまとめに
;	010		2012/02/28		P						入力モード切替を削除。また変更後のメッセージでWAITするように統一
;	011		2012/05/31		ネトリス				帳簿閲覧用の処理を追加
;	012		2012/12/09		P						悪魔合体のキャラ表示数設定を追加
;	013		2013/01/12		ネトリス				合体用ソフトクイック設定を追加
;	014		2013/03/15		ネトリス				野良悪魔素質ランダム設定を追加
;	015		2013/XX/XX		ひみつ					リスト表示数設定と合体用ソフトクイック設定(改)を追加
;	016		2013/12/01		J( 'ー`)し				ひみつ氏追加分と競合する悪魔合体のキャラ表示数設定と合体用ソフトクイック設定をコメントアウトしてマージ
;	017		2015/07/28		ネトリス				仲魔のTALK設定を追加
;	018		2016/09/25		多治見国々				ダンジョンの推奨レベルを表示するオプション追加。
;	019		2017/02/07		名無し					自動レベルＵＰの選択オプションを追加
;	020		2017/09/11		名無					能力確認で開いた表示情報を記録するオプション追加
;	021		2017/09/23		名無					ガチャモードを追加
;	022		2018/08/09		JK好き					ダンジョン内操作設定をGLOBALでも保存できるように変更
;	023		2019/04/17		名無					敵強化オプションを追加
;	024		2019/04/20		TR(SAYA)				育児しないモードの追加
;	025		2019/06/19		JK好き					装備画面省略スイッチ追加
;	010		2019/07/02		JK好き					装備画面省略スイッチ調整
;	027		2019/10/27		ypa 					信頼系陥落設定を追加
;	028		2020/02/02		木綿豆腐 				デビルシフター/喰奴/悪魔憑きは悪魔変身時の画面の顔グラを設定できるように
;	029		2020/03/XX		リファクタリングと分割と表示の簡素化
;	030		2020/04/18		木綿豆腐 				戦闘勝利口上の呼び出し先をランダム/最終行動者に変更できるように
;	031		2020/04/26		名無し					好餌イベントのON/OFF機能を追加
;	032		2020/06/03		名無し					好餌イベントに幸せのトイレを追加
;	033		2020/06/19		なんとなくの人 			画像エディットの設定を追加
;	034		2020/06/19		スパロボガスキー 		ベルベットルームでのステータスアップ画面変更機能を追加
;	035		2020/08/20		マリーちゃんの中の人 	ペルソナ使い追加ステ設定を試用版として実装
;	036		2020/09/08		マリーちゃんの中の人 	ペルソナ使い所持ペルソナEXP増加設定を試用版として実装
;	037		2020/10/12		JK好き					@SAMENPLACE_SETTINGにランダムにぶっかけ追加
;	038		2021/01/29		Rsp暇人					道具命中/道具威力を新設し、使用するオプションを追加。EDIT035の記述ミスを修正。実装されておらずエラーが出る選択肢をコメントアウト
;	039		2020/10/12		NEO						ボイコットを変更可能にした。むしろなぜできないのか意味不明すぎる……
;	040		2021/02/25		NEO						ふたごちゃんパッチ用オプションの追加
;	041		2021/07/24		っとっとき				ダンジョン探索モード設定オプションの追加
;	042		2021/10/09		SUIHOU					好餌イベントのON/OFF機能にイベント対象の説明を追記
;	043		2022/06/07		NEO						「専有奴隷の首輪」に同効果の服飾を追加したのでそのあたりを追加
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

@SHOPCOMABLE_400
RESULTS = 옵션
RETURN 1

@SHOP_COM_400
#DIMS L_COM, 200, 3
#DIM L_HIDE, 5 = 1,1,1,1,1
VARSET L_COM
;항목作成
CALL OPTION_LISTUP(L_COM)
IF FLAG:DEBUG
	CALL OPTION_LISTUP_DEBUG(L_COM)
ELSE
	[IF_DEBUG]
		CALL OPTION_LISTUP_DEBUG(L_COM)
	[ENDIF]
ENDIF
;항목표시
REDRAW 0
CLEARLINE 100000
DRAWLINE
PRINTL 설정항목을 선택해 주세요
PRINTL
CALL OPTION_PRINT_LIST(L_COM, L_HIDE)
IF FLAG:DEBUG
	CALL OPTION_PRINT_LIST_DEBUG(L_COM, L_HIDE:4)
ELSE
	[IF_DEBUG]
		CALL OPTION_PRINT_LIST_DEBUG(L_COM, L_HIDE:4)
	[ENDIF]
ENDIF
PRINTL
SETCOLOR COLOR("AQUA")
PRINTFORML %"  [998] - 글로벌 데이터에 보존 ", 50, LEFT%
PRINTFORML %"  [999] - 글로벌 데이터에서 불러오기 ", 50, LEFT%
RESETCOLOR
PRINTL
PRINTFORML %"  [100] - 돌아온다 ", 50, LEFT%
REDRAW 2
;입력
CALL OPTION_INPUT(L_COM)
SELECTCASE RESULT
	;[100]-戻る
	CASE -1
		RETURN
	CASE 998
		CALL OPTION_GSAVE
	CASE 999
		CALL OPTION_GLOAD
	;표시/非표시
	CASE 990 TO 994
		L_HIDE:(RESULT - 990) = !L_HIDE:(RESULT - 990)
	CASE 989
		VARSET L_HIDE, !SUMARRAY(L_HIDE)
	;範囲外は既に弾いている
	CASEELSE
		CALL OPTION_SETTINGS(L_COM, RESULT)
ENDSELECT
RESTART

;----------------------------------------------------------
;항목生成
;----------------------------------------------------------
@OPTION_LISTUP(ARG_COM)
#DIMS REF ARG_COM, 0, 0
#DIMS L_TYPE
L_TYPE '= "전반"
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "바애니메이션중의우클릭", GETBIT(FLAG:바애니메이션스킵, 0), "가속", "스킵")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "오프닝데모", GETBIT(GLOBAL:4, 0), "본다", "보지 않는다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "이지선다입력", LIMIT(FLAG:이지선다입력설정, 0, 2), "디폴트（0과 1만）", "네／아니요만、Ｙ나 Ｎ 키로 반응", "모든 이지선다에서、Ｙ나 Ｎ키로 반응")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "외모・스리사이즈기능", SETTING_IS_3SIZE(), "이용하지 않는다", "이용한다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "장비화면생략", LIMIT(FLAG:장비화면생략스위치, 0, 2), "장비해설을 표시", "장비등록을 표시", "양쪽 모두 생략")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "（글로벌）RPG아이템구입화면", LIMIT(MouseUIStore_Enable, 0, 1), "디폴트", "마우스 전용 추가UI")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "휴식확인", LIMIT(FLAG:휴식확인플래그, 0, 2), "확인한다", "확인하지 않는다", "확인하지 않는다 + 아침까지 휴식")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "능력확인에서마지막에연페이지", LIMIT(FLAG:표시정보페이지보존 % 10, 0, 1), "보존한다", "보존하지 않는다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "커맨드수설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "리스트표시수설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "화상표시설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "화상에디트설정", LIMIT(FLAG:화상에디트설정, 0, 1), "사용한다", "사용안한다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "구상・정경텍스트표시설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "스테이터스화면타입설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "메시지윈도우설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "합체용소프트퀵설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "레벨업시인터페이스설정", LIMIT(FLAG:레벨업시인터페이스설정, 0, 3), "디폴트I/F", "신형I/F", "자동I/F", "자동I/F개")
;---- EDIT 034 ADD START -------------------------
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "V・ROOM에서스테이터스업화면설정", GETBIT(FLAG:그외설정스위치, 2), "디폴트I/F", "신형I/F")
;---- EDIT 034 ADD END   -------------------------
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "SHOP커맨드리네임", LIMIT(항목명설정, 0, 1), "하지 않는다", "한다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "장부소거")
L_TYPE '= "조교"
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "오토코노코를ＢＬ취급", LIMIT(FLAG:오토코노코ＢＬ설정, 0, 2), "오토코노코는 ＢＬ취급하지 않는다", "오토코노코도ＢＬ", "오토코노코끼리는 ＢＬ취급하지 않는다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "ＳＭ플레이확장", GETBIT(FLAG:SM기능확장, 0), "없음", "있음")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "야외플레이확장", GETBIT(FLAG:야외노출강화, 0), "없음", "있음")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "촉수사역확장", GETBIT(FLAG:촉수신사각성, 0), "없음", "있음")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "노역실행확인생략", LIMIT(FLAG:노역실행확인생략설정, 0, 1), "생략하지 않는다", "생략한다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "임신기능설정", LIMIT(FLAG:임신기능, 0, 2), "OFF", "ON(오토코노코도 포함)", "ON(오토코노코는 제외)")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "출산기능", LIMIT(FLAG:출산기능ONOFF, 0, 2), "OFF", "ON(아이조교ON)", "ON(아이조교OFF)")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "다태임신기능", LIMIT(FLAG:쌍둥이플래그, 0, 3), "OFF", "ON(드물게쌍둥이)", "ON(잉태희망)", "ON(태내합체마인)")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "대기멤버의조교선택시처리", LIMIT(FLAG:대기이용설정, 0, 2), "대상 변경", "조교 개시", "이용하지 않는다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "대기멤버의스트레스치표시", GETBIT(FLAG:대기스트레스치표시설정, 0), "없음", "있음")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "신규캐릭터요바이불허가설정", 0, OPTION_요바이불허가성별표시())
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "PALAM표시설정", LIMIT(FLAG:PALAM표시설정, 0, 2), "Ａ타입", "Ｂ타입", "Ｃ타입")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "사정부위설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "착의관련설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "ＮＴＲ기능설정", GETBIT(FLAG:ＮＴＲ기능, 0), "OFF", "ON")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "미끼이벤트설정", GETBIT(FLAG:好餌フラグ, 0), "OFF", "ON")
L_TYPE '= "탐색"
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "던전의권장레벨표시", GETBIT(FLAG:던전의권장레벨표시설정, 0), "보지 않는다", "본다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "미조교시함락", LIMIT(FLAG:미조교시함락, 0, 2), "없음", "조교로 전투에 참가한 수 없는 인간만 유효", "인간악마가리지 않고 전원 유효")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "신뢰계함락", LIMIT(FLAG:신뢰계함락설정, 0, 1), "없음", "미조교된 동성에게만 유효")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "던전내조작설정", LIMIT(FLAG:던전내조작설정, 0, 1), "디폴트", "ＦＰＳ")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "오토리커버설정")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "므흣전개", GETBIT(FLAG:무후후전개, 0), "없음", "있음")
;---- EDIT 041 ADD START   -------------------------
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "던전탐색모드", LIMIT(FLAG:던전탐색모드설정, 0, 2), "디폴트", "클래식", "α버전")
;---- EDIT 041 ADD END   -------------------------
IF FLAG:무후후전개
	CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "므흣전개：밀려넘어짐", GETBIT(FLAG:밀려넘어짐이벤트,0), "없음", "있음")
	IF GETBIT(FLAG:밀려넘어짐이벤트, 0)
		CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "므흣전개：밀려넘어짐발생률", 0, @"{FLAG:밀려넘어짐이벤트발생률}\%")
		CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "므흣전개：밀려넘어짐성별설정", (FLAG:밀려넘어짐이벤트 > 1), "미설정", "상세")
	ENDIF
ENDIF

CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "야생악마소질랜덤설정")
L_TYPE '= "전투"
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "스킬속성표시", GETBIT(FLAG:스킬속성표시설정, 0), "디폴트", "추가표시")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "TALK사용가능자", GETBIT(FLAG:주인이외TALK가능, 0), "주인 전용", "주인 or 함락된 캐릭터만")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "동료마의TALK", GETBIT(FLAG:중마회화맡기기설정, 0), "스스로 지시한다", "동료마에게 맡긴다")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "적강화옵션설정", 0, @"현재의 강화치:{FLAG:적강화옵션}")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "전투시목숨구걸이벤트설정", GETBIT(FLAG:전투시목숨구걸이벤트, 0), "없음", "있음")
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "상성의색상설정")
;---- EDIT 030 ADD START -------------------------
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "승리구상", GETBIT(FLAG:승리구상설정, 0), "랜덤", "마지막 행동자")
;---- EDIT 039 ADD END -------------------------
CALLF OPTION_SET_ITEM(ARG_COM, L_TYPE, "전투시보이콧설정", LIMIT(FLAG:전투시보이콧설정, 0, 4), "없음", "FLAVOR", "EASY", "NORMAL", "HARD")
;---- EDIT 039 ADD END -------------------------



;----------------------------------------------------------
@OPTION_LISTUP_DEBUG(ARG_COM)
#DIMS REF ARG_COM, 0, 0
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "전투시보이콧설정", LIMIT(FLAG:전투시보이콧설정, 0, 4), "없음", "FLAVOR", "EASY", "NORMAL", "HARD")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "EXTRA이벤트설정", GETBIT(FLAG:EXTRA이벤트설정, 0), "없음", "있음")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "전투시인간의스테이터스계산방식", LIMIT(FLAG:인간전투스텟설정, 0, 3), "일반(바닐라 설정)", "명중률 개선", "전체적으로 끌어올림", "장비품의 보정을（LV/2）\% 만큼 강화")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "전투시소질영향설정", BATTLE_SETTING_IS_TALENT(), "통상(바닐라 설정)", "소질 영향")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "전투시배드스텟필중설정", BATTLE_SETTING_IS_BAD_STATUS(), "통상(바닐라 설정)", "배드스텟 필중")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "전투시1more동작설정", BATTLE_SETTING_IS_1MORE(), "통상(바닐라 설정)", "변경")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "장비내성・효과변경설정", BATTLE_SETTING_IS_EQUIP_EFFECT(), "변경하지 않는다(바닐라 설정)", "변경")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "마카환율변동기능", SETTING_IS_MAKKA_RATE(), "이용하지 않는다", "이용한다")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "소셜게임풍가챠", LIMIT(FLAG:악마가챠모드, 0, 2), "없음", "가챠 기동", "가챠 악마 전용")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "데빌시프터스텟설정", LIMIT(FLAG:데빌시프터스탯설정, 0, 1), "변경하지 않는다(바닐라설정)", "변경한다")
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "장비효과설정", BATTLE_SETTING_IS_EQUIPTHEORY(), "변경하지 않는다", "변경한다")
;---- EDIT 038 ADD START -------------------------
; LIMIT(FLAG:～～, 0, 3)なので"デメリットを完全に無くす"を選んでも表示されないのを修正
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "페르소나구사자사양설정", LIMIT(FLAG:페르소나구사자사양설정, 0, 2), "디폴트", "페르소나１・２의 사양 따름", "페르소나３ 이후의 사양 따름")
;2020/08/20
;---- EDIT 035 ADD START -------------------------
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "페르소나구사자추가스탯설정", LIMIT(FLAG:페르소나구사자추가스텟설정, 0, 1), "변경안한다(바닐라설정)", "변경한다")
;---- EDIT 035 ADD END ---------------------------
;---- EDIT 036 ADD START -------------------------
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "소지페르소나EXP증가설정", LIMIT(FLAG:소지페르소나EXP증가설정, 0, 1), "변경안한다(바닐라설정)", "변경한다")
;---- EDIT 036 ADD END ---------------------------
;---- EDIT 037' ADD START -------------------------
;		FLAG:상성소질체크適用範囲変更設定を変更する処理が実装されていないようのでコメントアウト
;		同様にFLAG.csvの702,상성소질체크適用範囲変更設定も確保だけされて使用されてないみたいです
;		作成された人はFLAG.csvから
;			021		2020/09/08		マリーちゃんの中の人	フラグ702:「상성소질체크적용범위변경설정」を追加
;		なのでEDIT番号を37から変更
; CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "상성소질체크적용범위변경설정", LIMIT(FLAG:상성소질체크적용범위변경설정, 0, 1), "変更しない(バニラ設定)", "変更する")
;---- EDIT 037' ADD END ---------------------------
CALLF OPTION_SET_ITEM(ARG_COM, "DEBUG", "공격아이템의계산식설정", BATTLE_SETTING_IS_ITEM_DAMAGE()+BATTLE_SETTING_IS_ITEM_HITRATE()*2, "디폴트", "위력계산만 변경한다", "ERROR", "위력・명중계산 모두 변경한다")
;---- EDIT 038 ADD END -------------------------

;----------------------------------------------------------
;항목표시
;----------------------------------------------------------
@OPTION_PRINT_LIST(ARG_COM, ARG_HIDE)
#LOCALSIZE 2
#DIMS REF ARG_COM, 0, 0
#DIM REF ARG_HIDE, 0
#DIMS L_TYPE, 5 = "전반", "조교", "탐색", "전투", "DEBUG"
#DIM maxsize
VARSIZE ARG_COM
maxsize = RESULT
SETCOLOR COLOR("P-GREEN")
PRINTFORML   [989] - 전부 개폐 [] %"-"*50%
FOR LOCAL, 0, 4
	SETCOLOR COLOR("P-GREEN")
	IF ARG_HIDE:LOCAL
		PRINTFORML   [{LOCAL + 990}] - %L_TYPE:LOCAL + " [+] "%%"-"*50%
		RESETCOLOR
	ELSE
		PRINTFORML   [{LOCAL + 990}] - %L_TYPE:LOCAL + " [-] "%%"-"*50%
		RESETCOLOR
		FOR LOCAL:1, 0, maxsize
			IF ARG_COM:(LOCAL:1):0 == L_TYPE:LOCAL
				PRINTFORML     [{LOCAL:1, 3}] - %ARG_COM:(LOCAL:1):1, 40, LEFT%\@ STRLENS(ARG_COM:(LOCAL:1):2) ? [%ARG_COM:(LOCAL:1):2%] # \@
			ENDIF
		NEXT
	ENDIF
NEXT

;----------------------------------------------------------
@OPTION_PRINT_LIST_DEBUG(ARG_COM, ARG)
#DIMS REF ARG_COM, 0, 0
#DIM maxsize
VARSIZE ARG_COM
maxsize = RESULT
SETCOLOR COLOR("P-GREEN")
IF ARG
	PRINTFORML   [994] - %"DEBUG [+]", 50, LEFT%
	RESETCOLOR
ELSE
	PRINTFORML   [994] - %"DEBUG [-]", 50, LEFT%
	RESETCOLOR
	FOR LOCAL, 0, maxsize
		IF ARG_COM:(LOCAL):0 == "DEBUG"
			PRINTFORML     [{LOCAL, 3}] - %ARG_COM:LOCAL:1, 40, LEFT%\@ STRLENS(ARG_COM:LOCAL:2) ? [%ARG_COM:LOCAL:2%] # \@
		ENDIF
	NEXT
ENDIF

;----------------------------------------------------------
;옵션항목共通化関数
;引数：リスト(ref), カテゴリ(str), 항목名(str), (現在の상태(int)), (상태名(str)*5(0-4))
;----------------------------------------------------------
@OPTION_SET_ITEM(ARG_COM, ARGS:0, ARGS:1, ARG=-1, ARGS:2="", ARGS:3="", ARGS:4="", ARGS:5="", ARGS:6="")
#FUNCTION
#LOCALSIZE 2
#DIMS REF ARG_COM, 0, 0
#DIM maxsize
;최대항목数取得
VARSIZE ARG_COM
maxsize = RESULT
LOCAL:1 = -1
;空欄を探す
FOR LOCAL, 0, maxsize
	IF ARG_COM:LOCAL:1 == ""
		LOCAL:1 = LOCAL
		BREAK
	ENDIF
NEXT
SIF LOCAL:1 < 0
	THROW 옵션항목が多すぎます。リストの要素数を増やしてください。
;代入
ARG_COM:(LOCAL:1):0 '= ARGS:0, ARGS:1
IF ARG >= 0
	ARG_COM:(LOCAL:1):2 '= ARGS:(ARG + 2)
ENDIF
VARSET ARGS, "", 0, 7
RETURNF LOCAL:1

;----------------------------------------------------------
;입력
;----------------------------------------------------------
@OPTION_INPUT(ARG_COM)
#DIMS REF ARG_COM, 0, 0
#DIM maxsize
VARSIZE ARG_COM
maxsize = RESULT:0
INPUT
SELECTCASE RESULT
	CASE 100
		RETURN -1
	CASE 998, 999
		RETURN RESULT
	CASE 989, 990 TO 994
		RETURN RESULT
	CASE IS < 0, IS >= maxsize
	CASEELSE
		IF ARG_COM:RESULT:0 == "DEBUG"
			IF FLAG:DEBUG
				RETURN RESULT
			ELSE
				[IF_DEBUG]
					RETURN RESULT
				[ENDIF]
			ENDIF
		ELSEIF ARG_COM:RESULT:0 != ""
			RETURN RESULT
		ENDIF
ENDSELECT
CLEARLINE 1
RESTART

;----------------------------------------------------------
;설정
;----------------------------------------------------------
@OPTION_SETTINGS(ARG_COM, ARG)
#DIMS REF ARG_COM, 0, 0
DRAWLINE
SELECTCASE ARG_COM:RESULT:1
	CASE "구상・정경텍스트표시설정"
		CALL TEXT_SETTING
	CASE "오프닝데모"
		INVERTBIT GLOBAL:4, 0
		SAVEGLOBAL
	CASE "이지선다입력"
		FLAG:이지선다입력설정 = OPTION_SWITCH(FLAG:이지선다입력설정, 0, 2)
	CASE "커맨드수설정"
		CALL PRINTCPERLINE_SETTING
	CASE "화상표시설정"
		CALL ICON_SET
	CASE "바애니메이션중의우클릭"
		INVERTBIT FLAG:바애니메이션스킵 , 0
	CASE "스테이터스화면타입설정"
		CALL SHOW_STATUS_CONFIG
	CASE "메시지윈도우설정"
		CALL MESSAGE_WINDOW_CONFIG
	CASE "합체용소프트퀵설정"
		CALL 합체용소프트퀵설정
	CASE "외모・스리사이즈기능"
		CALL SETTING_INVERT_3SIZE
	CASE "장비화면생략"
		FLAG:장비화면생략스위치 = OPTION_SWITCH(FLAG:장비화면생략스위치, 0, 2)
	CASE "휴식확인"
		FLAG:휴식확인플래그 = OPTION_SWITCH(FLAG:휴식확인플래그, 0, 2)
	CASE "대기멤버의조교선택시처리"
		FLAG:대기이용설정 = OPTION_SWITCH(FLAG:대기이용설정, 0, 2)
	CASE "사정부위설정"
		CALL SAMENPLACE_SETTING
	CASE "착의관련설정"
		CALL CLOTHES_SETTING
	CASE "대기멤버의스트레스치표시"
		INVERTBIT FLAG:대기스트레스치표시설정, 0
	CASE "오토코노코를ＢＬ취급"
		FLAG:오토코노코ＢＬ설정 = OPTION_SWITCH(FLAG:오토코노코ＢＬ설정, 0, 2)
	CASE "임신기능설정"
		CALL OPTION_임신기능설정
	CASE "출산기능"
		CALL OPTION_출산기능
	CASE "다태임신기능"
		CALL OPTION_多胎妊娠機能
	CASE "ＮＴＲ기능설정"
		CALL NTR_CONFIG
	CASE "미끼이벤트설정"
		CALL KOUJI_CONFIG
	CASE "ＳＭ플레이확장"
		INVERTBIT FLAG:SM기능확장, 0
	CASE "야외플레이확장"
		INVERTBIT FLAG:야외노출강화, 0
	CASE "촉수사역확장"
		INVERTBIT FLAG:촉수신사각성, 0
	CASE "노역실행확인생략"
		FLAG:노역실행확인생략설정 = OPTION_SWITCH(FLAG:노역실행확인생략설정, 0, 1)
	CASE "신규캐릭터요바이불허가설정"
		CALL CONTROL_SELF_CONFIG
	CASE "던전의권장레벨표시"
		INVERTBIT FLAG:던전의권장레벨표시설정, 0
	CASE "던전내조작설정"
		CALL DUNGEON_COMMAND_CONFIG
	CASE "오토리커버설정"
		CALL AUTO_RECOVER_SETTING
	CASE "므흣전개"
		INVERTBIT  FLAG:무후후전개, 0
	CASE "미조교시함락"
		FLAG:미조교시함락 = OPTION_SWITCH(FLAG:미조교시함락, 0, 2)
	CASE "신뢰계함락"
		FLAG:신뢰계함락설정 = OPTION_SWITCH(FLAG:신뢰계함락설정, 0, 1)
	CASE "상성의색상설정"
		CALL TYPE_COLOR_SETTING
	CASE "스킬속성표시"
		INVERTBIT FLAG:스킬속성표시설정, 0
	CASE "TALK사용가능자"
		INVERTBIT FLAG:주인이외TALK가능 , 0
	CASE "동료마의TALK"
		INVERTBIT FLAG:중마회화맡기기설정, 0
;---- EDIT 030 ADD START -------------------------
	CASE "승리구상"
		INVERTBIT FLAG:승리구상설정, 0
;---- EDIT 030 ADD END -------------------------
	CASE "화상에디트설정"
		FLAG:화상에디트설정 = OPTION_SWITCH(FLAG:화상에디트설정, 0, 1)
;---- EDIT 034 ADD START -------------------------
	CASE "V・ROOM에서스테이터스업화면설정"
		CALL SETTING_INVERT_VELVET_STATUS_UP
;---- EDIT 034 ADD END   -------------------------
;---- EDIT 041 ADD START   -------------------------
	CASE "던전탐색모드"
		CALL OPTION_던전탐색모드
;---- EDIT 041 ADD END   -------------------------
	CASEELSE
		CALLFORM OPTION_%ARG_COM:RESULT:1%
ENDSELECT

;----------------------------------------------------------
;切り替え
;----------------------------------------------------------
@OPTION_SWITCH(ARG, ARG:1, ARG:2)
#FUNCTION
ARG ++
SIF !INRANGE(ARG, ARG:1, ARG:2)
	ARG = ARG:1
RETURNF ARG

;----------------------------------------------------------
;설정保存
;----------------------------------------------------------
@OPTION_GSAVE
PRINTL 보존할 슬롯을 선택하십시오
FOR LOCAL,0,5
	PRINTFORML [{LOCAL}] -%옵션설정보존영역명:LOCAL%-
NEXT
PRINTFORML [5] 취소
CALL INPUTINT(0,1,2,3,4,5)
SELECTCASE RESULT
	CASE 0 TO 4
		LOCAL:1 = RESULT
		LOCALS = 설정보존데이터{RESULT}
		IF 옵션설정보존영역명:(LOCAL:1) != ""
			PRINTFORML 여기에는 이미 데이터가 존재합니다만 덮어씌워도 괜찮습니까？
			PRINTFORML [0] 덮어씌운다
			PRINTFORML [1] 그만둔다
			CALL INPUTINT(0,1,)
			SELECTCASE RESULT
				CASE 0
					PRINTFORML 보존명을 입력해주세요。미입력 혹은 0 입력으로 %LOCALS%로 설정됩니다
					PRINTFORML [0] %LOCALS% 로 한다
					INPUTS
					IF RESULTS == "" || RESULTS == "0"
						옵션설정보존영역명:(LOCAL:1) = %LOCALS%
					ELSE
						옵션설정보존영역명:(LOCAL:1) = %RESULTS%
					ENDIF
					CALL OPTION_STATE_SAVE(LOCAL:1)
					SAVEGLOBAL
					PRINTW 세이브했습니다
				CASE 1
					PRINTW 취소했습니다
			ENDSELECT
		ELSE
			PRINTFORML 보존명을 입력해주세요。미입력 혹은 0 입력으로 %LOCALS%로 설정됩니다
			PRINTFORML [0] %LOCALS% 로 한다
			INPUTS
			IF RESULTS == "" || RESULTS == "0"
				옵션설정보존영역명:(LOCAL:1) = %LOCALS%
			ELSE
				옵션설정보존영역명:(LOCAL:1) = %RESULTS%
			ENDIF
			CALL OPTION_STATE_SAVE(LOCAL:1)
			SAVEGLOBAL
			PRINTW 세이브했습니다
		ENDIF
	CASE 5
		PRINTW 취소했습니다
ENDSELECT
;----------------------------------------------------------
;설정読み込み
;----------------------------------------------------------
@OPTION_GLOAD
LOADGLOBAL
PRINTL 불러올 슬롯을 선택해 주십시오
FOR LOCAL,0,5
	PRINTFORML [{LOCAL}] -%옵션설정보존영역명:LOCAL%-
NEXT
PRINTFORML [5] 취소
CALL INPUTINT(0,1,2,3,4,5)
SELECTCASE RESULT
	CASE 0 TO 4
		LOCAL:1 = RESULT
		LOCALS = 설정보존데이터{RESULT}
		IF 옵션설정보존영역명:(LOCAL:1) != ""
			PRINTFORML %옵션설정보존영역명:(LOCAL:1)%을 물러옵니까？
			PRINTFORML [0] 불러온다
			PRINTFORML [1] 그만둔다
			CALL INPUTINT(0,1,)
			SELECTCASE RESULT
				CASE 0
					CALL OPTION_STATE_LOAD(LOCAL:1)
					PRINTW 로드했습니다
				CASE 1
					PRINTW 취소했습니다
			ENDSELECT
		ELSE
			PRINTFORMW 데이터가 존재하지 않습니다
		ENDIF
	CASE 5
		PRINTW 취소했습니다
ENDSELECT



;----------------------------------------------------------
;설정화면
;----------------------------------------------------------
@TEXT_SETTING
DRAWLINE
PRINTL 텍스트 설정을 해주세요
PRINT 현재 설정：
IF FLAG:6 == 1 && FLAG:7 == 2
	PRINTL 【대사 텍스트（항상 표시）＋정경 텍스트】
ELSEIF FLAG:6 == 1 && FLAG:7 == 1
	PRINTL 【대사 텍스트（한 번만 표시）＋정경 텍스트】
ELSEIF FLAG:6 == 1 && FLAG:7 == -1
	PRINTL 【정경 텍스트만】
ELSEIF FLAG:6 == 0 && FLAG:7 == -1
	PRINTL 【텍스트를 표시하지 않는다】
ENDIF
PRINTFORML             【RPG구상 표시:\@ FLAG:RPG구상 ? OFF  # ON \@】
DRAWLINE
PRINTL 
PRINTL [0] - 대사 텍스트（항상 표시）＋정경 텍스트
PRINTL [1] - 대사 텍스트（한 번만 표시）＋정경 텍스트
PRINTL [2] - 정경 텍스트만
PRINTL [3] - 텍스트를 표시하지 않는다
;PRINTL [4] - 自動喘ぎ声切り替え
PRINTL [5] - RPG대사 변환
PRINTL
PRINTL [100]-뒤로
INPUT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT == 0
	PRINTL 【대사 텍스트（항상 표시）＋정경 텍스트】로 설정했습니다
	FLAG:6 = 1
	FLAG:7 = 2
ELSEIF RESULT == 1
	PRINTL 【대사 텍스트（한 번만 표시）＋정경 텍스트】로 설정했습니다
	FLAG:6 = 1
	FLAG:7 = 1
ELSEIF RESULT == 2
	PRINTL 【정경 텍스트만】으로 설정했습니다
	FLAG:6 = 1
	FLAG:7 = -1
ELSEIF RESULT == 3
	PRINTL 【텍스트를 표시하지 않음】으로 설정했습니다
	FLAG:6 = 0
	FLAG:7 = -1
;ELSEIF RESULT == 4
;	PRINTFORMW 自動喘ぎ声기능を\@ FLAG:自動喘ぎ声 ? 無効 # 有効 \@にしました
;	IF FLAG:自動喘ぎ声 == 0
;		FLAG:自動喘ぎ声 = 1
;	ELSE
;		FLAG:自動喘ぎ声 = 0
;	ENDIF
ELSEIF RESULT == 5
	PRINTFORML RPG구상을 \@ FLAG:RPG구상 ? 유효 # 무효 \@로 했습니다
	IF FLAG:RPG구상 == 0
		FLAG:RPG구상 = 1
	ELSE
		FLAG:RPG구상 = 0
	ENDIF
ENDIF
WAITANYKEY
RESTART

;----------------------------------------------------------
@OPTION_（글로벌）RPG아이템구입화면
MouseUIStore_Enable = OPTION_SWITCH(MouseUIStore_Enable, 0, 1)
SAVEGLOBAL

;----------------------------------------------------------
@OPTION_리스트표시수설정
	DRAWLINE
	PRINTL 한번에 표시될 목록의 갯수를 입력하십시오. 입력 가능한 범위는 10~50입니다(초기치는 20)
	PRINTFORML 현재 표시수： [{FLAG:리스트표시수설정}]
	DRAWLINE
	PRINTL
	PRINTL [ 0] 변경하지 않는다　[20] 초기값으로 한다
	PRINTL 
	PRINTL [10]　[15]　[20]　[25]　[30]　[35]　[40]　[45]　[50]
	PRINTL
	DO
		INPUT
		CLEARLINE 1
	LOOP RESULT && !INRANGE(RESULT, 10, 50)
	RESULT = RESULT ? RESULT # FLAG:리스트표시수설정
	IF FLAG:리스트표시수설정 == RESULT || (!FLAG:리스트표시수설정 && RESULT == 20)
		PRINTFORML 한 번에 표시될 목록의 갯수는 {RESULT ? RESULT # 20} 그대로입니다
	ELSE
		FLAG:리스트표시수설정 = RESULT
		PRINTFORML 한 번에 표시될 목록의 갯수를 {FLAG:리스트표시수설정}으로 변경했습니다
	ENDIF
WAITANYKEY

;----------------------------------------------------------
@OPTION_능력확인에서마지막에연페이지
IF (FLAG:표시정보페이지보존)
	FLAG:표시정보페이지보존 = 0
ELSE
	FLAG:표시정보페이지보존 = 101
ENDIF

;----------------------------------------------------------
@OPTION_장부소거
DRAWLINE
PRINTL 악마조교전.exe의 장부를 소거합니다
PRINTL 소거하겠습니까?
DRAWLINE
PRINTL
PRINTL [0] 소거한다
PRINTL [1] 그만둔다
PRINTL
CALL INPUTINT(0,1)
SELECTCASE RESULT
	CASE 0
		PRINTL 
		PRINTL 소거하면 되돌릴 수 없습니다
		PRINTL 정말 소거하겠습니까?
		PRINTL [0] 정말로 소거한다
		PRINTL [1] 그만둔다
		PRINTL
		CALL INPUTINT(0,1,)
		SELECTCASE RESULT
			CASE 0
				VARSET FLAG, 0, 1400, 1471
				PRINTW 장부를 소거했습니다
			CASE 1
				PRINTW 취소했습니다
		ENDSELECT
	CASE 1
		PRINTW 취소했습니다
ENDSELECT

;----------------------------------------------------------
@OPTION_PALAM표시설정
#DIMS L_TEXT, 3 = "Ａ타입", "Ｂ타입", "Ｃ타입"
DRAWLINE
PRINTFORML 현재의 표시설정은 [%L_TEXT:(FLAG:PALAM표시설정)%] 으로 되어 있습니다
DRAWLINE
PRINTL
PRINTL [0] Ａ타입
PRINTL PALAM ：획득한 누계를 표시
PRINTL 게이지：현재의 레벨까지 획득한 경험치 양을 기준으로 사용
PRINTL 설명　：기존의 것에 가장 가깝지만, 게이지 양에 비례하지 않기 때문에
PRINTL 　　　　대략적으로 알 수 있지만, 정확히 확인할 수 없습니다
PRINTL [1] Ｂ타입
PRINTL PALAM ：획득한 누계를 표시
PRINTL 게이지：획득한 누계를 기준으로 사용
PRINTL 설명　：기존의 것에 가까우며 게이지가 정비례하고 다음 레벨까지의 필요량을 파악하기 쉽습니다
PRINTL 　　　　그러나 레벨이 오른 순간부터 바가 절반 이상 차 있는 경우가 있기 때문에
PRINTL 　　　　그 점이 신경 쓰일지도 모릅니다
PRINTL [2] Ｃ타입
PRINTL PALAM ：현재 레벨이 된 이후의 획득량 표시
PRINTL 게이지：현재 레벨이 된 이후의 양을 기준으로 사용
PRINTL 설명　：Ｂ타입과 마찬가지로 게이지가 정비례하고 다음 레벨까지의 필요량을 파악하기 쉽습니다
PRINTL 　　　　레벨 업할 때마다, 제대로 게이지가 초기화됩니다
PRINTL 　　　　그러나、역치의 외형이 크게 변화하기 때문에、종래의 것과 상당히 플레이 감각이 달라집니다
PRINTL
CALL INPUTINT( 0, 1, 2)
IF FLAG:PALAM표시설정 == RESULT
	PRINTW 표시설정을 변경하지 않았습니다
ELSE
	FLAG:PALAM표시설정 = RESULT
	PRINTFORMW 표시설정을 [%L_TEXT:(FLAG:PALAM표시설정)%] 으로 변경 했습니다。
ENDIF

;----------------------------------------------------------
@OPTION_임신기능설정
#DIMS L_TEXT, 3 = "OFF", "ON(오토코노코를 포함)", "오토코노코를 제외하고 ON"
FLAG:임신기능 = LIMIT(FLAG:임신기능, 0, 2)
DRAWLINE
PRINTFORML 현재의 임신설정은 [%L_TEXT:(FLAG:임신기능)%] 입니다
PRINTFORML 임신 기능의 설정을 선택하십시오
DRAWLINE
PRINTL
PRINTL [0] OFF
PRINTL [1] ON(오토코노코를 포함)
PRINTL [2] 오토코노코를 제외하고 ON
PRINTL
CALL INPUTINT,0,1,2
FLAG:임신기능 = RESULT
PRINTFORMW 임신기능의 설정을 [%L_TEXT:(FLAG:임신기능)%] 으로 변경했습니다
SELECTCASE FLAG:임신기능
	CASE 0
		CALL CLEAR_PREGNANCY_DATERMINATION
		PRINTFORMW 모든 캐릭터의 임신판정용 플래그 치를 클리어했습니다
	CASE 2
		CALL CLEAR_PREGNANCY_DATERMINATION, -2
		PRINTFORMW 오토코노코의 임신판정용 플래그 치를 클리어했습니다
ENDSELECT

;----------------------------------------------------------
@OPTION_출산기능
FLAG:출산기능ONOFF = (FLAG:출산기능ONOFF+1)%3
SELECTCASE FLAG:출산기능ONOFF
CASE 0
CASE 1
	FLAG:출산기능ONOFF = 1
	IF ASSI > 0
		SIF ((TALENT:ASSI:임신 && CFLAG:ASSI:출산예정일 - 2 <= DAY) || TALENT:ASSI:육아중)
			ASSI = -1
	ENDIF
	IF TARGET > 0
		SIF ((TALENT:TARGET:임신 && CFLAG:TARGET:출산예정일 - 2 <= DAY) || TALENT:TARGET:육아중)
			TARGET = -1
	ENDIF
CASE 2
ENDSELECT

;----------------------------------------------------------
@OPTION_多胎妊娠機能
#DIMS L_TEXT, 4 = "OFF", "ON(드물게쌍둥이)", "ON(잉태희망)", "ON(태내합체마인)"
DRAWLINE
PRINTFORML 현재의 다태 임신 설정은 [%L_TEXT:(FLAG:쌍둥이플래그)%] 입니다
PRINTFORML 다태 임신 기능의 설정을 선택해 주세요
PRINTFORML ※임신 출산 기능이 켜져 있지 않으면 효과가 없습니다※
DRAWLINE
PRINTL
PRINTL [0] OFF(바닐라 설정)
PRINTL 　아이를 낳는 것은 한 사람뿐이며、[임신하기쉬움] 등의 효과가 없습니다。
PRINTL [1] ON(드물게 쌍둥이)
PRINTL 　체격 등의 소질에 따라、드물게 쌍둥이（이상）이 탄생합니다。최대 10% 정도。
PRINTL 　임신 기간의 연장등은 없고、효과는 출산경험이 간혹 증가하는 정도입니다。
PRINTL [2] ON(잉태희망)
PRINTL 　쌍둥이 비율이 대폭 상승하나、임신 기간 연장 등도 발생합니다。
PRINTL 　임신 인원은 체격에 따라 한계가 있습니다。
PRINTL [3] ON(태내 합체 마인)
PRINTL 　한계돌파。체격에 따른 상한선 풀겠습니다。
PRINTL 　소인 체격이 열 명쯤 임신하여 낳습니다。
PRINTL
CALL INPUTINT,0,1,2,3
FLAG:쌍둥이플래그 = RESULT
IF FLAG:임신기능 == 0
	PRINTFORMW 임신기능 설정을 ON 해주세요
	FLAG:쌍둥이플래그 = 0
ELSE
	PRINTFORMW 임신기능 설정을 [%L_TEXT:(FLAG:쌍둥이플래그)%] 로 변경했습니다
ENDIF
IF FLAG:쌍둥이플래그 == 0
	CALL CLEAR_PREGNANCY_MULTI_BIRTHS
	PRINTFORMW 임신 중인 모든 캐릭터의 임신 수를 1로 재설정했습니다
ENDIF

;---- EDIT 041 ADD START   -------------------------
;----------------------------------------------------------
@OPTION_던전탐색모드
#DIMS L_TEXT, 3 = "디폴트", "클래식", "α버전"
DRAWLINE
PRINTFORML 현재 던전 탐색 모드는 [%L_TEXT:(FLAG:던전탐색모드설정)%] 입니다
PRINTFORML 1일 던전 탐색 횟수 설정입니다
PRINTFORML 던전 탐색 모드 설정을 선택하세요
PRINTFORML 디폴트는
PRINTFORML 당신의 레벨 50 이상、또는 절륜、수수께끼의매력、금단의 지식 중 하나에 소질이 있는 경우+1 (1일 2회)
PRINTFORML 당신의 레벨 100이상일시 추가로+1 (1일 3회)
PRINTFORML 입니다
DRAWLINE
PRINTL
PRINTL [0] 디폴트
PRINTL [1] 클래식　(1일1회로 제한)
PRINTL [2] α버전　(「금단의지식」에 따른 횟수 증가 무효화)
PRINTL
CALL INPUTINT,0,1,2
IF FLAG:던전탐색모드설정 == RESULT
	PRINTW 던전 탐색 모드를 변경하지 않았습니다。
ELSE
	FLAG:던전탐색모드설정 = RESULT
	PRINTFORMW 던전 탐색 모드를 [%L_TEXT:(FLAG:PALAM표시설정)%] 로 변경했습니다。
ENDIF

;---- EDIT 041 ADD END   -------------------------

;----------------------------------------------------------
@OPTION_므흣전개：밀려넘어짐
INVERTBIT FLAG:밀려넘어짐이벤트, 0
SIF !INRANGE(FLAG:밀려넘어짐이벤트발생률, 1, 10)
	FLAG:밀려넘어짐이벤트발생률 = 7

;----------------------------------------------------------
@OPTION_므흣전개：밀려넘어짐발생률
DRAWLINE
PRINTL 밀려 넘어지는 이벤트의 발생률을 설정합니다
PRINTL 설정할 확률을 입력하십시오　（1％～10％）
DRAWLINE
CALL INPUT_MANY(1, 10)
FLAG:밀려넘어짐이벤트발생률 = RESULT
PRINTFORMW 이벤트 발생률을 {FLAG:밀려넘어짐이벤트발생률}\%로 변경했습니다

;----------------------------------------------------------
@OPTION_므흣전개：밀려넘어짐성별설정
DRAWLINE
PRINTL 밀려 넘어지는 현상이 발생하는 성별 조합을 설정합니다
PRINTL 　※대상→당신 男娘:오토코노코　双女:후타나리
DRAWLINE
PRINTL
PRINTFORM [ 1]  여 → 남  :\@ GETBIT(FLAG:밀려넘어짐이벤트,1) ? ○ # × \@ 
PRINTFORM [ 2] 후타나리→ 남  :\@ GETBIT(FLAG:밀려넘어짐이벤트,2) ? ○ # × \@ 
PRINTFORM [ 3]  남 → 남  :\@ GETBIT(FLAG:밀려넘어짐이벤트,3) ? ○ # × \@ 
PRINTFORML [ 4] 낭자애→ 남  :\@ GETBIT(FLAG:밀려넘어짐이벤트,4) ? ○ # × \@ 
PRINTFORM [ 5]  여 → 여  :\@ GETBIT(FLAG:밀려넘어짐이벤트,5) ? ○ # × \@ 
PRINTFORM [ 6] 후타나리→ 여  :\@ GETBIT(FLAG:밀려넘어짐이벤트,6) ? ○ # × \@ 
PRINTFORM [ 7]  남 → 여  :\@ GETBIT(FLAG:밀려넘어짐이벤트,7) ? ○ # × \@ 
PRINTFORML [ 8] 낭자애→ 여  :\@ GETBIT(FLAG:밀려넘어짐이벤트,8) ? ○ # × \@  
PRINTFORM [ 9]  여 →낭자애 :\@ GETBIT(FLAG:밀려넘어짐이벤트,9) ? ○ # × \@ 
PRINTFORM [10] 후타나리→낭자애 :\@ GETBIT(FLAG:밀려넘어짐이벤트,10) ? ○ # × \@ 
PRINTFORM [11]  남 →낭자애 :\@ GETBIT(FLAG:밀려넘어짐이벤트,11) ? ○ # × \@ 
PRINTFORML [12] 낭자애→낭자애 :\@ GETBIT(FLAG:밀려넘어짐이벤트,12) ? ○ # × \@  
PRINTFORM [13]  여 →후타나리 :\@ GETBIT(FLAG:밀려넘어짐이벤트,13) ? ○ # × \@ 
PRINTFORM [14] 후타나리→후타나리 :\@ GETBIT(FLAG:밀려넘어짐이벤트,14) ? ○ # × \@ 
PRINTFORM [15]  남 →후타나리 :\@ GETBIT(FLAG:밀려넘어짐이벤트,15) ? ○ # × \@ 
PRINTFORML [16] 낭자애→후타나리 :\@ GETBIT(FLAG:밀려넘어짐이벤트,16) ? ○ # × \@  
PRINTL
PRINT [100] 모두 있음  
PRINT [200] 모두 없음  
PRINTL [999] 옵션으로 돌아가기
PRINTL
INPUT
SELECTCASE RESULT
	CASE 999
		RETURN
	CASE 1 TO 16
		INVERTBIT FLAG:밀려넘어짐이벤트, RESULT
	CASE 100
		FOR LOCAL, 1, 18
			SETBIT FLAG:밀려넘어짐이벤트, LOCAL
		NEXT
	CASE 200
		FOR LOCAL, 1, 18
			CLEARBIT FLAG:밀려넘어짐이벤트, LOCAL
		NEXT
ENDSELECT
RESTART

;----------------------------------------------------------
@OPTION_야생악마소질랜덤설정
DRAWLINE
PRINTL 출현악마에 소질을 랜덤설정하도록 됩니다
PRINTL 설정할 항목을 선택해주세요
DRAWLINE
PRINTL
PRINTFORML [0] 배우자 랜덤 부여　　　　　　　　　　　[현재의 설정확률：{FLAG:배우자랜덤부여}％]
PRINTFORML [1] 야생 악마 소질을 랜덤 부여（현재는 가슴만）[현재의 설정확률：{FLAG:야생악마소질랜덤설정}％]
PRINTL
CALL INPUTINT(0,1)
SELECTCASE RESULT
	CASE 0
		PRINTL 배우자가 없는 악마에게 배우자를 설정합니다
		PRINTL 설정할 확률을 입력해주세요　（0-100%）
		INPUT
		FLAG:배우자랜덤부여 = LIMIT(RESULT, 0, 100)
		IF FLAG:배우자랜덤부여 == 0
			PRINTW 설정을 해제했습니다
		ELSE
			PRINTFORMW {FLAG:배우자랜덤부여}\%로 변경했습니다
		ENDIF
	CASE 1
		PRINTL 출현 악마의 소질을 랜덤으로 설정합니다(현재는 가슴만)
		PRINTL 설정할 확률을 입력하십시오　（0-100%）
		INPUT
		FLAG:야생악마소질랜덤설정 = LIMIT(RESULT, 0, 100)
		IF FLAG:야생악마소질랜덤설정 == 0
			PRINTW 설정을 해제했습니다
		ELSE
			PRINTFORMW {FLAG:야생악마소질랜덤설정}\%로 변경했습니다
		ENDIF
ENDSELECT

;----------------------------------------------------------
@OPTION_전투시목숨구걸이벤트설정
DRAWLINE
PRINTL 전투시의 목숨 구걸 이벤트 발생에 대해 설정합니다
PRINTL 설정 항목을 선택해 주세요
DRAWLINE
PRINTL
PRINTFORML [0] 목숨 구걸 이벤트　　　　　　[현재의 발생 설정：\@ GETBIT(FLAG:전투시목숨구걸이벤트,0) ? 없음  # 없음 \@]
IF GETBIT(FLAG:전투시목숨구걸이벤트,0)
	PRINTFORML [1] 이벤트 발생률　　　　　　[현재의 설정 확률：{FLAG:전투시목숨구걸이벤트발생률}\%]
	PRINTL
	CALL INPUTINT(0,1)
ELSE
	PRINTL
	CALL INPUTINT(0)
ENDIF
SELECTCASE RESULT
	CASE 0
		INVERTBIT FLAG:전투시목숨구걸이벤트, 0
		PRINTFORMW 전투 중 목숨 구걸 이벤트의 발생을 \@ GETBIT(FLAG:전투시목숨구걸이벤트,0) ? 있음 # 없음 \@으로 변경 했습니다
		SIF !INRANGE(FLAG:전투시목숨구걸이벤트발생률, 1, 10)
			FLAG:전투시목숨구걸이벤트발생률 = 5
	CASE 1
		PRINTL 목숨 구걸 이벤트의 발생률을 설정합니다
		PRINTL 설정할 확률을 입력해주십시오　（1〜10%）
		INPUT
		FLAG:전투시목숨구걸이벤트발생률 = LIMIT(RESULT, 1, 10)
		PRINTFORMW 이벤트 발생률을 {FLAG:전투시목숨구걸이벤트발생률}％로 변경 했습니다
ENDSELECT

;----------------------------------------------------------
@OPTION_적강화옵션설정
DRAWLINE
PRINTL 적의 강화 수준을 입력하십시오。입력 가능한 범위는 0～20입니다　(0으로 강화설정무효)
DRAWLINE
CALL INPUT_MANY(0,20)
FLAG:적강화옵션 = RESULT

;----------------------------------------------------------
@OPTION_레벨업시인터페이스설정
#DIMS L_TEXT, 4 = "디폴트I/F", "신형I/F", "자동I/F", "자동I/F개"
FLAG:레벨업시인터페이스설정 = LIMIT(FLAG:레벨업시인터페이스설정, 0, 3)
DRAWLINE
PRINTFORML 현재의 표시 설정은 [%L_TEXT:(FLAG:레벨업시인터페이스설정)%] 로 되어있습니다
DRAWLINE
PRINTL
PRINTL [0] 디폴트 I/F
PRINTL 설명　：특정 스테이터스를 키울때 유용합니다.
PRINTL 　　　　상승시키는 스테이터스와 상승 값을 선택합니다.
PRINTL [1] 신형 I/F
PRINTL 설명　：세세한 스테이터스 조정에 편리합니다.
PRINTL 　　　　FSP 타입 조작으로 스테이터스 상승 값을 조작합니다.
PRINTL [2] 자동 I/F
PRINTL 설명　：랜덤으로 스테이터스를 배분합니다.
PRINTL 　　　　남자는 힘이, 여자는 마력이 상승하기 쉽습니다.
PRINTL [3] 자동I/F개
PRINTL └ [4] 성장비율설정
PRINTL 설명　：캐릭터마다 설정된 성장치를 기반으로 스테이터스를 분배합니다
PRINTL 　　　　미설정인 경우에는 초기능력히에서 계산된 증가율이 자동적으로 산출됩니다
PRINTL
CALL INPUTINT(0, 1, 2, 3, 4)
IF FLAG:레벨업시인터페이스설정 == RESULT
	PRINTW 표시설정을 변경하지 않았습니다
ELSEIF RESULT == 4
	SWAP LOCAL,FLAG:SHOP커맨드
	FLAG:SHOP커맨드 = 40032
	CALL LVUP_AUTOIF2_SETUP
	SWAP LOCAL,FLAG:SHOP커맨드
ELSE
	FLAG:레벨업시인터페이스설정 = RESULT
	PRINTFORMW 표시 설정을 [%L_TEXT:(FLAG:레벨업시인터페이스설정)%] 로 변경했습니다
ENDIF

;----------------------------------------------------------
;DEBUG
;----------------------------------------------------------
@OPTION_전투시보이콧설정
#DIMS L_TEXT, 5 = "없음", "FLAVOR", "EASY", "NORMAL", "HARD"
FLAG:전투시보이콧설정 = LIMIT(FLAG:전투시보이콧설정, 0, 4)
DRAWLINE
PRINTFORML 현재의 설정은 %L_TEXT:(FLAG:전투시보이콧설정)%로 되어있습니다。
DRAWLINE
PRINTL
PRINTL [0] 없음
PRINTL 설명　：전투중 보이콧 이벤트가 발생하지 않습니다.
PRINTL 　　　　바닐라와 같은 동작을 하게 됩니다.
PRINTL [1] FLAVOR
PRINTL 설명　：전투중 보이콧 비슷한 이벤트가 나타납니다.
PRINTL 　　　　행동 캔슬 등의 사항이 포함되지 않는 대사 이벤트뿐입니다.
PRINTL [2] EASY
PRINTL 설명　：전투중 저난이도의 보이콧 이벤트가 발생합니다.
PRINTL 　　　　대사와 함께 기력 증감이 생깁니다만, 행동 캔슬 등 다른 보이콧 이벤트는 발생하지 않습니다.
PRINTL [3] NORMAL
PRINTL 설명　：전투중에 통상 난이도의 보이콧 이벤트가 발생합니다.
PRINTL 　　　　밸런스 조정중이기 때문에 통상 플레이에는 맞지 않습니다.
PRINTL [4] HARD
PRINTL 설명　：전투중에 고난이도의 보이콧 이벤트가 발생합니다.
PRINTL 　　　　미실장입니다.
PRINTL
CALL INPUTINT(0, 1, 2, 3, 4)
IF FLAG:전투시보이콧설정 == RESULT
	PRINTW 보이콧 설정을 변경하지 않았습니다
ELSE
	FLAG:전투시보이콧설정 = RESULT
	PRINTFORMW 보이콧 설정을 %L_TEXT:(FLAG:전투시보이콧설정)%로 변경했습니다
ENDIF

;----------------------------------------------------------
@OPTION_EXTRA이벤트설정
INVERTBIT FLAG:EXTRA이벤트설정, 0
PRINTFORMW EXTRA 이벤트의 발생을 \@ GETBIT(FLAG:EXTRA이벤트설정, 0) ? 있음 # 없음 \@으로 변경했습니다
SIF GETBIT(FLAG:EXTRA이벤트설정, 0)
	CALL EXTRA_EVENT_FILTER

;----------------------------------------------------------
@OPTION_전투시인간스테이터스계산방식
#DIMS L_TEXT, 4 = "일반 (바닐라 설정)", "명중률 개선", "전체으로 끌어 올림", "장비품의 보정을（LV/2）\% 만큼 강화"
FLAG:인간전투스텟설정 = LIMIT(FLAG:인간전투스텟설정, 0, 4)
DRAWLINE
PRINTFORML 현재의 설정은 %L_TEXT:(FLAG:인간전투스텟설정)%으로 되어있습니다
DRAWLINE
PRINTL [0] 일반 (바닐라 설정)
PRINTL 설명　：eraMegaten 본래의 설정
PRINTL 　　　　전투중의 처리에 반영되는 인간의 스테이터스는 악마의 절반 정도.
PRINTL [1] 명중률 개선
PRINTL 설명　：명중률에 관련된 스테이터스의 계산법을 악마의 것에 근접한 설정
PRINTL 　　　　일반 모드에서 공격이 맞지 않아 좌절하는 당신에게.
PRINTL [2] 전체적으로 끌어 올림
PRINTL 설명　：ＨＰ・ＭＰ이외의 모든 스테이터스의 계산법을 악마의 것에 근접한 설정
PRINTL 　　　　그래도 악마보다 1 ~ 2 걸음 약하기 때문에 방심은 금물.
PRINTL [3] 장비품의 보정을（LV/2）\% 만큼 강화
PRINTL 설명　：인간과 이능자와 달인의 장비 능력치에 레벨의 절반 퍼센트를 더한다
PRINTL 　　　　레벨 50이라면 25퍼센트 70이라면 35퍼센트
CALL INPUTINT( 0, 1, 2, 3)
IF FLAG:인간전투스텟설정 == RESULT
	PRINTW 설정을 변경하지 않았습니다
ELSE
	FLAG:인간전투스텟설정 = RESULT
	PRINTFORMW %L_TEXT:(FLAG:인간전투스텟설정)%으로 변경했습니다
ENDIF

;----------------------------------------------------------
@OPTION_전투시소질영향설정
DRAWLINE
PRINTL [0] 일반 (바닐라 설정)
PRINTL 설명　：eraMegaten 본래의 설정
PRINTL 　　　　소질에 따른 위력 업이나 코스트 삭감을 하지 않는다
PRINTL [1] 소질 영향
PRINTL 설명　：소질에 따른 코스트 삭감이나
PRINTL 　　　　위력 アップ의 영향을 받게 된다
CALL INPUTINT( 0, 1)
CALL BATTLE_SETTING_SET_TALENT, RESULT
SELECTCASE BATTLE_SETTING_IS_TALENT()
	CASE 0
		PRINTW 일반 설정으로 되었습니다
	CASE 1
		PRINTW 소질의 영향을 받게 되었습니다
ENDSELECT

;----------------------------------------------------------
@OPTION_전투시배드스텟필중설정
DRAWLINE
PRINTL [0] 일반 (바닐라 설정)
PRINTL 설명　：eraMegaten 본래의 설정
PRINTL 　　　　움직일 수 없는 배드 스테이터스라도 회피할 수 있다
PRINTL [1] 배드스텟 필중
PRINTL 설명　：움직일 수 없는 배드 스테이터스라면
PRINTL 　　　　회피할 수 없어진다
CALL INPUTINT( 0, 1)
CALL BATTLE_SETTING_SET_BAD_STATUS, RESULT
SELECTCASE BATTLE_SETTING_IS_BAD_STATUS()
	CASE 0
		PRINTW 일반 설정으로 되었습니다
	CASE 1
		PRINTW 배드스텟의 영향을 받게 되었습니다
ENDSELECT

;----------------------------------------------------------
@OPTION_전투시1more동작설정
DRAWLINE
PRINTL [0] 일반 (바닐라 설정)
PRINTL 설명　：eraMegaten 본래의 설정
PRINTL 　　　　적에게 약점공격을 한 번이라도 당하면 １MORE가 발생한다
PRINTL [1] 변경
PRINTL 설명　：무효나 반사、흡수 또는 회피하면
PRINTL 　　　　적이 １MORE를 하기 어려워진다
CALL INPUTINT( 0, 1)
CALL BATTLE_SETTING_SET_1MORE, RESULT
SELECTCASE BATTLE_SETTING_IS_1MORE()
	CASE 0
		PRINTW 일반 설정으로 되었습니다
	CASE 1
		PRINTW １MORE의 설정을 바꾸었습니다
ENDSELECT

;----------------------------------------------------------
@OPTION_장비내성・효과변경설정
CALL BATTLE_SETTING_INVERT_EQUIP_EFFECT
PRINTW 설정을 변경했습니다

;----------------------------------------------------------
@OPTION_마카환율변동기능
CALL SETTING_INVERT_MAKKA_RATE
PRINTW 설정을 변경했습니다

;----------------------------------------------------------
@OPTION_소셜게임풍가챠
#DIMS L_TEXT, 3 = "없음", "가챠 기동", "가챠 악마 전용"
FLAG:악마가챠모드 = LIMIT(FLAG:악마가챠모드, 0, 2)
DRAWLINE
PRINTFORML 현재의 가챠모드는 [%L_TEXT:(FLAG:악마가챠모드)%] 으로 되어있습니다
DRAWLINE
PRINTL [0] 없음
PRINTL 설명　：이 기능을 사용하지 않습니다.
PRINTL [1] 가챠 기동
PRINTL 설명　：마카를 사용하여 가챠를 돌릴 수 있습니다.
PRINTL 　　　　가챠산 악마는 전용 소질을 가져서 그 외 악마와는 구별 됩니다.
PRINTL 　　　　밸런스를 무너뜨리기 때문에 다용하는 것은 권장하지 않습니다.
PRINTL [2] 가챠 악마 전용
PRINTL 설명　：마카 또는 전용 포인트를 사용한여 얻은 가챠산 악마 이외의
PRINTL 　　　　전서소환 가능 악마는 스테이터스 및 노예매각에 큰 패널티를 얻습니다.
PRINTL 　　　　제한 플레이에 추천합니다.
SETCOLOR 0x990033
PRINTL 　　※탐색 중에 이 모드로 전환하는 것을 권장하지 않습니다.
RESETCOLOR
CALL INPUTINT(0, 1, 2)
IF FLAG:악마가챠모드 == RESULT
	PRINTW 표시설정을 변경하지 않았습니다
ELSE
	FLAG:악마가챠모드 = RESULT
	PRINTFORMW 악마가챠를 [%L_TEXT:(FLAG:악마가챠모드)%] 모드로 변경했습니다
ENDIF

;----------------------------------------------------------
@OPTION_데빌시프터스텟설정
#DIMS L_TEXT, 2 = "일반 (바닐라설정)", "계산식 변경"
FLAG:데빌시프터스탯설정 = LIMIT(FLAG:데빌시프터스탯설정, 0, 1)
DRAWLINE
PRINTFORML 현재의 설정은 [%L_TEXT:(FLAG:데빌시프터스탯설정)%] 로 되어있습니다
DRAWLINE
PRINTL [0] 일반 (바닐라 설정)
PRINTL 설명　：eraMegaten 본래의 설정
PRINTL 　　　　링크악마의 스테에 따라 본체의 능력합계를 나눈뒤 강화치를 더한다.
PRINTL 　　　　초기링크악마는 csv스테이터스로 계산한다.
PRINTL [1] 계산식 변경
PRINTL 설명　：링크악마의 각 스테이터스 / 10을 본체에 더한다.
PRINTL 　　　　초기링크악마는 각 csv 스테이터스 / 5와 본체 레벨 / 30을 더한다.
CALL INPUTINT( 0, 1)
IF FLAG:데빌시프터스탯설정 == RESULT
	PRINTW 설정을 변경하지 않았습니다
ELSE
	FLAG:데빌시프터스탯설정 = RESULT
	PRINTFORMW  [%L_TEXT:(FLAG:데빌시프터스탯설정)%] 으로 변경했습니다
ENDIF
;----------------------------------------------------------
@OPTION_장비효과설정
#DIMS L_TEXT, 2 = "변경하지 않는다", "변경한다"
DRAWLINE
PRINTFORML 현재의 설정은 [%L_TEXT:BATTLE_SETTING_IS_EQUIPTHEORY()%]로 되어있습니다
DRAWLINE
PRINTL [0] 변경하지 않는다
PRINTL 설명　：디폴트 설정。
PRINTL 　　　　장비지식스킬을 갖고 있는 악마는 인간과 같이 Lv80이상부터 보정이 유효해진다
PRINTL [1] 변경한다
PRINTL 설명　：장비지식스킬을 갖고 있는 악마는 Lv80이상이면 총 관련 장비의 보정은 무효해진다。
PRINTL 　　　　또한、P3형 이외의 페르소나구사자라도 장비에 의한 배드스텟 내성변경이 유효해진다。
CALL INPUTINT( 0, 1)
CALL BATTLE_SETTING_SET_EQUIPTHEORY, RESULT
PRINTFORML [%L_TEXT:BATTLE_SETTING_IS_EQUIPTHEORY()%]로 되었습니다

;----------------------------------------------------------
@OPTION_페르소나구사자사양설정
#DIMS L_TEXT, 3 = "디폴트", "페르소나１・２ 캐릭터의 사양으로 통일", "페르소나３이후 캐릭터의 사양으로 통일"
;---- EDIT 038 ADD START -------------------------
;		LIMITが0～1だったため呼び出すたびに数値が変更されるのを修正
FLAG:페르소나구사자사양설정 = LIMIT(FLAG:페르소나구사자사양설정, 0, 4)
DRAWLINE
PRINTFORML 현재의 설정은 [%L_TEXT:(FLAG:페르소나구사자사양설정)%] 로 되어있습니다
DRAWLINE
PRINTFORML 설정을 선택해주세요
PRINTL [0] 페르소나１・２ 캐릭터는 즉시 체인지 가능、３이후 캐릭터는 체인지에 １턴 걸리지만 페르소나성장이 빠르고 배드스텟 내성장비가 유효（디폴트）
PRINTL [1] 모든 페르소나구사자를 페르소나１・２ 캐릭터의 사양으로 통일
PRINTL [2] 모든 페르소나구사자를 페르소나３이후의 캐릭터의 사양으로 통일
PRINTL [3] 단점을 없앤다. (전 페르소나 사용을 즉시 체인지 가능, 페르소나의 성장이 빠르고 배드스텟 내성 장비가 유효하게 한다)
;全部廃止しても데빌시프터相当になるだけ
PRINTL [4] 디메리트를 완전하게 없앤다(전체 P사용 즉시 체인지, P의 성장이 빨라 BS 내성 유효. 내성 변경의 제한 완화.초기 P 얼라인먼트에 의한 EXP 보정 폐지)
CALL INPUTINT(0, 1, 2, 3, 4)
FLAG:페르소나구사자사양설정 = RESULT
PRINTFORML 설정 [%L_TEXT:(FLAG:페르소나구사자사양설정)%] 로 변경했습니다

;----------------------------------------------------------
;---- EDIT 035 ADD START -------------------------
@OPTION_페르소나구사자추가스텟설정
#DIMS L_TEXT, 2 = "통상(바닐라설정)", "계산식변경"
FLAG:페르소나구사자추가스텟설정 = LIMIT(FLAG:페르소나구사자추가스텟설정, 0, 1)
DRAWLINE
PRINTFORML 현재의 설정은 [%L_TEXT:(FLAG:페르소나구사자추가스텟설정)%]로 되어있습니다
DRAWLINE
PRINTL [0] 통상(바닐라설정)
PRINTL 설명　：eraMegaten본래의 설정。
PRINTL 　　　　초기 페르소나만 본체 능력의 합계를 나눈 후 스테이터스를 최대 1/10 더한다.
PRINTL 　　　　초기 페르소나만 전투 능력에 1/400의 보정을 준다
PRINTL 　　　　추가 페르소나는 초기 csv 스테이터스에 따라 계산한다.
PRINTL [1] 계산식변경
PRINTL 설명　：모든 페르소나는 각 스테이터스 최대 1/10을 본체에 더한다.
PRINTL 　　　　모든 페르소나의 전투 능력에 1/400의 보정을 준다
CALL INPUTINT( 0, 1)
IF FLAG:페르소나구사자추가스텟설정 == RESULT
	PRINTW 설정을 변경하지 않았습니다
ELSE
	FLAG:페르소나구사자추가스텟설정 = RESULT
	PRINTFORMW  [%L_TEXT:(FLAG:페르소나구사자추가스텟설정)%] 로 변경했습니다.
ENDIF
;---- EDIT 035 ADD END -------------------------
;---- EDIT 036 ADD START -------------------------
@OPTION_소지페르소나EXP증가설정
#DIMS L_TEXT, 2 = "통상(바닐라설정)", "계산식변경"
FLAG:소지페르소나EXP증가설정 = LIMIT(FLAG:소지페르소나EXP증가설정, 0, 1)
DRAWLINE
PRINTFORML 현재의 설정은 [%L_TEXT:(FLAG:소지페르소나EXP증가설정)%]로 되어있습니다
DRAWLINE
PRINTL [0] 통상(바닐라설정)
PRINTL 설명　：eraMegaten본래의 설정。
PRINTL 장비하고 있는 페르소나만 경험치가 증가한다
PRINTL [1] 계산식변경
PRINTL 설명　：페르소나 구사자가 소지하고 있는 모든 페르소나의 경험치가 증가한다.
CALL INPUTINT( 0, 1)
IF FLAG:소지페르소나EXP증가설정 == RESULT
	PRINTW 설정을 변경하지 않았습니다
ELSE
	FLAG:소지페르소나EXP증가설정 = RESULT
	PRINTFORMW  [%L_TEXT:(FLAG:소지페르소나EXP증가설정)%] 로 변경했습니다.
ENDIF
;---- EDIT 036 ADD END -------------------------
;----------------------------------------------------------


@OPTION_공격아이템의계산식설정
#DIMS L_TEXT = "디폴트", "위력 계산만 변경한다", "ERROR", "위력・명중 계산 모두 변경한다"
DRAWLINE
PRINTFORML 공격아이템 사용 시 능력치의 영향을 선택해 주세요。
PRINTFORML 현재의 설정은 [%L_TEXT:(BATTLE_SETTING_IS_ITEM_DAMAGE()+BATTLE_SETTING_IS_ITEM_HITRATE()*2)%]로 되어있습니다
DRAWLINE
PRINTFORML 설정을 선택해 주세요
PRINTL [0] 바닐라 설정
PRINTL 설명　：eraMegaten본래의 설정。
PRINTL 　　　　데미지를 주는 공격아이템은 명중 판정에 마법효과를, 데미지 계산에 마법위력을 참조합니다。
PRINTL 　　　　기본값은 낮지만, 장비품으로 보정할 수 있습니다。
PRINTL 　　　　도구 지식을 갖춘 서머너보다 마법형 능자쪽이 효과적으로 아이템을 사용할 수 있게 될 것입니다。
PRINTL [1] 위력 계산만 변경한다
PRINTL 설명　：명중판정에 마법효과를 사용하는 상태로, 데미지 계산식을 변경합니다。
PRINTL 　　　　레벨・지혜가 큰 영향을 주고, 운이 조금 영향을 줍니다。개인간의 능력차는 좁혀집니다。
PRINTL 　　　　기본값은 높아지지만, 장비품으로 보정할 수 없게 됩니다。
PRINTL [2] 위력・명중 계산을 모두 변경한다
PRINTL 설명　：위력 계산뿐만 아니라 명중 판정의 계산식도 함께 변경합니다。
PRINTL 　　　　명중 판정에는 레벨・속도가 큰 영향을 주고、마력이 조금 영향을 줍니다。개인간의 능력차는 더욱 좁혀집니다。
PRINTL 　　　　이쪽도 기본값이 높아지지만, 장비품으로 보정할 수 없게 됩니다。
CALL INPUTINT(0, 1, 2)
SELECTCASE RESULT
	CASE 1
		CALL BATTLE_SETTING_SET_ITEM_DAMAGE(1)
		CALL BATTLE_SETTING_SET_ITEM_HITRATE(0)
	CASE 2
		CALL BATTLE_SETTING_SET_ITEM_DAMAGE(1)
		CALL BATTLE_SETTING_SET_ITEM_HITRATE(1)
	CASEELSE
		CALL BATTLE_SETTING_SET_ITEM_DAMAGE(0)
		CALL BATTLE_SETTING_SET_ITEM_HITRATE(0)
ENDSELECT
PRINTFORML 設定を [%L_TEXT:(BATTLE_SETTING_IS_ITEM_DAMAGE()+BATTLE_SETTING_IS_ITEM_HITRATE()*2)%] に変更しました
;---- EDIT 038 ADD END -------------------------

;================================================
;[1]사정位置설정
;================================================
@SAMENPLACE_SETTING
#DIMS L_TEXT, 10 = "머리카락", "얼굴", "가슴", "배", "겨드랑이", "허벅지", "가랑이", "엉덩이", "그대로 사정", "그때마다 선택"
PRINTL 사정시에 자동으로 선택되는 사정 부위를 선택하십시오
PRINTFORML 현재 사정시에 자동 선택되는 사정 부위는：[%L_TEXT:(FLAG:99)%]
PRINTL 
PRINTL [0] 「머리카락」
PRINTL [1] 「얼굴」
PRINTL [2] 「가슴」
PRINTL [3] 「배」
PRINTL [4] 「겨드랑이」
PRINTL [5] 「허벅지」
PRINTL [6] 「가랑이」
PRINTL [7] 「엉덩이」
PRINTL [8] 「그대로 사정」or「콘돔에 사정」
PRINTL [9] 「그때마다 선택」
PRINTL [10] 「랜덤부카게」
PRINTL 
INPUT
FLAG:99 = LIMIT(RESULT, 0, 9)
PRINTFORMW 사정 부위를 [%L_TEXT:(FLAG:99)%] 로 설정했습니다

;----------------------------------------------------------
;相性のカラー설정
;----------------------------------------------------------
@TYPE_COLOR_SETTING
#LOCALSIZE 21
FOR LOCAL, 0, 6
	LOCAL:20 = FLAG:(GETNUM(FLAG, "통상컬러")+LOCAL)
	CALL GETCOLOR_9(LOCAL:20)
	LOCAL:(1 + LOCAL*3) = RESULT
	LOCAL:(2 + LOCAL*3) = RESULT:1
	LOCAL:(3 + LOCAL*3) = RESULT:2
NEXT
$START
FOR LOCAL, 0, 6
	SETCOLOR LOCAL:(1+LOCAL*3), LOCAL:(2+LOCAL*3), LOCAL:(3+LOCAL*3)
	CALL GETCOLOR_9(LOCAL:(1+LOCAL*3), LOCAL:(2+LOCAL*3), LOCAL:(3+LOCAL*3))
	FLAG:(GETNUM(FLAG, "통상컬러")+LOCAL) = RESULT
	IF LOCAL == 0
		PRINTL 통상
	ELSEIF LOCAL == 1
		PRINTL 약점
	ELSEIF LOCAL == 2
		PRINTL 내성
	ELSEIF LOCAL == 3
		PRINTL 무효
	ELSEIF LOCAL == 4
		PRINTL 흡수
	ELSEIF LOCAL == 5
		PRINTL 반사
	ENDIF
	PRINTFORM Ｒ{LOCAL:(1+LOCAL*3),3}　
	LOCALS = [{LOCAL*12, 2}]
	PRINTBUTTON LOCALS, LOCAL*12
	PRINT +1　
	LOCALS = [{LOCAL*12+1, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+1
	PRINT +10　
	LOCALS = [{LOCAL*12+2, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+2
	PRINT -1　
	LOCALS = [{LOCAL*12+3,2}]
	PRINTBUTTON LOCALS, LOCAL*12+3
	PRINTL -10　
	PRINTFORM Ｇ{LOCAL:(2+LOCAL*3),3}　
	LOCALS = [{LOCAL*12+4,2}]
	PRINTBUTTON LOCALS, LOCAL*12+4
	PRINT +1　
	LOCALS = [{LOCAL*12+5, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+5
	PRINT +10　
	LOCALS = [{LOCAL*12+6, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+6
	PRINT -1　
	LOCALS = [{LOCAL*12+7, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+07
	PRINTL -10　
	PRINTFORM Ｂ{LOCAL:(3+LOCAL*3),3}　
	LOCALS = [{LOCAL*12+8, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+8
	PRINT +1　
	LOCALS = [{LOCAL*12+9, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+9
	PRINT +10　
	LOCALS = [{LOCAL*12+10, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+10
	PRINT -1　
	LOCALS = [{LOCAL*12+11, 2}]
	PRINTBUTTON LOCALS, LOCAL*12+11
	PRINTL -10　
NEXT
RESETCOLOR
PRINTL [100] 돌아간다
INPUT
SIF RESULT == 100
	RETURN 0
SIF RESULT < 0 || RESULT > 71
	GOTO START
LOCAL = RESULT / 12 * 3
LOCAL:20 = RESULT % 12
SELECTCASE LOCAL:20
	CASE 0
		LOCAL:(1 + LOCAL) += 1
	CASE 1
		LOCAL:(1 + LOCAL) += 10
	CASE 2
		LOCAL:(1 + LOCAL) -= 1
	CASE 3
		LOCAL:(1 + LOCAL) -= 10
	CASE 4
		LOCAL:(2 + LOCAL) += 1
	CASE 5
		LOCAL:(2 + LOCAL) += 10
	CASE 6
		LOCAL:(2 + LOCAL) -= 1
	CASE 7
		LOCAL:(2 + LOCAL) -= 10
	CASE 8
		LOCAL:(3 + LOCAL) += 1
	CASE 9
		LOCAL:(3 + LOCAL) += 10
	CASE 10
		LOCAL:(3 + LOCAL) -= 1
	CASE 11
		LOCAL:(3 + LOCAL) -= 10
ENDSELECT
FOR LOCAL, 1, 19
	SIF LOCAL:LOCAL < 0
		LOCAL:LOCAL = 0
	
	SIF LOCAL:LOCAL > 255
		LOCAL:LOCAL = 255
NEXT
CLEARLINE 26
GOTO START


;=====================================
;[9]오토리커버설정
;=====================================
@AUTO_RECOVER_SETTING
#DIM LCOUNT
PRINTFORML 오토 리커버 설정
DRAWLINE
PRINTFORML [0] - [\@ GETBIT(FLAG:오토리커버설정1, 0) == 0 ? 마법 # 아이템 \@]을 우선적으로 설정
PRINT [1] - HP가 
IF PART_VAR_READ(FLAG:오토리커버설정3, 3, 1) == 100
	PRINTL 1포인트라도 줄어들면 회복한다
ELSE
	PRINTFORML {PART_VAR_READ(FLAG:오토리커버설정3, 3, 1)}\% 이상이라면 회복하지 않는다
ENDIF
PRINTFORML [2] - 상태이상\@ GETBIT(FLAG:오토리커버설정1, 1) == 0 ?  은 [회복하지 않는다] # 을 [회복한다]\@
PRINTFORML [3] - 빈사\@ GETBIT(FLAG:오토리커버설정1, 2) == 0 ? 는 [부활시키지 않는다] # 를 [부활시킨다]\@
DRAWLINE
LOCALS = [10] - 회복 마법은 
PRINTFORM %LOCALS, 28, LEFT%
IF PART_VAR_READ(FLAG:오토리커버설정3, 3, 0) == 100
	PRINTL 일절 사용하지 않는다
ELSEIF PART_VAR_READ(FLAG:오토리커버설정3, 3, 0) != 0
	PRINTFORML MP가 {PART_VAR_READ(FLAG:오토리커버설정3, 3, 0)}\% 이하라면 사용하지 않는다
ELSE
	PRINTL MP가 있는 한 사용한다
ENDIF

LOCALS:0 = 외상약（HP+30）
LOCALS:1 = 마석（HP+25\%）
LOCALS:2 = 우황단（HP+200）
LOCALS:3 = 보옥（HP+100\%）
LOCALS:4 = BS 회복계 아이템
LOCALS:5 = 이와쿠라의물
LOCALS:6 = 도반옥（HP25\%부활）
LOCALS:7 = 반혼향（HP100\%부활）
FOR LCOUNT, 0, 8
	PRINTFORM [{LCOUNT + 20}] - %LOCALS:LCOUNT, 21, LEFT%
	IF PART_VAR_READ(FLAG:오토리커버설정2, 2, LCOUNT) == 10
		PRINTL 일절 사용하지 않는다
	ELSEIF PART_VAR_READ(FLAG:오토리커버설정2, 2, LCOUNT) == 0
		PRINTL 있는 만큼 사용한다
	ELSE
		PRINTFORML {PART_VAR_READ(FLAG:오토리커버설정2, 2, LCOUNT)}개 이하가 되면 사용하지 않는다
	ENDIF
NEXT

DRAWLINE
PRINTFORML [99] - 오토 리커버 실행시에 \@ GETBIT(FLAG:오토리커버설정1, 3) == 0 ? [확인하지 않는다] # [확인한다]\@
DRAWLINE
PRINTL [100] - 뒤로
CALL INPUTINT, 0, 1, 2, 3, 10, 20, 21, 22, 23, ,24 ,25 ,26 ,27 ,99, 100
SELECTCASE RESULT
	CASE 0
		INVERTBIT FLAG:오토리커버설정1, 0
	CASE 1
		PRINTL HP가 몇 ％ 깎이면 회복합니까?
		CALL INPUT_MANY, 1, 100
		SIF RESULT != 0
			FLAG:오토리커버설정3 = PART_VAR_WRITE(FLAG:오토리커버설정3, 3, 1, RESULT)
	CASE 2
		INVERTBIT FLAG:오토리커버설정1, 1
	CASE 3
		INVERTBIT FLAG:오토리커버설정1, 2
	CASE 10
		PRINTL MP는 몇 ％ 남깁니까?
		CALL INPUT_MANY, 0, 100
		FLAG:오토리커버설정3 = PART_VAR_WRITE(FLAG:오토리커버설정3, 3, 0, RESULT)
	CASE 20 TO 27
		LOCAL = RESULT - 20
		PRINTL 아이템은 몇 개 남깁니까?
		CALL INPUT_MANY, 0, 10
		FLAG:오토리커버설정2 = PART_VAR_WRITE(FLAG:오토리커버설정2, 2, LOCAL, RESULT)
	CASE 99
		INVERTBIT FLAG:오토리커버설정1, 3
	CASEELSE
		RETURN 0
ENDSELECT
RESTART



;英語怪しい
;一つの変数に複数の数値を保存できるようにする関数
;負数は不可
;例：12,34,56という３つの数字を一つのFLAGに書き込める
;FLAG:123 = 0
;FLAG:123 = PART_VAR_WRITE(FLAG:123, 2, 0, 12)
;FLAG:123 = PART_VAR_WRITE(FLAG:123, 2, 1, 34)
;FLAG:123 = PART_VAR_WRITE(FLAG:123, 2, 2, 56)
;この時点のFLAG:123 = 563412
;PRINTFORM PART_VAR_READ(FLAG:123, 2, 2) → 56
;PRINTFORM PART_VAR_READ(FLAG:123, 2, 0) → 12
;PRINTFORM PART_VAR_READ(FLAG:123, 2, 1) → 34
;Emueraでは64ビット符号付整数、-9223372036854775808〜9223372036854775807の範囲の値を扱える
;つまりこの関数を使う時は一つの変数につき18桁まで


;0:読み込む変数　1:分割桁数　2:何番눈か
@PART_VAR_READ(ARG, ARG:1, ARG:2)
#FUNCTION
SIF ARG:1 <= 0 || ARG:2 < 0 || ARG:1 * (ARG:2 + 1) > 18
	PRINTFORML ERROR!引数が이상です ARG:0={ARG} ARG:1={ARG:1} ARG:2={ARG:2}
ARG /= POWER(10, ARG:1 * ARG:2)
RETURNF ARG % POWER(10, ARG:1)
;0:書き込む変数　1:分割桁数　2:何番눈か　3:書き込む内容
;例：
;FLAG:123 = PARTITION_VARIABLE_WRITE(FLAG:123, 2, 1, 57)
@PART_VAR_WRITE(ARG, ARG:1, ARG:2, ARG:3)
#FUNCTION
SIF ARG:1 <= 0 || ARG:2 < 0 || ARG:3 < 0 || ARG:1 * (ARG:2 + 1) > 18
	PRINTFORML ERROR!引数が이상です ARG:0={ARG} ARG:1={ARG:1} ARG:2={ARG:2} ARG:3={ARG:3}
LOCAL = ARG / POWER(10, ARG:1 * (ARG:2+1))
LOCAL *=POWER(10, ARG:1)
LOCAL += ARG:3
LOCAL *=POWER(10, ARG:1 * ARG:2)
LOCAL += ARG % POWER(10, ARG:1 * ARG:2)
RETURNF LOCAL


;=====================================
;[19]ＮＴＲ설정
;=====================================
@NTR_CONFIG
#LOCALSIZE 1
#DIM LCOUNT
LOCAL = LINECOUNT
REDRAW 0
;표시
DRAWLINE
PRINTFORM [ 0] %"ＮＴＲ 기능" , 20 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 0) , 1
SIF !GETBIT(FLAG:ＮＴＲ기능 , 0)
	SETCOLOR COLOR("GRAY")
PRINTFORM [ 1] %"식당 ＮＴＲ 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 1)
PRINTFORM [ 2] %"창관 ＮＴＲ 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 2)
PRINTFORM [ 3] %"렌탈 노예 ＮＴＲ 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 3)
PRINTFORM [ 4] %"공중변소 ＮＴＲ 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 4)
PRINTFORM [ 5] %"스트립 극장 ＮＴＲ 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 5)
PRINTFORM [ 6] %"콘서트 ＮＴＲ 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 6)
PRINTFORM [ 7] %"방문판매원 ＮＴＲ 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 7)
PRINTFORM [ 8] %"아내 납치 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 8)
PRINTFORM [63] %"상사 이벤트" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , GETBIT(FLAG:ＮＴＲ기능 , 63)
PRINTFORML [89] %"ＮＴＲ 손님의 설정" , 28 , LEFT% 
PRINTFORM [90] %"ＮＴＲ 페널티" , 28 , LEFT% 
CALL NTR_SHOW_ONOFF , FLAG:ＮＴＲ하드모드 , , "있음" , "없음"
RESETCOLOR
PRINTL
PRINTFORML [100]돌아간다
REDRAW 1
;입력と処理
$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN 1
ELSEIF RESULT == 0
	INVERTBIT FLAG:ＮＴＲ기능 , 0
	IF GETBIT(FLAG:ＮＴＲ기능 , 0)
		FOR LCOUNT, 0, 9
			SETBIT FLAG:ＮＴＲ기능 , LCOUNT+1
		NEXT
	ELSE
		FLAG:ＮＴＲ기능 = 0
		FLAG:ＮＴＲ하드모드 = 0
		FLAG:ＮＴＲ손님의설정 = 0
	ENDIF
ELSEIF RANGE(RESULT , 1 , 63) && GETBIT(FLAG:ＮＴＲ기능 , 0)
	INVERTBIT FLAG:ＮＴＲ기능 , RESULT
ELSEIF RESULT == 89 && GETBIT(FLAG:ＮＴＲ기능 , 0)
	PRINTL
	PRINTFORML ＮＴＲ 손님의 설정을 선택하십시오
	PRINTL [0] 평범
	PRINTL [1] 귀축
	PRINTL [2] 외도
	CALL INPUTINT,0,1,2
	FLAG:ＮＴＲ손님의설정 = RESULT
	PRINTFORM ＮＴＲ 손님의 설정을 [
	SELECTCASE FLAG:ＮＴＲ손님의설정
		CASE 0
			PRINT 평범
		CASE 1
			PRINT 귀축
		CASE 2
			PRINT 외도
	ENDSELECT
	PRINTFORMW ] 으로 변경했습니다.
ELSEIF RESULT == 90 && GETBIT(FLAG:ＮＴＲ기능 , 0)
	INVERTBIT FLAG:ＮＴＲ하드모드 , 0
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
REDRAW 0
CLEARLINE LINECOUNT - LOCAL
RESTART


@NTR_SHOW_ONOFF(ARG , ARG:1 = 0 ,  ARGS = "  ON" , ARGS:1 = " OFF")
SIF  (GETBIT(FLAG:ＮＴＲ기능 , 0) || ARG:1)
	RESETCOLOR
PRINT [
IF ARG && (GETBIT(FLAG:ＮＴＲ기능 , 0) || ARG:1)
	SETCOLOR COLOR("AQUA")
ELSE
	SETCOLOR COLOR("GRAY")
ENDIF
PRINTFORM %ARGS%
SIF  (GETBIT(FLAG:ＮＴＲ기능 , 0) || ARG:1)
	RESETCOLOR
PRINT  / 
IF !ARG &&  (GETBIT(FLAG:ＮＴＲ기능 , 0) || ARG:1)
	SETCOLOR COLOR("AQUA")
ELSE
	SETCOLOR COLOR("GRAY")
ENDIF
PRINTFORM  %ARGS:1%
SIF  (GETBIT(FLAG:ＮＴＲ기능 , 0) || ARG:1)
	RESETCOLOR
PRINTL ]

;=====================================
;好餌이벤트설정
;=====================================
@KOUJI_CONFIG
#LOCALSIZE 1
#DIM LCOUNT
LOCAL = LINECOUNT

REDRAW 0
;표시
PRINTFORML 미끼이벤트설정
DRAWLINE
PRINTFORM [ 0] %"好餌フラグ" , 20 , LEFT% 
CALL KOUJI_SHOW_ONOFF , GETBIT(FLAG:好餌フラグ , 0) , 1
SIF !GETBIT(FLAG:好餌フラグ , 0)
	SETCOLOR COLOR("GRAY")
PRINTFORM [ 1] %"함락자낚시자매 이벤트" , 28 , LEFT% 
CALL KOUJI_SHOW_ONOFF , GETBIT(FLAG:好餌フラグ , 1)
PRINTFORM [ 2] %"기승위이벤트" , 28 , LEFT% 
CALL KOUJI_SHOW_ONOFF , GETBIT(FLAG:好餌フラグ , 2)
PRINTFORM [ 3] %"행복의화장실이벤트" , 28 , LEFT% 
CALL KOUJI_SHOW_ONOFF , GETBIT(FLAG:好餌フラグ , 3)
RESETCOLOR
PRINTL
PRINTFORML 注意！　このイベントは対象者がランダム抽選され、エロい目に合うイベントです
PRINTFORML それぞれの対象は　0：あなた　1～3：陥落済の奴隷
PRINTFORML  
PRINTFORML  1～3については陥落種類問わず、「NTR防御服飾」未装着者が対象です
PRINTFORML  NTR防御服飾：専有奴隷の首輪、貞操の前張り、純潔のカフス、鉄壁スカート

PRINTL
PRINTFORML [100]돌아간다
REDRAW 1

;입력と処理
$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN 1
ELSEIF RESULT == 0
	INVERTBIT FLAG:好餌フラグ , 0
	IF GETBIT(FLAG:好餌フラグ , 0)
		FOR LCOUNT, 0, 9
			SETBIT FLAG:好餌フラグ , LCOUNT+1
		NEXT
	ELSE
		FLAG:好餌フラグ = 0
		FLAG:ＮＴＲ하드모드 = 0
		FLAG:ＮＴＲ손님의설정 = 0
	ENDIF
ELSEIF RANGE(RESULT , 1 , 63) && GETBIT(FLAG:好餌フラグ , 0)
	INVERTBIT FLAG:好餌フラグ , RESULT
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
REDRAW 0
CLEARLINE LINECOUNT - LOCAL
RESTART

@KOUJI_SHOW_ONOFF(ARG , ARG:1 = 0 ,  ARGS = "  ON" , ARGS:1 = " OFF")
SIF  (GETBIT(FLAG:好餌フラグ , 0) || ARG:1)
	RESETCOLOR
PRINT [
IF ARG && (GETBIT(FLAG:好餌フラグ , 0) || ARG:1)
	SETCOLOR COLOR("AQUA")
ELSE
	SETCOLOR COLOR("GRAY")
ENDIF
PRINTFORM %ARGS%
SIF  (GETBIT(FLAG:好餌フラグ , 0) || ARG:1)
	RESETCOLOR
PRINT  / 
IF !ARG &&  (GETBIT(FLAG:好餌フラグ , 0) || ARG:1)
	SETCOLOR COLOR("AQUA")
ELSE
	SETCOLOR COLOR("GRAY")
ENDIF
PRINTFORM  %ARGS:1%
SIF  (GETBIT(FLAG:好餌フラグ , 0) || ARG:1)
	RESETCOLOR
PRINTL ]

;==============================================================
;던전내조작설정
;==============================================================
@DUNGEON_COMMAND_CONFIG
#DIMS L_TEXT, 2 = "디폴트", "ＦＰＳ"
FLAG:던전내조작설정 = LIMIT(FLAG:던전내조작설정, 0, 1)
GLOBAL:던전내조작설정 = LIMIT(GLOBAL:던전내조작설정, 0, 1)
PRINTL
DRAWLINE
PRINTL 던전 안에서의 조작을 설정합니다
DRAWLINE
PRINTFORML 현재의 설정은  [%L_TEXT:(FLAG:던전내조작설정)%] 타입입니다。
PRINTFORML 현재의 공유설정은  [%L_TEXT:(GLOBAL:던전내조작설정)%] 타입입니다。
PRINTL
PRINTL [0] [디폴트] 타입으로 한다
PRINTL [1] [ＦＰＳ] 타입으로 한다
PRINTL [2] [디폴트]타입으로 한다(전세이브데이터공유)
PRINTL [3] [ＦＰＳ]타입으로 한다(전세이브데이터공유)
CALL INPUTINT,0,1,2,3
SELECTCASE RESULT
	CASE 0, 1
		FLAG:던전내조작설정 = RESULT
		PRINTFORMW  [%L_TEXT:(FLAG:던전내조작설정)%] 타입으로 설정했습니다
	CASE 2, 3
		GLOBAL:던전내조작설정 = RESULT - 2
		FLAG:던전내조작설정 = RESULT - 2
		SAVEGLOBAL
		PRINTFORMW  [%L_TEXT:(FLAG:던전내조작설정)%] 타입으로 설정했습니다
ENDSELECT

;---- EDIT 요바이불허가性別설정옵션추가(2011/03/10) ADD START ---------
;========================================================================
; 요바이불허가性別설정옵션
; キャラクタが仲魔になった時に特定の性別のキャラを自動的に
;========================================================================
@CONTROL_SELF_CONFIG
PRINTL
DRAWLINE
PRINTL 특정 성별의 캐릭터가 새로 동료마가 되었을 때, 요바이를 자동적으로 허가하지 않을 수 있습니다
DRAWLINE
PRINTFORML 현재의 불허가： [%OPTION_요바이불허가성별표시()%]
PRINTL
PRINTFORML [0] 남자(오토코노코 제외) [\@ FLAG:요바이불허가성별 & 1 ? 불허가 # 허가\@]
PRINTFORML [1] 오토코노코　         [\@ FLAG:요바이불허가성별 & 2 ? 불허가 # 허가\@]
PRINTFORML [2] 여자               [\@ FLAG:요바이불허가성별 & 4 ? 불허가 # 허가\@]
PRINTL [100] 뒤로
PRINTL
CALL INPUTINT,0,1,2,100
IF RESULT == 100
	RETURN 0
ELSE
	INVERTBIT FLAG:요바이불허가성별,RESULT
ENDIF
RESTART

;----------------------------------------------------------
@OPTION_요바이불허가성별표시
#FUNCTIONS
#LOCALSSIZE 1
SELECTCASE FLAG:요바이불허가성별
	CASE 0
		LOCALS '= "전부허가"
	CASEELSE
		LOCALS '= ""
		SIF FLAG:요바이불허가성별 & 1
			LOCALS += "♂"
		SIF FLAG:요바이불허가성별 & 4
			LOCALS += "♀"
		SIF FLAG:요바이불허가성별 & 2
			LOCALS += "？"
		LOCALS += "불허가"
ENDSELECT
RETURNF LOCALS

;----------------------------------------------------------
;커맨드의나열수の설정
;----------------------------------------------------------
@PRINTCPERLINE_SETTING
#LOCALSIZE 1
LOCAL = PRINTCPERLINE()
DRAWLINE
PRINTL 한 행에 표시하는 커맨드 갯수를 변경합니다
DRAWLINE
PRINT [0] SHOP 커맨드
IF FLAG:SHOP커맨드의나열수
	PRINTFORML [ON:{FLAG:SHOP커맨드의나열수}]
ELSE
	PRINTL [OFF]
ENDIF
PRINT [1] 조교 커맨드     
IF FLAG:조교커맨드의나열수
	PRINTFORML [ON:{FLAG:조교커맨드의나열수}]
ELSE
	PRINTL [OFF]
ENDIF
PRINTFORM %"[2] 조교 파라미터", 21, LEFT%
IF FLAG:조교파라미터의나열수
	PRINTFORML [ON:{FLAG:조교파라미터의나열수}]
ELSE
	PRINTL [OFF]
ENDIF
PRINTL [100] 돌아간다
PRINTL
CALL INPUTINT ,0,1,2,100
SELECTCASE RESULT
	CASE 100
		RETURN 0
	CASE 0
		GOTO SHOP_SET
	CASE 1
		GOTO TRAIN_SET
	CASE 2
		GOTO TRAIN_PALAM_SET
ENDSELECT

$SHOP_SET
DRAWLINE
PRINTL 한 줄에 표시되는 상점 커맨드의 숫자를 변경합니다.
PRINTL (emuera의 설정보다 높게 설정할 수 없습니다)
PRINTL 
PRINTFORML 현재 설정은 {FLAG:SHOP커맨드의나열수} 입니다
DRAWLINE
PRINTL [0] 설정을 emuera와 맞춘다
SIF LOCAL == 0 || LOCAL >= 3
	PRINTL [3] ３개 표시
SIF LOCAL == 0 || LOCAL >= 4
	PRINTL [4] ４개 표시
SIF LOCAL == 0 || LOCAL >= 5
	PRINTL [5] ５개 표시
SIF LOCAL == 0 || LOCAL >= 6
	PRINTL [6] ６개 표시
PRINTL [100] 취소
CALL INPUTINT ,0,3,4,5,6,100
SELECTCASE RESULT
	CASE 100
	
	CASE 0
		FLAG:SHOP커맨드의나열수 = (PRINTCPERLINE() > 0 ? PRINTCPERLINE() # 3)
		PRINTW 설정을 emuera와 맞췄습니다
	CASE 3 TO 6
		;emuera側の설정より大きくする事はできない
		IF LOCAL != 0 && RESULT > LOCAL
			PRINTW emuera의 설정보다 클 수 없습니다
			GOTO SHOP_SET
		ELSE
			FLAG:SHOP커맨드의나열수 = RESULT
			PRINTFORMW SHOP 커맨드를 {FLAG:SHOP커맨드의나열수}로 설정했습니다
		ENDIF
ENDSELECT
RESTART

$TRAIN_SET
DRAWLINE
PRINTL 한 줄에 표시되는 조교 커맨드의 숫자를 변경합니다
PRINTL (emuera의 설정보다 클 수 없습니다)
PRINTL 
PRINTFORML 현재 설정은 {FLAG:조교커맨드의나열수} 입니다
DRAWLINE
PRINTL [0] 설정을 emuera와 맞춘다
SIF LOCAL == 0 || LOCAL >= 3
	PRINTL [3] ３개 표시
SIF LOCAL == 0 || LOCAL >= 4
	PRINTL [4] ４개 표시
SIF LOCAL == 0 || LOCAL >= 5
	PRINTL [5] ５개 표시
SIF LOCAL == 0 || LOCAL >= 6
	PRINTL [6] ６개 표시
PRINTL [100] 취소
CALL INPUTINT ,0,3,4,5,6,100
SELECTCASE RESULT
	CASE 100
	
	CASE 0
		FLAG:조교커맨드의나열수 = (PRINTCPERLINE() > 0 ? PRINTCPERLINE() # 4)
		PRINTW 설정을 emuera와 맞췄습니다
	CASE 3 TO 6
		;emuera側の설정より大きくする事はできない
		IF LOCAL != 0 && RESULT > LOCAL
			PRINTW emuera의 설정보다 클 수 없습니다
			GOTO TRAIN_SET
		ELSE
			FLAG:조교커맨드의나열수 = RESULT
			PRINTFORMW 조교 명령 수를 {FLAG:조교커맨드의나열수}로 설정했습니다
		ENDIF
ENDSELECT
RESTART

$TRAIN_PALAM_SET
DRAWLINE
PRINTL 1행에 표시할 조교 파라미터의 수를 변경합니다
PRINTL (emuera쪽의 설정보다 크게 할 수는 없습니다)
PRINTL 
PRINTFORML 현재의 설정은 {FLAG:조교파라미터의나열수} 입니다
DRAWLINE
PRINTL [0] 설정을 era에 맞춘다
SIF LOCAL == 0 || LOCAL >= 3
	PRINTL [3] ３개로 정렬
SIF LOCAL == 0 || LOCAL >= 4
	PRINTL [4] ４개로 정렬
SIF LOCAL == 0 || LOCAL >= 5
	PRINTL [5] ５개로 정렬
SIF LOCAL == 0 || LOCAL >= 6
	PRINTL [6] ６개로 정렬
PRINTL [100] 취소
CALL INPUTINT ,0,3,4,5,6,100
SELECTCASE RESULT
	CASE 100
	CASE 0
		FLAG:조교파라미터의나열수 = (PRINTCPERLINE() > 0 ? PRINTCPERLINE() # 3)
		PRINTW 설정을 emuera와 맞췄습니다
	CASE 3 TO 6
		;emuera側の설정より大きくする事はできない
		IF LOCAL != 0 && RESULT > LOCAL
			PRINTW emuera 쪽의 설정보다 크게 할 수는 없습니다
			GOTO TRAIN_SET
		ELSE
			FLAG:조교파라미터의나열수 = RESULT
			PRINTFORMW 조교 파라미터를 정렬할 수를 {FLAG:조교파라미터의나열수}로 설정했습니다
		ENDIF
ENDSELECT
RESTART

@SHOPPRINTCPL()
#FUNCTION
IF FLAG:SHOP커맨드의나열수 == 0 
	IF PRINTCPERLINE() == 0
		RETURNF 9999
	ELSE
		RETURNF PRINTCPERLINE()
	ENDIF
ENDIF
RETURNF FLAG:SHOP커맨드의나열수

@TRAINPRINTCPL()
#FUNCTION
IF FLAG:조교커맨드의나열수 == 0
	IF PRINTCPERLINE() == 0
		RETURNF 9999
	ELSE
		RETURNF PRINTCPERLINE()
	ENDIF
ENDIF
RETURNF FLAG:조교커맨드의나열수

;===========================================================
;[26] - 리스트표시수설정
;===========================================================
;-------------------------------------------------
;関数名:리스트표시수
;概　要:리스트표시수取得関数
;引　数:なし
;戻り値:리스트표시수(10〜50)。未설정の場合は20
;備　考:式中関数
;いちいち三項書くのも面倒なのでつい
;-------------------------------------------------
@리스트표시수
#FUNCTION
RETURNF FLAG:리스트표시수설정 ? FLAG:리스트표시수설정 # 20

;===========================================================
;[27] - 합체용소프트퀵설정
;===========================================================
;-------------------------------------------------
;関数名:FSQS_BIT
;概　要:합체용소프트퀵설정管理関数
;引　数:ARG:0…インストールソフトの番号(とりあえず500〜599)
;　　　 ARG:1…[생략可]モード(-1.GET/0.GET & CHECK/1.SET/2.CLEAR/3.INVERT/4.SAVE/5.RESET)
;　　　        생략した場合は0(GET & CHECK)。ソフトを持っていない場合も0を返す
;戻り値:真偽値(0か1)。計算後のARG:0番눈のBITの상태を返す
;備　考:式中関数
;대상ソフトの설정がどうなっているか管理している関数
;細々とした기능があって無駄にややこしい作り
;他所では기본的にソフト番号だけ渡せばいいと思う
;SOFT_IS_FUSIONSOFTは別に呼ぶ필요がある(状況によって変わるので)
;-------------------------------------------------
@FSQS_BIT(ARG:0, ARG:1)
#FUNCTION
#LOCALSIZE 16
#DIM LCOUNT
#DIM LOADED
IF !LOADED
	SPLIT SAVESTR:합체용소프트퀵설정, "_", LOCALS, LOADED
	FOR LCOUNT, 0, LOADED
		SIF ISNUMERIC(LOCALS:LCOUNT) && INRANGE(TOINT(LOCALS:LCOUNT), 0, VARSIZE("LOCAL") * 64 - 1)
			SETBIT LOCAL:(TOINT(LOCALS:LCOUNT) >> 6), TOINT(LOCALS:LCOUNT) & 63
	NEXT
	LOADED = 1
ENDIF
SIF !INRANGE(ARG:0, 0, VARSIZE("LOCAL") * 64 - 1)
	THROW @FSQS_BITで範囲外のARG:0（{ARG:0}）
SELECTCASE ARG:1
	CASE -1	;GET
	CASE 0	;GET & CHECK
		RETURNF GETBIT(LOCAL:(ARG:0 >> 6), ARG:0 & 63) && ITEM:(ARG:0)
	CASE 1	;SET
		SETBIT LOCAL:(ARG:0 >> 6), ARG:0 & 63
	CASE 2	;CLEAR
		CLEARBIT LOCAL:(ARG:0 >> 6), ARG:0 & 63
	CASE 3	;INVERT
		INVERTBIT LOCAL:(ARG:0 >> 6), ARG:0 & 63
	CASE 4	;SAVE
		LOCALS:0 '= ""
		FOR LCOUNT, 500, 600
			SIF GETBIT(LOCAL:(LCOUNT >> 6), LCOUNT & 63)
				LOCALS:0 += "_" + TOSTR(LCOUNT)
		NEXT
		SAVESTR:합체용소프트퀵설정 '= LOCALS:0
	CASE 5	;RESET
		VARSET LOCAL
		SAVESTR:합체용소프트퀵설정 '= ""
	CASEELSE
		THROW @FSQS_BITで正体불명のARG:1（{ARG:1}）
ENDSELECT
RETURNF GETBIT(LOCAL:(ARG:0 >> 6), ARG:0 & 63)

;-------------------------------------------------
;関数名:합체용소프트퀵설정
;概　要:합체용소프트퀵설정メイン関数
;引　数:なし
;戻り値:なし(RESULT保護)
;この作りなら合体用ソフトが増えても平気なはず…
;-------------------------------------------------
@합체용소프트퀵설정
#LOCALSIZE 6
IF !LOCAL:1
	LOCAL:1 = 1					;初回済みフラグ
	LOCAL:2 = RESULT			;RESULT保護
	LOCAL:3 = CURRENTREDRAW()	;REDRAW値
	LOCAL:4 = GETCOLOR()		;色値
	REDRAW 2
ENDIF
LOCAL:5 = LINECOUNT				;行数
PRINTL 통합 목록 아래쪽에 표시하고 싶은 소프트웨어를 선택하세요
DRAWLINE
FOR LOCAL:0, 500, 600
	IF ITEM:(LOCAL:0) && SOFT_IS_FUSIONSOFT(LOCAL:0)
		SETCOLOR FSQS_BIT(LOCAL:0) ? LOCAL:4 # COLOR("gray")
		PRINTFORM [{LOCAL:0}] %ITEMNAME:(LOCAL:0), 20, LEFT% \@ FSQS_BIT(LOCAL:0) ? [ ON] # [OFF] \@
		CALLFORM SOFT_EXPLAIN_{LOCAL:0}
		SETCOLOR LOCAL:4
	ENDIF
NEXT
DRAWLINE
PRINTL [  0] 돌아간다
DO
	INPUT
	SIF RESULT && (ITEM:RESULT !| SOFT_IS_FUSIONSOFT(RESULT))
		CLEARLINE 1
LOOP RESULT && (ITEM:RESULT !| SOFT_IS_FUSIONSOFT(RESULT))
IF RESULT
	CALLF FSQS_BIT(RESULT, 3)	;INVERT
	CLEARLINE LINECOUNT - LOCAL:5
	RESTART
ENDIF
;後始末
LOCAL:1 = 0				;フラグ折る
REDRAW LOCAL:3			;REDRAW戻す
CALLF FSQS_BIT(0, 4)	;SAVE
RETURN LOCAL:2			;RESULTを返す



;=====================================
;[28]스테이터스화면설정
;=====================================
@SHOW_STATUS_CONFIG
#LOCALSIZE 2
#DIM LCOUNT
LOCAL = LINECOUNT
REDRAW 0
;표시
DRAWLINE
PRINTL 스테이터스 화면 / 장비 변경 화면 등의 표시 유형을 설정합니다.
PRINTL
PRINTL [캐릭터] 옛날부터 해오던 표시 방식입니다.
PRINTL [창] 스테이터스 정보가 창 화면에 들어있는 새로운 표시 방식입니다.
PRINTL  ※창 표시 방식은 문자 표시 방식에 비해 창 폭을 크게 확보할 필요가 있습니다.
PRINTL
PRINTL [넓게] 일부 변수와 문자의 표시 영역을 확장합니다.
DRAWLINE
PRINTFORM [ 0] %"능력 확인 스테이터스 화면" , 28 , LEFT% 
CALL SHOW_ONOFF , FLAG:스테이터스화면타입 , 0 , "캐릭터" , "윈도우"
PRINTFORM [ 1] %"사교의 관 스테이터스 화면" , 28 , LEFT% 
CALL SHOW_ONOFF , FLAG:스테이터스화면타입 , 1 , "캐릭터" , "윈도우"
PRINTFORM [ 2] %"장비 변경 화면" , 28 , LEFT% 
CALL SHOW_ONOFF , FLAG:스테이터스화면타입 , 2 , "캐릭터" , "윈도우"
PRINTL
PRINTL [90] 모든 캐릭터　　[91] 모든 창
PRINTL
PRINTFORM [ 3] %"일부 변수와 문자의 표시 영역" , 28 , LEFT%
CALL SHOW_ONOFF , FLAG:커스텀게임화면 , 0 , "넓게" , "보통"
IF GETBIT (FLAG:커스텀게임화면,0)
	PRINTFORM [ 4] %"스킬 이름의 표시 영역" , 28 , LEFT%
	CALL SHOW_ONOFF , FLAG:커스텀게임화면 , 1 , "넓게" , "보통"
ENDIF
DRAWLINE
PRINTFORML [100] 돌아간다
REDRAW 1
;입력と処理
$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN 1
ELSEIF RANGE(RESULT,0,2)
	INVERTBIT FLAG:스테이터스화면타입 , RESULT
ELSEIF RESULT == 3
	INVERTBIT FLAG:커스텀게임화면 , 0
	IF FLAG:커스텀게임화면 == 1
		FLAG:SHOP커맨드의나열수 = 5
		FLAG:조교커맨드의나열수 = 5
		FLAG:조교파라미터의나열수 = 5
	ELSE
		FLAG:SHOP커맨드의나열수 = 3
		FLAG:조교커맨드의나열수 = 3
		FLAG:조교파라미터의나열수 = 3
		FLAG:커스텀게임화면 = 0
	ENDIF
ELSEIF RESULT == 4
	INVERTBIT FLAG:커스텀게임화면 , 1
ELSEIF RESULT == 90
	FOR LCOUNT, 0, 3
		SETBIT FLAG:스테이터스화면타입, LCOUNT
	NEXT
ELSEIF RESULT == 91
	FLAG:스테이터스화면타입 = 0
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
REDRAW 0
CLEARLINE LINECOUNT - LOCAL
RESTART


@SHOW_ONOFF(ARG , ARG:1 = 0 ,  ARGS = "  ON" , ARGS:1 = " OFF")
PRINT [
IF GETBIT(ARG , ARG:1)
	SETCOLOR COLOR("AQUA")
ELSE
	SETCOLOR COLOR("GRAY")
ENDIF
PRINTFORM %ARGS%
RESETCOLOR
PRINT  / 
IF !GETBIT(ARG , ARG:1)
	SETCOLOR COLOR("AQUA")
ELSE
	SETCOLOR COLOR("GRAY")
ENDIF
PRINTFORM  %ARGS:1%
RESETCOLOR
PRINTL ]

;=====================================
;[38]화상표시설정
;=====================================
@ICON_SET
#LOCALSIZE 1
#DIM L_FLAGNO, 6
#DIMS L_ITEM, 6
#DIMS L_SELECT, 4 = "없음", "있음、화상이 없는 캐릭터는 종족 아이콘 표시", "있음、화상이 없는 캐릭터는 오니 마크 표시", "있음、모든 캐릭터에 오니 마크 표시"
REDRAW 0
;표시
DRAWLINE
PRINTL 각종 화면에서의 화상 표시를 설정합니다
PRINTL
PRINTL 셋업화면 / 셋업화면과 던전에서의 화상표시설정
PRINTL SHOP화면　　 / 메인화면에서의 파트너와 조수의 화상표시설정
PRINTL 능력확인화면　　 / 능력확인화면에서의 화상표시설정(３번째 페이지)
PRINTL 조교화면　　　　 / 조교화면에서의 파트너와 조수의화상표시설정
PRINTL 악마변신　　　　 / 초기 링크악마변신시의 셋업화면과 던전에서의 화상표시설정
PRINTL 범용악마변신　　 / 범용악마변신시의 셋업화면과 던전에서의 화상표시설정
DRAWLINE
L_FLAGNO = GETNUM(FLAG, "화상표시설정"), GETNUM(FLAG, "화상표시설정_SHOP화면"), GETNUM(FLAG, "화상표시설정_능력확인화면"), GETNUM(FLAG, "화상표시설정_조교화면"), GETNUM(FLAG, "화상표시설정_악마변신"), GETNUM(FLAG, "화상표시설정_범용악마변신")
L_ITEM '= 항목명_셋업화면, 항목명_SHOP화면, 항목명_능력확인화면, 항목명_조교화면, 항목명_악마변신, 항목명_범용악마변신
FOR LOCAL, 0, 6
	PRINTFORML [{LOCAL, 3}] - %L_ITEM:LOCAL, 24, LEFT%[%L_SELECT:(FLAG:(L_FLAGNO:LOCAL))%]
NEXT
PRINTL [100] - 돌아간다
INPUT
SELECTCASE RESULT
	CASE 100
		IF GETCONFIG("一行の高さ") != GETCONFIG("フォントサイズ")
			FOR LOCAL, 0, 6
				IF FLAG:(L_FLAGNO:LOCAL) != 0
					PRINTFORMW 행의 높이와 폰트 사이즈가 달라 화상이 정상적으로 표시되지 않습니다
					PRINTFORMW 이 기능을 사용할 떄는 emuera.config의 『행 1개 높이』와『폰트 사이즈』를 같은 수치로 해주세요
					BREAK
				ENDIF
			NEXT
		ENDIF
		RETURN
	CASE 0 TO 5
		FLAG:(L_FLAGNO:RESULT) ++
		SIF FLAG:(L_FLAGNO:RESULT) > 3
			FLAG:(L_FLAGNO:RESULT) = 0
	CASEELSE
ENDSELECT
RESTART

;----------------------------------------------------------
;SHOP커맨드リネーム
;----------------------------------------------------------
@OPTION_SHOP커맨드리네임
DRAWLINE
PRINTFORML 편집할 항목을 선택하십시오
PRINTFORML [0] %항목명_셋업화면%
PRINTFORML [1] %항목명_SHOP화면%
PRINTFORML [2] %항목명_능력확인화면%
PRINTFORML [3] %항목명_조교화면%
;---- EDIT 028 ADD START -------------------------
PRINTFORML [4] %항목명_악마변신%
PRINTFORML [5] %항목명_범용악마변신%
;---- EDIT 028 ADD END -------------------------
PRINTFORML [6] 디폴트로 되돌린다
PRINTFORML [7] 돌아간다
INPUT
SELECTCASE RESULT
	CASE 6
		항목명설정 = 0
		항목명_셋업화면 = 셋업화면
		항목명_SHOP화면 = SHOP화면
		항목명_능력확인화면 = 능력확인화면
		항목명_조교화면 = 조교화면
		항목명_악마변신 = 악마변신
		항목명_범용악마변신 = 범용악마변신
		RETURN
	CASE 7
		RETURN
ENDSELECT
PRINTL 새로운 항목 명을 입력해주세요
INPUTS
IF STRLENS(RESULTS) == 0
	PRINTL 아무것도 입력되지 않아 취소합니다
	WAITANYKEY
ELSEIF STRLENS(RESULTS) > 20
	PRINTL 항목명이 너무 깁니다. 전각 10문자, 반각 20문자까지 가능합니다
	WAITANYKEY
ELSE
	항목명설정 = 1
	SELECTCASE RESULT
		CASE 0
			항목명_셋업화면 = %RESULTS%
		CASE 1
			항목명_SHOP화면 = %RESULTS%
		CASE 2
			항목명_능력확인화면 = %RESULTS%
		CASE 3
			항목명_조교화면 = %RESULTS%
		CASE 4
			항목명_악마변신 = %RESULTS%
		CASE 5
			항목명_범용악마변신 = %RESULTS%
	ENDSELECT
ENDIF
RESTART

;==============================================================
;@합체용소프트퀵설정_OPTION
;#LOCALSIZE 1
;#LOCALSSIZE 6
;#DIM LCOUNT
;$합체용소프트퀵설정_LOOP
;LOCAL = -1
;PRINTL 合体リストの下部に표시したいソフトを選んでください
;SIF ITEM:알버트
;	LOCALS = [0] 알버트　　合体事故の発生を防ぐ。※코페르니쿠스と同時사용すると意味を為さない。
;SIF ITEM:파라켈수스
;	LOCALS:1 = [1] 파라켈수스　악마合体時、元の레벨の代わりに現在の악마の레벨を사용する。
;SIF ITEM:라플라스
;	LOCALS:2 = [2] 라플라스　　　악마合体時、레벨の高い악마が出来やすくなる。
;SIF ITEM:코페르니쿠스
;	LOCALS:3 = [3] 코페르니쿠스　악마合体時、合体事故が発生しやすくなる。※알버트と同時사용すると意味を為さない。
;SIF ITEM:고에티아
;	LOCALS:4 = [4] 고에티아　　악마合体時、通常の남자악마2身合体において合体結果「천사」を「타천사」に변경するコンバータ。
;SIF ITEM:라지엘의서
;	LOCALS:5 = [5] 라지엘의서　악마合体時、合体結果が特定の악마である場合、合体結果の악마をデビルチルドレン仕様に변경するコンバータ。
;FOR LCOUNT, 0, 6
;	;소지していない場合は飛ばす
;	STRLENFORM %LOCALS:LCOUNT%
;	SIF RESULT == 0
;		CONTINUE
;	;オンオフ판정
;	IF GETBIT(FLAG:합체용소프트퀵설정, LCOUNT) == 1
;		RESETCOLOR
;	ELSE
;		SETCOLOR COLOR("灰色")
;	ENDIF
;	PRINTFORML %LOCALS:LCOUNT%
;NEXT
;RESETCOLOR
;PRINTFORML [100] もどる
;CALL INPUTINT,0,1,2,3,4,5,100
;
;IF RESULT == 100
;	;一つでもオンにしている場合
;	FOR LCOUNT, 0, 6
;		IF GETBIT(FLAG:합체용소프트퀵설정, LCOUNT) == 1
;		PRINT ON
;			SETBIT FLAG:합체용소프트퀵설정, 6
;			RETURN
;		ENDIF
;	NEXT
;	;全てオフの場合
;	PRINT OFF
;	CLEARBIT FLAG:합체용소프트퀵설정, 6
;	RETURN
;ENDIF
;
;IF GETBIT(FLAG:합체용소프트퀵설정, RESULT) == 1
;	CLEARBIT FLAG:합체용소프트퀵설정, RESULT
;ELSE
;	SETBIT FLAG:합체용소프트퀵설정, RESULT
;ENDIF
;GOTO 합체용소프트퀵설정_LOOP
