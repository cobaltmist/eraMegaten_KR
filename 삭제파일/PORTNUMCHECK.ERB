;====================================================
@PORTNUMCHECK,ARG,ARG:1

NUMCHECKM = 0
NUMCHECKF = 0
NUMCHECKM1 = 0
NUMCHECKF1 = 0
NUMCHECKN = 0

NUMCHECKM1 = 1190000 + ARG
NUMCHECKF1 = 1200000 + ARG

;화상 다변화 개조 20190926
SELECTCASE ARG

	;그리폰/케르베로스 화상 다변화 개조 20190929
	CASE 861 TO 868, 874 TO 878
		NUMCHECKN = ARG
		
	;체페이 화상 다변화 개조 20190921
	CASE 3701 TO 3707
		NUMCHECKN = ARG
		
	;엔젤 화상 다변화 개조 20191003
	CASE 3711 TO 3718
		NUMCHECKN = ARG
		
	;쿠훌린 화상 다변화 개조 20191005
	CASE 4301
		NUMCHECKN = ARG
		
	;납치당한 이능자 화상 성별 구분 개조 20190921
	CASE 4901
		IF PORTCHECKN:(ARG:1):0 == 0
			PORTCHECKN:(ARG:1):1 = ABL:(ARG:1):115
			PORTCHECKN:(ARG:1):0 = 1
		ENDIF
		
		NUMCHECKN = ARG
		
	;링크 악마/페르소나 제외1
	CASE 3801 TO 4099
	
	;마마마 마법소녀 제외
	CASE 4390 TO 4399
	
	;동방 악마 제외1
	CASE 4801 TO 4899
	
	;내방자 제외
	CASE 5050 TO 5099
	
	;페르소나 제외2
	CASE 5501 TO 5599
	
	;아이마스 인간 제외1
	CASE 5600, 5601
	
	;동방 악마 제외2
	CASE 5801 TO 5899
	
	;동방 악마 제외3
	CASE 6801 TO 6899
	
	CASEELSE
		;개별 남성 TS화 개조 20190915
		IF EXIST_PICTURE(NUMCHECKM1)
			NUMCHECKM = 1190000 + ARG
			NUMCHECKN = ARG
		;개별 여성 TS화 개조 20190918
		ELSEIF EXIST_PICTURE(NUMCHECKF1)
			NUMCHECKF = 1200000 + ARG
			NUMCHECKN = ARG
		;개별 성별 구분 개조 20190926
		ELSE
			NUMCHECKN = ARG
		ENDIF
ENDSELECT



;====================================================
@WRITE_PORTIMG, ARG, ARG:1, ARG:3
	IF ARG:3
		FOR COUNT, 0, 6
			PRINT_IMG @"%TOSTR(ARG)%b_%TOSTR(ARG:1)%_%TOSTR(COUNT + 1)%"
		NEXT
	ELSE
		FOR COUNT, 0, 4
			PRINT_IMG @"%TOSTR(ARG)%_%TOSTR(ARG:1)%_%TOSTR(COUNT + 1)%"
		NEXT
	ENDIF



;====================================================
@WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
	IF ARG:3
		FOR COUNT, 0, 6
			PRINT_IMG @"%RACE_NAME%b_%TOSTR(ARG:1)%_%TOSTR(COUNT + 1)%"
		NEXT
	ELSE
		FOR COUNT, 0, 4
			PRINT_IMG @"%RACE_NAME%_%TOSTR(ARG:1)%_%TOSTR(COUNT + 1)%"
		NEXT
	ENDIF


;====================================================
@WRITE_MARKPORTIMG, CONDITION_NAME, ARG:1, ARG:3
	IF ARG:3
		FOR COUNT, 0, 6
			PRINT_IMG @"%CONDITION_NAME%b_%TOSTR(ARG:1)%_%TOSTR(COUNT + 1)%"
		NEXT
	ELSE
		FOR COUNT, 0, 4
			PRINT_IMG @"%CONDITION_NAME%_%TOSTR(ARG:1)%_%TOSTR(COUNT + 1)%"
		NEXT
	ENDIF



;====================================================
@SELECT_PORTIMGCCHANGE

	NUMCHECKN = 0
	$INPUT_LOOP_SELECTPORTIMG
	
	PRINTL 바꾸고 싶은 화상 종족
	PRINTL 
	PRINTL [ 1] 지모신
	PRINTL [ 2] 여신
	PRINTL [ 3] 마왕
	PRINTL [ 4] 천사
	PRINTL [ 5] 요마
	PRINTL [ 6] 요정
	PRINTL [ 7] 요귀
	PRINTL [ 8] 용왕
	PRINTL [ 9] 마수
	PRINTL [10] 요조
	PRINTL [11] 외도
	PRINTL [12] 머신
	PRINTL [13] 정령
	PRINTL [14] 귀신
	PRINTL [15] 마신
	PRINTL [16] 사신
	PRINTL [17] 타천사
	PRINTL [32] 괴이
	PRINTL [35] 반마인
	PRINTL [37] 다중 변신 악마 전용
	PRINTL [41] 마인
	PRINTL [42] 초인
	PRINTL [43] 영웅
	PRINTL 
	PRINTL [45] 인간1
	PRINTL [46] 인간2
	PRINTL [47] 이능자
	PRINTL [49] 랜덤 캐릭터
	PRINTL 
	PRINTL - EXTRA 캐릭터 화상 -
	PRINTL 
	PRINTL [48] 동방1
	PRINTL [58] 동방2
	PRINTL [68] 동방3
	PRINTL 
	PRINTL [56] 메가텐 신데마스
	PRINTL [57] 아이마스
	PRINTL [59] 신데마스 - 큐트
	PRINTL [60] 신데마스 - 쿨
	PRINTL [61] 신데마스 - 패션
	PRINTL 
	PRINTL [3385] 마녀/사역마
	PRINTL [4390] 마법소녀
	PRINTL [4981] fate
	PRINTL [4988] 기타
	PRINTL [5050] 내방자
	PRINTL 
	PRINTL [100] 돌아간다

	INPUT
	
	PRINT 입력: 
	
	SELECTCASE RESULT
		CASE 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13
			NUMCHECKN = ((RESULT - 1) * 100) + 1
		CASE 14, 15, 16, 17, 32, 35, 37, 41, 42, 43
			NUMCHECKN = (RESULT * 100) + 1
		CASE 45, 46, 47, 49
			NUMCHECKN = (RESULT * 100) + 1
		CASE 48
			NUMCHECKN = (RESULT * 100)
		CASE 58, 68
			NUMCHECKN = (RESULT * 100) + 1
		CASE 56
			NUMCHECKN = (RESULT * 100)
		CASE 57, 59, 60, 61
			NUMCHECKN = (RESULT * 100) + 1
		CASE 3385
			NUMCHECKN = 3385
		CASE 4390
			NUMCHECKN = 4390
		CASE 4981
			NUMCHECKN = 4981
		CASE 4988
			NUMCHECKN = 4988
		CASE 5050
			NUMCHECKN = 5050
		CASE 100
			RETURN
		CASEELSE
			GOTO INPUT_LOOP_SELECTPORTIMG
	ENDSELECT



;====================================================
@SELECT_RACEIMGCCHANGE

	NUMCHECKN = 0
	$INPUT_LOOP_SELECTRACEIMG
	
	PRINTL 바꾸고 싶은 화상 종족
	PRINTL 
	PRINTL [ 1] 지모신
	PRINTL [ 2] 여신
	PRINTL [ 3] 마왕
	PRINTL [ 4] 천사
	PRINTL [ 5] 요마 / 환마
	PRINTL [ 6] 요정
	PRINTL [ 7] 요귀 / 귀녀
	PRINTL [ 8] 용왕 / 용신 / 사룡
	PRINTL [ 9] 마수 / 신수 / 성수
	PRINTL [10] 요조 / 흉조 / 영조
	PRINTL [11] 외도 / 유귀 / 시귀 / ...
	PRINTL [12] 머신
	PRINTL [13] 정령
	PRINTL [14] 어령
	PRINTL [15] 귀신 / 파괴신
	PRINTL [16] 마신
	PRINTL [17] 사신
	PRINTL [18] 타천사
	PRINTL 
	PRINTL [31] 광인
	PRINTL [32] 괴이
	PRINTL [35] 반마인
	PRINTL [41] 마인
	PRINTL [42] 초인
	PRINTL [43] 영웅
	PRINTL [45] 인간 / 페르소나 사용자
	PRINTL 
	PRINTL [100] 돌아간다

	INPUT
	
	PRINT 입력: 
	
	SELECTCASE RESULT
		CASE 1 TO 18
			NUMCHECKN = 1180000 + ((RESULT - 1) * 10) 
		CASE 31, 32, 35, 41 TO 43, 45
			NUMCHECKN = 1180000 + (RESULT * 10)
		CASE 100
			RETURN
		CASEELSE
			GOTO INPUT_LOOP_SELECTRACEIMG
	ENDSELECT



;====================================================
@SELECT_TSIMGCCHANGE

	NUMCHECKN = 0
	$INPUT_LOOP_SELECTTSIMG
	
	PRINTL 바꾸고 싶은 화상 종족
	PRINTL 
	PRINTL - 남성 TS -
	PRINTL 
	PRINTL [ 3] 마왕
	PRINTL [ 4] 천사
	PRINTL [ 8] 용왕 / 마수 / 요조
	PRINTL [14] 귀신 / 마신 / 사신 / 타천사
	PRINTL [35] 반마인
	PRINTL 
	PRINTL - 여성 TS -
	PRINTL 
	PRINTL [470] 이능자 TS
	PRINTL [800] 마수 - 여성
	PRINTL 
	PRINTL - 기타 추가 화상 -
	PRINTL 
	PRINTL [1000] 체페이
	PRINTL [1100] 쿠훌린 / 엔젤 / 츠쿠요미 / 비사문천
	PRINTL [1200] 조마
	PRINTL 
	PRINTL [100] 돌아간다

	INPUT
	
	PRINT 입력: 
	
	SELECTCASE RESULT
		CASE 3, 4, 8
			NUMCHECKN = 1190000 + ((RESULT - 1) * 100) + 1
		CASE 14, 35
			NUMCHECKN = 1190000 + (RESULT * 100) + 1
		CASE 470
			NUMCHECKN = 1200000 + (RESULT * 10) + 1
		CASE 800
			NUMCHECKN = 1200000 + (RESULT) + 1
		CASE 1000
			NUMCHECKN = 1140000
		CASE 1100
			NUMCHECKN = 1140400
		CASE 1200
			NUMCHECKN = 1144400
		CASE 100
			RETURN
		CASEELSE
			GOTO INPUT_LOOP_SELECTTSIMG
	ENDSELECT



;====================================================
@WRITE_SELECTPORTIMG, B, NUMCHECKN_ARRAY
#DIM LCOUNT, 2
VARSET LOCAL

	PRINTFORML 검출 화상 갯수: {B} 개
	
	FOR LCOUNT:1, 0, B, 6
		FOR PORTLINE1, 0, 5
			PRINTL 
			FOR LCOUNT, LCOUNT:1, (LCOUNT:1) + 6
				IF EXIST_PICTURE(NUMCHECKN_ARRAY:LCOUNT)
					IF PORTLINE1 == 0
						PRINTFORM  화상 번호: {NUMCHECKN_ARRAY:LCOUNT} 	
					ELSE
						IF NUMCHECKN_ARRAY:LCOUNT >= 1000000
							PRINT       
						ELSE
							PRINT      
						ENDIF

						CALL WRITE_PORTIMG, NUMCHECKN_ARRAY:LCOUNT, PORTLINE1, 0

						SELECTCASE NUMCHECKN_ARRAY:LCOUNT
							CASE IS >= 1140000
								PRINT       
							CASE IS < 10
								PRINT  
							CASE 10 TO 99
								PRINT   
							CASE 100 TO 999
								PRINT    
							CASEELSE
								PRINT     
						ENDSELECT
						PRINT 	
					ENDIF
				ENDIF
			NEXT
		NEXT
		PRINTL 
	NEXT



;====================================================
@Anata_PORTSELECT, ARG
#DIM LCOUNT

	;화상 다변화 개조 20191006
	IF NO:ARG == 4999
		PRINTL 플레이어의 화상을 미리 준비된 예비 이미지 중에서 선택하여 사용합니다.
		
		NUMCHECKN = 0
		
		B = 0
		
		FOR LCOUNT, 0, 100
			NUMCHECKN_ARRAY:LCOUNT = 0
		NEXT
		
		
		NUMCHECKN = 1189900
		
		FOR LCOUNT, 1, 100
			IF EXIST_PICTURE(LCOUNT + NUMCHECKN)
				NUMCHECKN_ARRAY:B = (LCOUNT + NUMCHECKN)
				B++
			ENDIF
		NEXT
		
		;화상 다변화 개조 - REV123 화상 변화 이식 개조 20190928
		CALL WRITE_SELECTPORTIMG, B, NUMCHECKN_ARRAY
		
	ELSE
		PRINTL 이 캐릭터는 지금부터 화상 다변화 개조에 따른 코드를 따라 작동하게 됩니다.
	ENDIF
	PRINTL 사용을 원치 않으시거든 화상 설정을 초기화 하십시오.
	
	PORTCHECKN:ARG:2 = 1



;====================================================
@Bisamoonchun_PORTPRINT, ARG, ARG:1, ARG:2, ARG:3

	IF PORTCHECKN:(ARG:2):2 == 1
		IF TALENT:(ARG:2):140
			CALL WRITE_PORTIMG, ARG, ARG:1, ARG:3
		ELSE
			SELECTCASE GET_STATE_NUM(CFLAG:(ARG:2):1006)
				CASE 3, 15
					IF GET_STATE_NUM(CFLAG:(ARG:2):상태이상) == 15
						CONDITION_NAME = DYING
					ELSE
						CONDITION_NAME = PANIC
					ENDIF
					CALL WRITE_MARKPORTIMG, CONDITION_NAME, ARG:1, ARG:3
				CASE 2, 4 TO 9, 11 TO 14, 17 TO 20
						RACE_NAME = 비사문천d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
				CASE 1, 10, 16
						RACE_NAME = 비사문천h
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
				CASEELSE
					IF (MARK:(ARG:2):3 >= 3) || (JUEL:(ARG:2):100 > 3000)
						RACE_NAME = 비사문천d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ELSEIF (위험일(ARG:2) >= 1)
						RACE_NAME = 비사문천h
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ELSE
						RACE_NAME = 비사문천n
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ENDIF
			ENDSELECT
		ENDIF
	ELSEIF EXIST_PICTURE(NUMCHECKM) && !TALENT:(ARG:2):140
		CALL WRITE_PORTIMG, NUMCHECKM, ARG:1, ARG:3
	ELSE
		CALL WRITE_PORTIMG, ARG, ARG:1, ARG:3
	ENDIF



;====================================================
@Chefei_PORTPRINT, ARG, ARG:1, ARG:2, ARG:3

	;체페이 화상 다변화 개조 20190921
	IF TALENT:(ARG:2):140
		CALL WRITE_PORTIMG, 1200810, ARG:1,ARG:3
	ELSEIF PORTCHECKN:(ARG:2):2 == 1
		SELECTCASE CFLAG:(ARG:2):35
			;흑발
			CASE 1
				NUMCHECKN = 1140010 - 3700 + ARG
			;금발
			CASE 3
				NUMCHECKN = 1140030 - 3700 + ARG
			;분홍
			CASE 8
				NUMCHECKN = 1140080 - 3700 + ARG
			;보라
			CASE 9
				NUMCHECKN = 1140090 - 3700 + ARG
			;기본
			CASEELSE
				NUMCHECKN = 1140000 - 3700 + ARG
		ENDSELECT
		
		SELECTCASE CFLAG:(ARG:2):35
			;흑발
			CASE 1
				SELECTCASE GET_STATE_NUM(CFLAG:(ARG:2):1006)
					CASE 3, 15
						IF GET_STATE_NUM(CFLAG:(ARG:0):상태이상) == 15
							CONDITION_NAME = DYING
						ELSE
							CONDITION_NAME = PANIC
						ENDIF
						CALL WRITE_MARKPORTIMG, CONDITION_NAME, ARG:1, ARG:3
					CASE 2, 4 TO 9, 11 TO 14, 17 TO 20
						RACE_NAME = 체페이흑발d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASE 1, 10, 16
						RACE_NAME = 체페이흑발h
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASEELSE
						IF TALENT:(ARG:2):141 || (MARK:(ARG:2):3 >= 3)|| (JUEL:(ARG:2):100 > 3000)
							RACE_NAME = 체페이흑발d
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSEIF (위험일(ARG:2) >= 1)
							RACE_NAME = 체페이흑발h
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSE
							CALL WRITE_PORTIMG, NUMCHECKN, ARG:1, ARG:3
						ENDIF
				ENDSELECT
			;금발
			CASE 3
				SELECTCASE GET_STATE_NUM(CFLAG:(ARG:2):1006)
					CASE 3, 15
						IF GET_STATE_NUM(CFLAG:(ARG:0):상태이상) == 15
							CONDITION_NAME = DYING
						ELSE
							CONDITION_NAME = PANIC
						ENDIF
						CALL WRITE_MARKPORTIMG, CONDITION_NAME, ARG:1, ARG:3
					CASE 2, 4 TO 9, 11 TO 14, 17 TO 20
						RACE_NAME = 체페이금발d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASE 1, 10, 16
						RACE_NAME = 체페이금발h
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASEELSE
						IF TALENT:(ARG:2):141 || (MARK:(ARG:2):3 >= 3)|| (JUEL:(ARG:2):100 > 3000)
							RACE_NAME = 체페이금발d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ELSEIF (위험일(ARG:2) >= 1)
							RACE_NAME = 체페이금발h
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSE
							CALL WRITE_PORTIMG, NUMCHECKN, ARG:1, ARG:3
						ENDIF
				ENDSELECT
			;분홍색 머리
			CASE 8
				SELECTCASE GET_STATE_NUM(CFLAG:(ARG:2):1006)
					CASE 3, 15
						IF GET_STATE_NUM(CFLAG:(ARG:0):상태이상) == 15
							CONDITION_NAME = DYING
						ELSE
							CONDITION_NAME = PANIC
						ENDIF
						CALL WRITE_MARKPORTIMG, CONDITION_NAME, ARG:1, ARG:3
					CASE 2, 4 TO 9, 11 TO 14, 17 TO 20
						RACE_NAME = 체페이분홍d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASE 1, 10, 16
						RACE_NAME = 체페이분홍h
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASEELSE
						IF TALENT:(ARG:2):141 || (MARK:(ARG:2):3 >= 3)|| (JUEL:(ARG:2):100 > 3000)
							RACE_NAME = 체페이분홍d
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSEIF (위험일(ARG:2) >= 1)
							RACE_NAME = 체페이분홍h
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSE
							CALL WRITE_PORTIMG, NUMCHECKN, ARG:1, ARG:3
						ENDIF
				ENDSELECT
			;보라색 머리
			CASE 9
				SELECTCASE GET_STATE_NUM(CFLAG:(ARG:2):1006)
					CASE 3, 15
						IF GET_STATE_NUM(CFLAG:(ARG:0):상태이상) == 15
							CONDITION_NAME = DYING
						ELSE
							CONDITION_NAME = PANIC
						ENDIF
						CALL WRITE_MARKPORTIMG, CONDITION_NAME, ARG:1, ARG:3
					CASE 2, 4 TO 9, 11 TO 14, 17 TO 20
						RACE_NAME = 체페이보라d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASE 1, 10, 16
						RACE_NAME = 체페이보라h
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASEELSE
						IF TALENT:(ARG:2):141 || (MARK:(ARG:2):3 >= 3)|| (JUEL:(ARG:2):100 > 3000)
							RACE_NAME = 체페이보라d
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSEIF (위험일(ARG:2) >= 1)
							RACE_NAME = 체페이보라h
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSE
							CALL WRITE_PORTIMG, NUMCHECKN, ARG:1, ARG:3
						ENDIF
				ENDSELECT
			;기본
			CASEELSE
				SELECTCASE GET_STATE_NUM(CFLAG:(ARG:2):1006)
					CASE 3, 15
						IF GET_STATE_NUM(CFLAG:(ARG:0):상태이상) == 15
							CONDITION_NAME = DYING
						ELSE
							CONDITION_NAME = PANIC
						ENDIF
						CALL WRITE_MARKPORTIMG, CONDITION_NAME, ARG:1, ARG:3
					CASE 2, 4 TO 9, 11 TO 14, 17 TO 20
						RACE_NAME = 체페이기본d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASE 1, 10, 16
						RACE_NAME = 체페이기본h
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					CASEELSE
						IF TALENT:(ARG:2):141 || (MARK:(ARG:2):3 >= 3)|| (JUEL:(ARG:2):100 > 3000)
							RACE_NAME = 체페이기본d
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSEIF (위험일(ARG:2) >= 1)
							RACE_NAME = 체페이기본h
							CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
						ELSE
							CALL WRITE_PORTIMG, NUMCHECKN, ARG:1, ARG:3
						ENDIF
				ENDSELECT
		ENDSELECT
	ELSE
		CALL WRITE_PORTIMG, ARG, ARG:1, ARG:3
	ENDIF



;====================================================
@Angel_PORTPRINT, ARG, ARG:1, ARG:2, ARG:3

	IF TALENT:(ARG:2):140
		NUMCHECKN = 1200000 + ARG
		CALL WRITE_PORTIMG, NUMCHECKN, ARG:1, ARG:3
	ELSEIF PORTCHECKN:(ARG:2):2 == 1
		IF TALENT:(ARG:2):100
			SELECTCASE GET_STATE_NUM(CFLAG:(ARG:2):1006)
				CASE 3, 15
					RACE_NAME = 엔젤변이cs
					CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
				CASE 2, 4 TO 9, 11 TO 14, 17 TO 20
					RACE_NAME = 엔젤변이ds
					CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
				CASEELSE
					IF TALENT:(ARG:2):9 || TALENT:(ARG:2):141
						RACE_NAME = 엔젤변이cs
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ELSEIF (MARK:(ARG:2):3 >= 3) || (JUEL:(ARG:2):100 > 3000)
						RACE_NAME = 엔젤변이ds
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ELSE
						RACE_NAME = 엔젤변이ns
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ENDIF
			ENDSELECT
		ELSE
			SELECTCASE GET_STATE_NUM(CFLAG:(ARG:2):1006)
				CASE 3, 15
					RACE_NAME = 엔젤변이c
					CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
				CASE 2, 4 TO 9, 11 TO 14, 17 TO 20
					RACE_NAME = 엔젤변이d
					CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
				CASE 1, 10, 16
					RACE_NAME = 엔젤변이h
					CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
				CASEELSE
					IF TALENT:(ARG:2):9 || TALENT:(ARG:2):141
						RACE_NAME = 엔젤변이c
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ELSEIF (MARK:(ARG:2):3 >= 3)
						RACE_NAME = 엔젤변이d
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ELSEIF (위험일(ARG:2) >= 1)
						RACE_NAME = 엔젤변이h
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ELSE
						RACE_NAME = 엔젤변이n
						CALL WRITE_RACEPORTIMG, RACE_NAME, ARG:1, ARG:3
					ENDIF
			ENDSELECT
		ENDIF
		
	ELSE
		CALL WRITE_PORTIMG, ARG, ARG:1, ARG:3
	ENDIF